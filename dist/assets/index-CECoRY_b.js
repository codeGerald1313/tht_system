import{I as P}from"./index-BffMpWx5.js";/* empty css                                              */import{B as $}from"./index-CvW4wJPB.js";import{T as de}from"./Table-DeKGPd3l.js";import{C as X}from"./index-COOwjdNO.js";import{D as Y}from"./index-Bs_uOHMv.js";import{P as ce}from"./index-DEP2tP3N.js";import{P as Z}from"./index-Dr9vJUyq.js";import{u as G}from"./project-BEvoPr6t.js";import{I as w}from"./index-2H-cusMd.js";import{u as ee,b as A,s as V,y as U,o as h,d as b,e as t,g as u,f as o,k as e,W as ue,a2 as me,w as E,B as j,_ as Q,z as te,c as D,t as k,q as T,r as pe,C as J,a as fe,F as H,m as W,l as O,p as oe,D as _e,E as ge,h as he}from"./index-BFn_3Gdk.js";import{F as v}from"./index-z1TsTTdr.js";import{M as F}from"./index-2mWc_vCg.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vue-cleave.min-ClV1fVcS.js";/* empty css                                              */import{S as L}from"./index-BaZVwneS.js";import{u as ve}from"./useCaracteristicaStore-CMpBq380.js";import{T as ae}from"./index-DERosrGp.js";import{T as be}from"./index-BL9tae9R.js";import{T as ye}from"./index-CsPMTo4u.js";import{b as se}from"./menu-BIf-sRSE.js";import"./av-2-D6_jNZbn.js";import"./v4-D8aEg3BZ.js";import"./transition-DUAAdbaG.js";import"./focus-management-C7_eiYjk.js";import"./keyboard-CmTzE63w.js";import"./use-outside-click-RVZZ1L_X.js";import"./hidden-Br4jqfTk.js";import"./micro-task-CxIZtCgj.js";import"./open-closed-Bo1bAx4t.js";import"./use-resolve-button-type-0pot5Y2u.js";const xe={name:"object_form",id:"object_form",autocomplete:"off",class:"space-y-4"},we={class:"grid grid-cols-1 lg:grid-cols-1 gap-4"},Ce={class:"form-group col-lg-12 form__footerBtn mt-4"},Me={class:"text-right"},ke={__name:"TransportEditModal",props:{activeModal:Boolean,transportData:Object},emits:["close","updateTransportList"],setup(n,{emit:s}){G();const l=ee().headers(),g=A();V(null);const a=n,_=s,d=()=>{_("close")},i=V({id:"",owner:"",document:"",vehicle_type:"",capacity:"",license_plate:"",reference_name:"",cellphone:"",telephone:"",email:"",address:"",characteristic:"",image_id:1}),f=r=>{const C=r.target.files[0];console.log("Archivo seleccionado:",C)},c=()=>{j.post(`https://thtsystemv2.tech/public/api/v1/transports/edit/${i.value.id}`,i.value,{...l}).then(r=>{_("updateTransportList"),d(),g.success(r.data.message)}).catch(r=>{console.error("Error al guardar los datos:",r)})};return U(()=>a.transportData,r=>{r&&(i.value={...r,image_id:1})}),(r,C)=>(h(),b("div",null,[t(e(F),{activeModal:a.activeModal,onClose:d,title:"Actualizar Slider",sizeClass:"max-w-3xl",centered:""},{default:u(()=>[o("form",xe,[o("div",we,[o("div",null,[t(e(v),{label:"Imagen del Slider"},{default:u(()=>[o("input",{type:"file",class:"form-control",id:"sliderImg",name:"sliderImg",onChange:f},null,32),ue(o("input",{type:"hidden",id:"id_imagen_slider",name:"id_imagen_slider","onUpdate:modelValue":C[0]||(C[0]=M=>i.value.image_id=M)},null,512),[[me,i.value.image_id]])]),_:1})])]),o("div",Ce,[o("div",Me,[t(e($),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:E(d,["prevent"])}),t(e($),{text:"Guardar",btnClass:"btn-dark",onClick:E(c,["prevent"])})])])])]),_:1},8,["activeModal"])]))}},le=z(ke,[["__scopeId","data-v-ed6e5e8b"]]),re=Q("caracteristicas",{state:()=>({tours:[],typeOptions:[],characteristicOptions:[]}),actions:{async fetchTours(){const n=A();try{const s=await j.get("http://192.168.241.238:8001/api/v1/tours/list");return this.tours=s.data.data,n.success(s.data.message),this.tours}catch(s){return console.error("Error fetching tours:",s),s.response&&s.response.data&&s.response.data.message?n.error(s.response.data.message):n.error("An unexpected error occurred."),[]}},async fetchCharacteristicDetails(n){try{const s=await j.get(`http://192.168.241.238:8001/api/v1/caracteristicas/tour-characteristic/${n}`);return s&&s.data?s.data:null}catch(s){return console.error("Error fetching characteristic details:",s),null}},async fetchTypes(){try{const n=await j.get("http://192.168.241.238:8001/api/v1/caracteristicas/types");return n&&n.data?n.data:null}catch(n){return console.error("Error fetching types:",n),null}},async fetchCharacteristicsByType(n){try{const s=await j.get(`http://192.168.241.238:8001/api/v1/caracteristicas/filter-type/${n}`);return s&&s.data?s.data:null}catch(s){return console.error("Error fetching characteristics:",s),null}}}}),Te={name:"object_form",id:"object_form",autocomplete:"off",class:"space-y-4"},Ve={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},$e={class:"overflow-x-auto"},Ee={key:0,class:"flex items-center justify-center p-2 center-content"},Se={key:1,class:"flex items-center justify-center p-2 center-content"},De={key:2,class:"flex items-center justify-center p-2 center-content"},je={key:3,class:"flex items-center justify-center p-2 space-x-2"},Ie=["onClick"],Ae={class:"form__footerBtn mt-4"},Ue={class:"text-right"},Be={__name:"ToursAddCaracteristica",props:{activeModal:Boolean,idTour:Number},emits:["close","updateListTours"],setup(n,{emit:s}){const l=n,g=s,a=re(),_=ve(),d=V(""),i=V(""),f=V([]),c=V([]),r=V([]),C=[{label:"#",field:"tours"},{label:"Tipo",field:"type"},{label:"Categoría",field:"category"},{label:"Opción",field:"action"}],M=()=>{const p=r.value.map(y=>({id_type_characteristic:y.id_type,icono:"default-icono",descripcion:y.category})),m={id_tour:l.idTour,characteristics:p};_.saveMultipleCharacteristics(m),g("close"),g("updateListTours")};te(async()=>{try{const p=await a.fetchTypes();p&&p.status==="success"?f.value=p.data.map(m=>({value:m.id_type,label:m.type})):console.error(p?p.message:"No response from fetchTypes")}catch(p){console.error("Error fetching types:",p)}}),U(()=>l.idTour,(p,m)=>{}),U(d,async p=>{if(p)try{const m=await a.fetchCharacteristicsByType(p);m&&m.status==="success"?(c.value=m.data.map(y=>({value:y.id_characteristic,label:y.descripcion})),console.log(c.value)):(c.value=[],console.error(m.message))}catch(m){console.error("Error fetching characteristics:",m)}else c.value=[]}),U(i,async p=>{if(p)try{const m=await a.fetchCharacteristicDetails(p);if(m&&m.type_characteristic){const{descripcion:y,type_characteristic:x}=m;r.value.push({id_type:x.id_type,type:x.type,category:y,action:"Acción"})}}catch(m){console.error("Error fetching characteristic details:",m)}});const I=p=>{r.value=r.value.filter(m=>m.id!==p)},B=()=>{g("close")};return(p,m)=>{const y=D("vue-good-table");return h(),b("div",null,[t(e(F),{activeModal:l.activeModal,onClose:B,title:"Agregar Característica",sizeClass:"max-w-6xl",centered:""},{default:u(()=>[o("form",Te,[o("div",Ve,[o("div",null,[t(e(v),{label:"Seleccione Tipo"},{default:u(()=>[t(e(L),{modelValue:d.value,"onUpdate:modelValue":m[0]||(m[0]=x=>d.value=x),options:f.value},null,8,["modelValue","options"])]),_:1})]),o("div",null,[t(e(v),{label:"Característica"},{default:u(()=>[t(e(L),{modelValue:i.value,"onUpdate:modelValue":m[1]||(m[1]=x=>i.value=x),options:c.value},null,8,["modelValue","options"])]),_:1})])]),o("div",$e,[t(y,{columns:C,rows:r.value,"sort-options":{enabled:!1},class:"custom-table"},{"table-row":u(x=>[x.column.field==="tours"?(h(),b("span",Ee,k(x.row.id_type),1)):T("",!0),x.column.field==="type"?(h(),b("span",Se,k(x.row.type),1)):T("",!0),x.column.field==="category"?(h(),b("span",De,k(x.row.category),1)):T("",!0),x.column.field==="action"?(h(),b("span",je,[o("button",{type:"button",class:"bg-red-500 text-white p-3 rounded flex items-center justify-center",onClick:S=>I(x.row.id)},[t(e(P),{icon:"heroicons:trash",class:"w-7 h-7"})],8,Ie)])):T("",!0)]),_:1},8,["rows"])])]),o("div",Ae,[o("div",Ue,[t(e($),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:E(B,["prevent"])}),t(e($),{text:"Guardar Múltiples",btnClass:"btn-dark",onClick:E(M,["prevent"])})])])]),_:1},8,["activeModal"])])}}},Pe=z(Be,[["__scopeId","data-v-0107b3df"]]),ie=Q("tour",{state:()=>({tour:{id_tour:"",nombre:"",nombre_corto:"",etiqueta_al:"",imagen_portada:null,imagen_perfil:null,idioma:"Español - English",detail_portada:"",link_video:"",slug:"",price_agencia:"",price_online:"",duracion:"",id_company:"1",historia:""}}),actions:{async saveTour(){console.log(this.tour);const n=A();try{const s=new FormData;for(const g in this.tour)s.append(g,this.tour[g]);const l=await j.post("http://192.168.241.238:8001/api/v1/tours/create",s,{headers:{"Content-Type":"multipart/form-data"}});n.success(l.data.message),this.resetTour()}catch(s){console.error("Error al guardar los datos:",s),n.error("Error al guardar el tour")}},async updateTour(){const n=A();try{const s=new FormData;for(const g in this.tour)g!=="id_tour"&&s.append(g,this.tour[g]);const l=await j.post(`http://192.168.241.238:8001/api/v1/tours/edit/${this.tour.id_tour}`,s,{headers:{"Content-Type":"multipart/form-data"}});n.success(l.data.message),this.resetTour()}catch(s){console.error("Error al actualizar los datos:",s),n.error("Error al actualizar el tour")}},resetTour(){this.tour={id_tour:"",nombre:"",nombre_corto:"",etiqueta_al:"",imagen_portada:null,imagen_perfil:null,idioma:"Español - English",detail_portada:"",link_video:"",slug:"",price_agencia:"",price_online:"",duracion:"",id_company:"1",historia:""}}}}),Le={name:"form_tours",id:"form_tours",autocomplete:"off",class:"space-y-4"},Fe={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},ze={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Oe={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Ge={class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},Ne={class:"grid grid-cols-1 gap-4"},qe={class:"form__footerBtn mt-4"},Re={class:"text-right"},He={__name:"ToursEditModal",props:{activeModal:Boolean,dataEditModal:Object},emits:["close","updateListTours"],setup(n,{emit:s}){const l=n,g=s;G();const a=ie(),_=()=>{g("close")},d=()=>{a.tour.id_tour?(a.updateTour(),g("close"),g("updateListTours")):a.saveTour()},i=(f,c)=>{const r=f.target.files[0];a.tour[c]=r};return U(()=>l.dataEditModal,f=>{f&&Object.keys(f).length>0&&(a.tour={...f})},{immediate:!0}),(f,c)=>(h(),b("div",null,[t(e(F),{activeModal:l.activeModal,onClose:_,title:"Editar Tour",sizeClass:"max-w-6xl",centered:""},{default:u(()=>[o("form",Le,[o("div",Fe,[t(e(v),{label:"Nombre Tour"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(a).tour.nombre,"onUpdate:modelValue":c[0]||(c[0]=r=>e(a).tour.nombre=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),t(e(v),{label:"Nombre Corto"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(a).tour.nombre_corto,"onUpdate:modelValue":c[1]||(c[1]=r=>e(a).tour.nombre_corto=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),t(e(v),{label:"Etiqueta Baja"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(a).tour.etiqueta_al,"onUpdate:modelValue":c[2]||(c[2]=r=>e(a).tour.etiqueta_al=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})]),o("div",ze,[t(e(v),{label:"Imagen Portada"},{default:u(()=>[t(e(w),{type:"file",onChange:c[3]||(c[3]=r=>i(r,"imagen_portada"))})]),_:1}),t(e(v),{label:"Imagen Perfil"},{default:u(()=>[t(e(w),{type:"file",onChange:c[4]||(c[4]=r=>i(r,"imagen_perfil"))})]),_:1}),t(e(v),{label:"Idioma"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(a).tour.idioma,"onUpdate:modelValue":c[5]||(c[5]=r=>e(a).tour.idioma=r),modelModifiers:{trim:!0},value:"Español - English"},null,8,["modelValue"])]),_:1})]),o("div",Oe,[t(e(v),{label:"Texto Portada"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(a).tour.detail_portada,"onUpdate:modelValue":c[6]||(c[6]=r=>e(a).tour.detail_portada=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),t(e(v),{label:"Link Video"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(a).tour.link_video,"onUpdate:modelValue":c[7]||(c[7]=r=>e(a).tour.link_video=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),t(e(v),{label:"Slug"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(a).tour.slug,"onUpdate:modelValue":c[8]||(c[8]=r=>e(a).tour.slug=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})]),o("div",Ge,[t(e(v),{label:"Precio Online"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(a).tour.price_agencia,"onUpdate:modelValue":c[9]||(c[9]=r=>e(a).tour.price_agencia=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),t(e(v),{label:"Precio Oficina"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(a).tour.price_online,"onUpdate:modelValue":c[10]||(c[10]=r=>e(a).tour.price_online=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),t(e(v),{label:"Duración"},{default:u(()=>[t(e(L),{options:[{label:"Full Day",value:"Full Day"},{label:"Part Day",value:"Part Day"}],modelValue:e(a).tour.duracion,"onUpdate:modelValue":c[11]||(c[11]=r=>e(a).tour.duracion=r)},null,8,["modelValue"])]),_:1}),t(e(v),{label:"Agencia"},{default:u(()=>[t(e(L),{options:[{label:"Guaros Tours",value:"1"}],modelValue:e(a).tour.id_company,"onUpdate:modelValue":c[12]||(c[12]=r=>e(a).tour.id_company=r)},null,8,["modelValue"])]),_:1})]),o("div",Ne,[t(e(v),{label:"Historia"},{default:u(()=>[t(e(ae),{modelValue:e(a).tour.historia,"onUpdate:modelValue":c[13]||(c[13]=r=>e(a).tour.historia=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})]),o("div",qe,[o("div",Re,[t(e($),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:E(_,["prevent"])}),t(e($),{text:"Guardar",btnClass:"btn-dark",onClick:E(d,["prevent"])})])])])]),_:1},8,["activeModal"])]))}},ne=Q("slidersTours",{state:()=>({sliders:[]}),actions:{async fetchSliders(n){this.loading=!0;try{const s=await j.get(`http://192.168.241.238:8001/api/v1/sliders-tours/list-edit/${n}`);s.data.status==="success"?this.sliders=s.data.data:A().error("No sliders found for the specified tour ID")}catch(s){A().error("Error fetching sliders"),console.error("Error:",s)}finally{this.loading=!1}},async uploadSliderImages(n){const s=A();try{const l=new FormData;n.images.forEach((a,_)=>{l.append(`imagenes[${_}]`,a)}),l.append("id_tour",n.id_tour),n.descripcion&&l.append("descripcion",n.descripcion);const g=await j.post("http://192.168.241.238:8001/api/v1/sliders-tours/create",l,{headers:{"Content-Type":"multipart/form-data"}});this.sliders=g.data.data,s.success("Slider images uploaded successfully!")}catch(l){console.error("Error uploading slider images:",l),s.error("Failed to upload slider images.")}},async updateSlider(n){const s=A();try{const l=new FormData;n.sliders.forEach((a,_)=>{a&&a.image&&(l.append(`imagenes[${_}][imagen]`,a.image),l.append(`imagenes[${_}][id_slider_tours]`,a.id_slider_tours))}),l.append("id_tour",n.id_tour),n.descripcion&&l.append("descripcion",n.descripcion);const g=await j.post("http://192.168.241.238:8001/api/v1/sliders-tours/edit",l,{headers:{"Content-Type":"multipart/form-data"}});this.sliders=this.sliders.map(a=>a.id_tour===n.id_tour?g.data.data:a),s.success("Slider updated successfully!")}catch(l){console.error("Error updating slider:",l),s.error("Failed to update slider.")}}}}),We={key:0},Qe={key:1},Je={key:0},Ke={class:"form-group col-lg-12 form__footerBtn mt-4"},Xe={class:"text-right"},Ye={__name:"ToursSliderAddModal",props:{activeModal:Boolean,sliderDataAddModal:Object},emits:["close","updateTransportList"],setup(n,{emit:s}){const l=n,g=s,a=[{label:"#",field:"index"},{label:"Imagen",field:"image"}],_=pe([{index:1,image:null},{index:2,image:null},{index:3,image:null},{index:4,image:null}]),d=()=>{g("close")},i=(c,r)=>{const C=c.target.files[0];C&&(_[r].image=C,console.log(_))},f=async()=>{const c=ne(),r=_.filter(M=>M.image!==null);if(r.length===0){alert("Por favor selecciona al menos una imagen");return}const C={images:r.map(M=>M.image),id_tour:l.sliderDataAddModal.id_tour,descripcion:l.sliderDataAddModal.descripcion};await c.uploadSliderImages(C),g("updateTransportList"),d()};return(c,r)=>{const C=D("vue-good-table");return h(),b("div",null,[t(e(F),{activeModal:l.activeModal,onClose:d,title:"Agregar Sliders",sizeClass:"max-w-6xl",centered:""},{default:u(()=>[o("form",{id:"formSliderImg",name:"formSliderImg",autocomplete:"off",class:"space-y-4",onSubmit:E(f,["prevent"])},[t(C,{columns:a,rows:_,"sort-options":{enabled:!1},class:"rounded-lg overflow-hidden"},{"table-row":u(M=>[M.column.field==="index"?(h(),b("span",We,k(M.row.index),1)):T("",!0),M.column.field==="image"?(h(),b("span",Qe,[t(e(be),{label:"",type:"file",onChange:I=>i(I,M.row.index-1)},null,8,["onChange"]),_[M.row.index-1].image?(h(),b("p",Je,k(_[M.row.index-1].image.name),1)):T("",!0)])):T("",!0)]),_:1},8,["rows"]),o("div",Ke,[o("div",Xe,[t(e($),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:E(d,["prevent"])}),t(e($),{text:"Guardar",btnClass:"btn-dark",type:"submit"})])])],32)]),_:1},8,["activeModal"])])}}},Ze=z(Ye,[["__scopeId","data-v-4c704b4f"]]),et={id:"formSliderImg",name:"formSliderImg",autocomplete:"off",class:"space-y-4"},tt={class:"grid grid-cols-1 gap-4"},ot={key:0,class:"flex items-center justify-center p-2"},at={key:1,class:"flex items-center justify-center p-2"},st={class:"w-32 h-20 border border-gray-300 overflow-hidden rounded-lg transition-all duration-300 hover:border-2 hover:border-gray-500"},lt=["src"],rt={key:2,class:"flex items-center justify-center p-2"},it=["onClick"],nt=o("span",null,"Edit",-1),dt={class:"form-group col-lg-12 form__footerBtn mt-4"},ct={class:"text-right"},ut={__name:"ToursSliderEditModal",props:{activeModal:Boolean,sliderDataEditModal:Object},emits:["close"],setup(n,{emit:s}){const l=A(),g=ne(),a=n,_=s,d=V([{label:"#",field:"index"},{label:"Imagen",field:"image"},{label:"Opciones",field:"action"}]),i=V([]),f=J(()=>g.sliders.map((m,y)=>({index:y+1,image:i.value[y]||`http://127.0.0.1:8001/storage/${m.imagen}`,id_slider_tours:m.id_slider_tours}))),c=V(null);let r=null;const C=(m,y)=>{r=y-1,c.value.click()},M=m=>{const y=m.target.files[0];if(y){const x=new FileReader;x.onload=()=>{i.value[r]=x.result,console.log("Imágenes actualizadas:",i.value)},x.readAsDataURL(y)}},I=()=>{_("close")},B=()=>{const m={id_tour:a.sliderDataEditModal.id_tour,sliders:i.value.map((y,x)=>{if(y!==null){const S=p(y);return{image:new File([S],"image.jpg",{type:"image/jpeg"}),id_slider_tours:g.sliders[x].id_slider_tours}}return null}).filter(y=>y!==null),descripcion:a.sliderDataEditModal.descripcion};console.log(m),g.updateSlider(m).then(()=>{I()}).catch(y=>{console.error("Error saving changes:",y),l.error("Error saving changes.")})};function p(m){const[y,x]=m.split(","),S=y.match(/:(.*?);/)[1],q=atob(x),K=[];for(let R=0;R<q.length;R++)K.push(q.charCodeAt(R));return new Blob([new Uint8Array(K)],{type:S})}return U(()=>a.sliderDataEditModal,m=>{m&&m.id_tour&&g.fetchSliders(m.id_tour)},{immediate:!0}),(m,y)=>{const x=D("vue-good-table");return h(),b("div",null,[t(e(F),{activeModal:a.activeModal,onClose:I,title:"Actualizar Sliders Imágenes",sizeClass:"max-w-2xl",centered:""},{default:u(()=>[o("form",et,[o("div",tt,[t(x,{columns:d.value,rows:f.value,"sort-options":{enabled:!1},class:"custom-table"},{"table-row":u(S=>[S.column.field=="index"?(h(),b("span",ot,k(S.row.index),1)):T("",!0),S.column.field=="image"?(h(),b("span",at,[o("div",st,[o("img",{src:S.row.image,alt:"Image",class:"w-full h-full object-cover"},null,8,lt)])])):T("",!0),S.column.field=="action"?(h(),b("span",rt,[t(e(ye),{placement:"top",arrow:"",theme:"dark"},{button:u(()=>[o("div",{class:"action-btn bg-blue-500 text-white p-2 rounded-full hover:bg-blue-600 transition-colors",onClick:E(q=>C(S.row,S.row.index),["prevent"])},[t(e(P),{icon:"heroicons:pencil-square",class:"w-6 h-6"})],8,it)]),default:u(()=>[nt]),_:2},1024)])):T("",!0)]),_:1},8,["columns","rows"])]),o("div",dt,[o("div",ct,[t(e($),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:E(I,["prevent"])}),t(e($),{text:"Guardar",btnClass:"btn-dark",onClick:E(B,["prevent"])})])]),o("input",{type:"file",ref_key:"fileInput",ref:c,onChange:M,style:{display:"none"},accept:"image/*"},null,544)])]),_:1},8,["activeModal"])])}}};ee().headers();const mt={components:{Button:$,InputGroup:w,Pagination:ce,Dropdown:Y,Icon:P,MenuItem:se,EditProject:le,Card:X,ToursAddCaracteristica:Pe,ToursSliderAddModal:Ze,ToursSliderEditModal:ut,ToursEditModal:He,ProgressBar:Z},data(){return{rows:[],transportData:{},dataEditModal:{},sliderDataEditModal:{},sliderDataAddModal:{},idTour:null,searchTerm:"",addmodalCaracteristica:!1,showEditModal:!1,showSliderEditModal:!1,showSliderAddModal:!1,columns:[{label:"#",field:"number"},{label:"Nombre",field:"nombre"},{label:"P Oline",field:"price_agencia"},{label:"P Agencia",field:"price_online"},{label:"Tiempo",field:"duracion"},{label:"Config",field:"action"}]}},created(){this.fetchTours()},methods:{async fetchTours(){const s=await re().fetchTours();this.rows=s.map((l,g)=>({...l,number:g+1}))},handleAdd(n){this.idTour=n.id_tour,this.addmodalCaracteristica=!0},handleEdit(n){this.dataEditModal=n,this.showEditModal=!0},handleImages(n){this.sliderDataEditModal=n,this.showSliderEditModal=!0},handleSlider(n){this.sliderDataAddModal=n,this.showSliderAddModal=!0},handleDelete(n){}}},pt={class:"md:flex justify-between pb-6 md:space-y-0 space-y-3 items-center"},ft=o("h5",null,"Todos los Tours",-1),_t={class:"flex items-center space-x-3"},gt={class:"overflow-x-auto"},ht={key:0,class:"flex items-center justify-center p-2"},vt={key:1,class:"flex items-center justify-center p-2"},bt={key:2,class:"flex items-center justify-center p-2"},yt={key:3,class:"flex items-center justify-center p-2"},xt={key:4,class:"flex items-center justify-center p-2"},wt={key:5,class:"flex items-center justify-center p-2 space-x-2"},Ct=["onClick"],Mt=["onClick"],kt=["onClick"],Tt=["onClick"],Vt=["onClick"];function $t(n,s,l,g,a,_){const d=D("Button"),i=D("InputGroup"),f=D("Icon"),c=D("vue-good-table"),r=D("ToursAddCaracteristica"),C=D("ToursEditModal"),M=D("ToursSliderAddModal"),I=D("ToursSliderEditModal"),B=D("Card");return h(),b("div",null,[t(B,{noborder:""},{default:u(()=>[o("div",pt,[ft,o("div",_t,[t(d,{icon:"heroicons-outline:arrows-up-down",btnClass:"btn-outline-secondary text-slate-600 dark:border-slate-700 dark:text-slate-300 font-normal btn-sm",iconClass:"text-lg",onClick:_.fetchTours},null,8,["onClick"]),t(i,{modelValue:a.searchTerm,"onUpdate:modelValue":s[0]||(s[0]=p=>a.searchTerm=p),placeholder:"Buscar Tour",type:"text",prependIcon:"heroicons-outline:search",merged:""},null,8,["modelValue"])])]),o("div",gt,[t(c,{columns:a.columns,rows:a.rows,"search-options":{enabled:!0,externalQuery:a.searchTerm},"sort-options":{enabled:!1},class:"custom-table"},{"table-row":u(p=>[p.column.field==="number"?(h(),b("span",ht,k(p.row.number),1)):T("",!0),p.column.field==="nombre"?(h(),b("span",vt,k(p.row.nombre),1)):T("",!0),p.column.field==="price_online"?(h(),b("span",bt,k(p.row.price_online),1)):T("",!0),p.column.field==="price_agencia"?(h(),b("span",yt,k(p.row.price_agencia),1)):T("",!0),p.column.field==="duracion"?(h(),b("span",xt,k(p.row.duracion),1)):T("",!0),p.column.field==="action"?(h(),b("span",wt,[o("button",{type:"button",class:"bg-neutral-900 text-white p-3 rounded flex items-center justify-center",onClick:m=>_.handleAdd(p.row)},[t(f,{icon:"heroicons:plus",class:"w-7 h-7"})],8,Ct),o("button",{type:"button",class:"bg-blue-500 text-white p-3 rounded flex items-center justify-center",onClick:m=>_.handleEdit(p.row)},[t(f,{icon:"heroicons:pencil-square",class:"w-7 h-7"})],8,Mt),o("button",{type:"button",class:"bg-yellow-500 text-white p-3 rounded flex items-center justify-center",onClick:m=>_.handleImages(p.row)},[t(f,{icon:"heroicons:photo",class:"w-7 h-7"})],8,kt),o("button",{type:"button",class:"bg-green-500 text-white p-3 rounded flex items-center justify-center",onClick:m=>_.handleSlider(p.row)},[t(f,{icon:"heroicons:camera",class:"w-7 h-7"})],8,Tt),o("button",{type:"button",class:"bg-red-500 text-white p-3 rounded flex items-center justify-center",onClick:m=>_.handleDelete(p.row.id)},[t(f,{icon:"heroicons:trash",class:"w-7 h-7"})],8,Vt)])):T("",!0)]),_:1},8,["columns","rows","search-options"]),t(r,{activeModal:a.addmodalCaracteristica,onClose:s[1]||(s[1]=p=>a.addmodalCaracteristica=!1),idTour:a.idTour,onUpdateListTours:_.fetchTours},null,8,["activeModal","idTour","onUpdateListTours"]),t(C,{activeModal:a.showEditModal,onClose:s[2]||(s[2]=p=>a.showEditModal=!1),dataEditModal:a.dataEditModal,onUpdateListTours:_.fetchTours},null,8,["activeModal","dataEditModal","onUpdateListTours"]),t(M,{activeModal:a.showSliderAddModal,onClose:s[3]||(s[3]=p=>a.showSliderAddModal=!1),sliderDataAddModal:a.sliderDataAddModal},null,8,["activeModal","sliderDataAddModal"]),t(I,{activeModal:a.showSliderEditModal,onClose:s[4]||(s[4]=p=>a.showSliderEditModal=!1),sliderDataEditModal:a.sliderDataEditModal},null,8,["activeModal","sliderDataEditModal"])])]),_:1})])}const Et=z(mt,[["render",$t]]),N=n=>(_e("data-v-b3a9f280"),n=n(),ge(),n),St={class:"grid xl:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-5"},Dt={class:"flex justify-between items-end"},jt={class:"flex space-x-4 items-center rtl:space-x-reverse"},It={class:"flex-none"},At={class:"h-10 w-10 rounded-md text-lg bg-slate-100 text-slate-900 dark:bg-slate-600 dark:text-slate-200 flex flex-col items-center justify-center font-normal capitalize"},Ut={class:"font-medium text-base leading-6"},Bt={class:"dark:text-slate-200 text-slate-900 max-w-[160px] truncate"},Pt={class:"text-lg inline-flex flex-col items-center justify-center h-8 w-8 rounded-full bg-gray-500-f7 dark:bg-slate-900 dark:text-slate-400"},Lt=["onClick"],Ft={class:"text-base"},zt={class:"text-slate-600 dark:text-slate-400 text-sm pt-4 pb-8"},Ot={class:"flex space-x-4 rtl:space-x-reverse"},Gt=N(()=>o("span",{class:"block date-label"},"Start date",-1)),Nt={class:"block date-text"},qt=N(()=>o("span",{class:"block date-label"},"Start date",-1)),Rt={class:"block date-text"},Ht={class:"ltr:text-right rtl:text-left text-xs text-slate-600 dark:text-slate-300 mb-1 font-medium"},Wt={class:"grid grid-cols-2 gap-4 mt-6"},Qt=N(()=>o("div",{class:"text-slate-400 dark:text-slate-400 text-sm font-normal mb-3"}," Assigned to ",-1)),Jt={class:"flex justify-start -space-x-1.5 rtl:space-x-reverse"},Kt=["src","alt"],Xt=N(()=>o("div",{class:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-300 text-xs ring-2 ring-slate-100 dark:ring-slate-700 rounded-full h-6 w-6 flex flex-col justify-center items-center"}," +2 ",-1)),Yt={class:"ltr:text-right rtl:text-left"},Zt={class:"inline-flex items-center space-x-1 bg-danger-500 bg-opacity-[0.16] text-danger-500 text-xs font-normal px-2 py-1 rounded-full rtl:space-x-reverse"},eo=N(()=>o("span",null,"days left",-1)),to={__name:"Projects-grid",setup(n){const s=G(),l=fe(),g=J(()=>s.projects),a=(d,i)=>{const f=new Date(d);return new Date(i).getDate()-f.getDate()},_=V([{name:"view",icon:"heroicons:eye",doit:()=>{l.push("/app/project-details")}},{name:"Edit",icon:"heroicons-outline:pencil-alt",doit:d=>{s.updateProject(d)}},{name:"Delete",icon:"heroicons-outline:trash",doit:d=>{s.removeProject(d)}}]);return(d,i)=>(h(),b("div",St,[(h(!0),b(H,null,W(g.value,(f,c)=>(h(),O(e(X),{bodyClass:"p-6",key:c},{default:u(()=>[o("header",Dt,[o("div",jt,[o("div",It,[o("div",At,k(f.name.charAt(0)+f.name.charAt(1)),1)]),o("div",Ut,[o("div",Bt,k(f.name),1)])]),o("div",null,[t(e(Y),{classMenuItems:" w-[130px]"},{menus:u(()=>[(h(!0),b(H,null,W(_.value,(r,C)=>(h(),O(e(se),{key:C},{default:u(()=>[o("div",{onClick:M=>r.doit(f),class:oe(`
                
                  hover:bg-slate-900 dark:hover:bg-slate-600 dark:hover:bg-opacity-70 hover:text-white
                   w-full border-b border-b-gray-500 border-opacity-10   px-4 py-2 text-sm dark:text-slate-300  last:mb-0 cursor-pointer first:rounded-t last:rounded-b flex  space-x-2 items-center  capitalize rtl:space-x-reverse `)},[o("span",Ft,[t(e(P),{icon:r.icon},null,8,["icon"])]),o("span",null,k(r.name),1)],8,Lt)]),_:2},1024))),128))]),default:u(()=>[o("span",Pt,[t(e(P),{icon:"heroicons-outline:dots-vertical"})])]),_:2},1024)])]),o("div",zt,k(f.des),1),o("div",Ot,[o("div",null,[Gt,o("span",Nt,k(f.startDate),1)]),o("div",null,[qt,o("span",Rt,k(f.endDate),1)])]),o("div",Ht,k(f.progress)+"% ",1),t(e(Z),{value:f.progress,barColor:"bg-primary-500"},null,8,["value"]),o("div",Wt,[o("div",null,[Qt,o("div",Jt,[(h(!0),b(H,null,W(f.assignto,(r,C)=>(h(),b("div",{class:"h-6 w-6 rounded-full ring-1 ring-slate-100",key:C},[o("img",{src:r.image,alt:r.title,class:"w-full h-full rounded-full"},null,8,Kt)]))),128)),Xt])]),o("div",Yt,[o("span",Zt,[o("span",null,[t(e(P),{icon:"heroicons-outline:clock"})]),o("span",null,k(a(f.startDate,f.endDate)),1),eo])])])]),_:2},1024))),128))]))}},oo=z(to,[["__scopeId","data-v-b3a9f280"]]),ao={name:"form_tours",id:"form_tours",autocomplete:"off",class:"space-y-4"},so={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},lo={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},ro={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},io={class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},no={class:"grid grid-cols-1 gap-4"},co={class:"form__footerBtn mt-4"},uo={class:"text-right"},mo={__name:"TransportAddModal",setup(n){const s=G(),l=ie(),g=()=>{s.closeModal()},a=(_,d)=>{const i=_.target.files[0];l.tour[d]=i};return(_,d)=>(h(),b("div",null,[t(e(F),{activeModal:e(s).addmodal,onClose:e(s).closeModal,title:"Registrar Nuevo Tour",sizeClass:"max-w-6xl",centered:""},{default:u(()=>[o("form",ao,[o("div",so,[t(e(v),{label:"Nombre Tour"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(l).tour.nombre,"onUpdate:modelValue":d[0]||(d[0]=i=>e(l).tour.nombre=i),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),t(e(v),{label:"Nombre Corto"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(l).tour.nombre_corto,"onUpdate:modelValue":d[1]||(d[1]=i=>e(l).tour.nombre_corto=i),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),t(e(v),{label:"Etiqueta Baja"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(l).tour.etiqueta_al,"onUpdate:modelValue":d[2]||(d[2]=i=>e(l).tour.etiqueta_al=i),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})]),o("div",lo,[t(e(v),{label:"Imagen Portada"},{default:u(()=>[t(e(w),{type:"file",onChange:d[3]||(d[3]=i=>a(i,"imagen_portada"))})]),_:1}),t(e(v),{label:"Imagen Perfil"},{default:u(()=>[t(e(w),{type:"file",onChange:d[4]||(d[4]=i=>a(i,"imagen_perfil"))})]),_:1}),t(e(v),{label:"Idioma"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(l).tour.idioma,"onUpdate:modelValue":d[5]||(d[5]=i=>e(l).tour.idioma=i),modelModifiers:{trim:!0},value:"Español - English"},null,8,["modelValue"])]),_:1})]),o("div",ro,[t(e(v),{label:"Texto Portada"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(l).tour.detail_portada,"onUpdate:modelValue":d[6]||(d[6]=i=>e(l).tour.detail_portada=i),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),t(e(v),{label:"Link Video"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(l).tour.link_video,"onUpdate:modelValue":d[7]||(d[7]=i=>e(l).tour.link_video=i),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),t(e(v),{label:"Slug"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(l).tour.slug,"onUpdate:modelValue":d[8]||(d[8]=i=>e(l).tour.slug=i),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})]),o("div",io,[t(e(v),{label:"Precio Online"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(l).tour.price_agencia,"onUpdate:modelValue":d[9]||(d[9]=i=>e(l).tour.price_agencia=i),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),t(e(v),{label:"Precio Oficina"},{default:u(()=>[t(e(w),{type:"text",modelValue:e(l).tour.price_online,"onUpdate:modelValue":d[10]||(d[10]=i=>e(l).tour.price_online=i),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),t(e(v),{label:"Duración"},{default:u(()=>[t(e(L),{options:[{label:"Full Day",value:"Full Day"},{label:"Part Day",value:"Part Day"}],modelValue:e(l).tour.duracion,"onUpdate:modelValue":d[11]||(d[11]=i=>e(l).tour.duracion=i)},null,8,["modelValue"])]),_:1}),t(e(v),{label:"Agencia"},{default:u(()=>[t(e(L),{options:[{label:"Guaros Tours",value:"1"}],modelValue:e(l).tour.id_company,"onUpdate:modelValue":d[12]||(d[12]=i=>e(l).tour.id_company=i)},null,8,["modelValue"])]),_:1})]),o("div",no,[t(e(v),{label:"Historia"},{default:u(()=>[he("row "),t(e(ae),{modelValue:e(l).tour.historia,"onUpdate:modelValue":d[13]||(d[13]=i=>e(l).tour.historia=i),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})]),o("div",co,[o("div",uo,[t(e($),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:E(g,["prevent"])}),t(e($),{text:"Guardar",btnClass:"btn-dark",onClick:E(e(l).saveTour,["prevent"])},null,8,["onClick"])])])])]),_:1},8,["activeModal","onClose"])]))}},po=z(mo,[["__scopeId","data-v-97226bd2"]]),fo={class:"flex flex-wrap justify-between items-center mb-4"},Wo={__name:"index",setup(n){const s=G();let l=V("list");const g=()=>{s.openProject()},a=V(0),_=()=>{a.value=window.innerWidth};te(()=>{window.addEventListener("resize",_),_()});const d=J(()=>s.projects),i=V(!0),f=V(!1);return setTimeout(()=>{i.value=!1},1e3),U(l,(c,r)=>{c!==r&&(c==="list"?(i.value=!0,f.value=!1):(i.value=!1,f.value=!0),setTimeout(()=>{i.value=!1,f.value=!1},1e3))}),(c,r)=>(h(),b("div",null,[o("div",fo,[o("div",{class:oe(["md:flex md:space-x-4 md:justify-end items-center rtl:space-x-reverse",a.value<768?"space-x-rb":""])},[t(e($),{icon:"heroicons-outline:plus",text:"Nuevo",btnClass:"btn-dark dark:bg-slate-800  h-min text-sm font-normal",iconClass:" text-lg",onClick:g,isLoading:e(s).isLoading},null,8,["isLoading"])],2)]),i.value?(h(),O(e(de),{key:0,count:d.value.length},null,8,["count"])):T("",!0),e(l)==="grid"&&!f.value?(h(),O(e(oo),{key:1})):T("",!0),e(l)==="list"&&!i.value?(h(),O(e(Et),{key:2})):T("",!0),t(po),t(le)]))}};export{Wo as default};
