import{I as V}from"./index-BffMpWx5.js";/* empty css                                              */import{B as w}from"./index-CvW4wJPB.js";import{C as B}from"./index-COOwjdNO.js";import{I as M}from"./index-2H-cusMd.js";import{u as C}from"./useCaracteristicaStore-CMpBq380.js";import{y as P,o as d,d as m,e as a,g as x,f as t,k as e,q as b,w as T,c as y,t as v,a as A,C as U,s as j,F as I,m as S,l as E,p as N,D as R,E as q,z as H}from"./index-BFn_3Gdk.js";import{F as k}from"./index-z1TsTTdr.js";import{M as z}from"./index-2mWc_vCg.js";import{S as G}from"./index-BaZVwneS.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{D as Q}from"./index-Bs_uOHMv.js";import{P as W}from"./index-Dr9vJUyq.js";import{u as L}from"./project-BEvoPr6t.js";import{b as J}from"./menu-BIf-sRSE.js";import"./vue-cleave.min-ClV1fVcS.js";/* empty css                                              */import"./transition-DUAAdbaG.js";import"./focus-management-C7_eiYjk.js";import"./keyboard-CmTzE63w.js";import"./use-outside-click-RVZZ1L_X.js";import"./hidden-Br4jqfTk.js";import"./micro-task-CxIZtCgj.js";import"./open-closed-Bo1bAx4t.js";import"./av-2-D6_jNZbn.js";import"./v4-D8aEg3BZ.js";import"./use-resolve-button-type-0pot5Y2u.js";const K={name:"formModalCaracteristica",id:"formModalCaracteristica",autocomplete:"off",class:"space-y-4"},X={class:"grid grid-cols-1 gap-4"},Y={key:0,class:"text-red-500"},Z={class:"relative"},ee={class:"form-group col-lg-12 form__footerBtn mt-4"},te={class:"text-right"},se={__name:"TransportEditModal",props:{activeModal:Boolean,caracteristicaData:Object},emits:["close","updateTransportList"],setup(l,{emit:i}){const r=l,o=C(),n=i,h=()=>{n("close")},u=()=>{o.update(),n("close"),n("updateTransportList")};return P(()=>r.caracteristicaData,c=>{c&&Object.keys(c).length>0&&(o.caracteristica.id=c.id||null,o.caracteristica.descripcion=c.name||"",o.caracteristica.icono=c.icono||"icon-fab",o.caracteristica.id_type_characteristic=c.id_type_characteristic||null)},{immediate:!0}),(c,s)=>(d(),m("div",null,[a(e(z),{activeModal:r.activeModal,onClose:h,title:"Editar Característica",sizeClass:"max-w-4xl",centered:""},{default:x(()=>[t("form",K,[t("div",X,[a(e(k),{label:"Nombres"},{default:x(()=>[a(e(M),{type:"text",placeholder:"Nombre Caracteristica",modelValue:e(o).caracteristica.descripcion,"onUpdate:modelValue":s[0]||(s[0]=_=>e(o).caracteristica.descripcion=_)},null,8,["modelValue"]),e(o).isValidField("descripcion")?b("",!0):(d(),m("span",Y,"Por favor ingresa un nombre válido"))]),_:1}),a(e(k),{label:"Icono"},{default:x(()=>[a(e(M),{type:"text",placeholder:"Icono",modelValue:e(o).caracteristica.icono,"onUpdate:modelValue":s[1]||(s[1]=_=>e(o).caracteristica.icono=_)},null,8,["modelValue"])]),_:1}),a(e(k),{label:"Tipo Caracteristica"},{default:x(()=>[t("div",Z,[a(e(G),{id:"tipo",name:"tipo",modelValue:e(o).caracteristica.id_type_characteristic,"onUpdate:modelValue":s[2]||(s[2]=_=>e(o).caracteristica.id_type_characteristic=_),options:e(o).tipoCaracteristicaOptions},null,8,["modelValue","options"])])]),_:1})]),t("div",ee,[t("div",te,[a(e(w),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:T(h,["prevent"])}),a(e(w),{text:"Guardar",btnClass:"btn-dark",onClick:T(u,["prevent"])})])])])]),_:1},8,["activeModal"])]))}},O=D(se,[["__scopeId","data-v-60210b9f"]]),ae={components:{Button:w,InputGroup:M,Icon:V,Card:B,EditProject:O},data(){return{searchTerm:"",showEditModal:!1,selectedCaracteristica:null,columns:[{label:"#",field:"number"},{label:"Nombre",field:"name"},{label:"Icono",field:"icono"},{label:"Tipo",field:"tipo"},{label:"Opciones",field:"action"}]}},computed:{rows(){const l=C();return l.caracteristicas.map((i,r)=>{var o;return{number:r+1,name:i.descripcion,icono:i.icono,tipo:(o=l.tipoCaracteristicaOptions.find(n=>n.value===i.id_type_characteristic))==null?void 0:o.label,id:i.id_characteristic,id_type_characteristic:i.id_type_characteristic}})}},methods:{handleEdit(l){this.selectedCaracteristica=l,this.showEditModal=!0},handleDelete(l){if(confirm("¿Estás seguro de que deseas eliminar este registro?")){const r=C();r.deleteCaracteristica(l),r.listarCaracteristicas(),console.log(`Registro con ID: ${l} ha sido eliminado.`)}else console.log("Eliminación cancelada.")},async reloadCaracteristicasTable(){try{await C().listarCaracteristicas()}catch(l){console.error("Error al recargar Características:",l)}}},mounted(){C().listarCaracteristicas()}},oe={class:"md:flex justify-between pb-6 md:space-y-0 space-y-3 items-center"},re=t("h5",null,"Detalles de Hoteles",-1),ie={class:"flex items-center space-x-3"},ce={class:"overflow-x-auto"},le={key:0,class:"flex items-center justify-center p-2"},ne={key:1,class:"flex items-center justify-center p-2"},de={key:2,class:"flex items-center justify-center p-2"},ue={key:3,class:"flex items-center justify-center p-2"},pe={key:4,class:"flex items-center justify-center p-2 space-x-2"},me=["onClick"],_e=["onClick"];function fe(l,i,r,o,n,h){const u=y("Button"),c=y("InputGroup"),s=y("Icon"),_=y("vue-good-table"),p=y("EditProject"),g=y("Card");return d(),m("div",null,[a(g,{noborder:""},{default:x(()=>[t("div",oe,[re,t("div",ie,[a(u,{icon:"heroicons-outline:arrows-up-down",btnClass:"btn-outline-secondary text-slate-600 dark:border-slate-700 dark:text-slate-300 font-normal btn-sm",iconClass:"text-lg",onClick:h.reloadCaracteristicasTable},null,8,["onClick"]),a(c,{modelValue:n.searchTerm,"onUpdate:modelValue":i[0]||(i[0]=f=>n.searchTerm=f),placeholder:"Buscar Caracteristica",type:"text",prependIcon:"heroicons-outline:search",merged:""},null,8,["modelValue"])])]),t("div",ce,[a(_,{columns:n.columns,rows:h.rows,"search-options":{enabled:!0,externalQuery:n.searchTerm},"sort-options":{enabled:!1},class:"custom-table"},{"table-row":x(f=>[f.column.field==="number"?(d(),m("span",le,v(f.row.number),1)):b("",!0),f.column.field==="name"?(d(),m("span",ne,v(f.row.name),1)):b("",!0),f.column.field==="icono"?(d(),m("span",de,v(f.row.icono),1)):b("",!0),f.column.field==="tipo"?(d(),m("span",ue,v(f.row.tipo),1)):b("",!0),f.column.field==="action"?(d(),m("span",pe,[t("button",{type:"button",class:"bg-blue-500 text-white p-3 rounded flex items-center justify-center",onClick:F=>h.handleEdit(f.row)},[a(s,{icon:"heroicons:pencil-square",class:"w-7 h-7"})],8,me),t("button",{type:"button",class:"bg-red-500 text-white p-3 rounded flex items-center justify-center",onClick:F=>h.handleDelete(f.row.id)},[a(s,{icon:"heroicons:trash",class:"w-7 h-7"})],8,_e)])):b("",!0)]),_:1},8,["columns","rows","search-options"]),a(p,{activeModal:n.showEditModal,onClose:i[1]||(i[1]=f=>n.showEditModal=!1),caracteristicaData:n.selectedCaracteristica,onUpdateTransportList:h.reloadCaracteristicasTable},null,8,["activeModal","caracteristicaData","onUpdateTransportList"])])]),_:1})])}const he=D(ae,[["render",fe]]),$=l=>(R("data-v-4784d195"),l=l(),q(),l),xe={class:"grid xl:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-5"},ve={class:"flex justify-between items-end"},be={class:"flex space-x-4 items-center rtl:space-x-reverse"},ge={class:"flex-none"},Ce={class:"h-10 w-10 rounded-md text-lg bg-slate-100 text-slate-900 dark:bg-slate-600 dark:text-slate-200 flex flex-col items-center justify-center font-normal capitalize"},ye={class:"font-medium text-base leading-6"},ke={class:"dark:text-slate-200 text-slate-900 max-w-[160px] truncate"},we={class:"text-lg inline-flex flex-col items-center justify-center h-8 w-8 rounded-full bg-gray-500-f7 dark:bg-slate-900 dark:text-slate-400"},je=["onClick"],Me={class:"text-base"},$e={class:"text-slate-600 dark:text-slate-400 text-sm pt-4 pb-8"},Ve={class:"flex space-x-4 rtl:space-x-reverse"},Te=$(()=>t("span",{class:"block date-label"},"Start date",-1)),Ee={class:"block date-text"},De=$(()=>t("span",{class:"block date-label"},"Start date",-1)),Ie={class:"block date-text"},Se={class:"ltr:text-right rtl:text-left text-xs text-slate-600 dark:text-slate-300 mb-1 font-medium"},Le={class:"grid grid-cols-2 gap-4 mt-6"},Be=$(()=>t("div",{class:"text-slate-400 dark:text-slate-400 text-sm font-normal mb-3"}," Assigned to ",-1)),Pe={class:"flex justify-start -space-x-1.5 rtl:space-x-reverse"},Ue=["src","alt"],Ne=$(()=>t("div",{class:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-300 text-xs ring-2 ring-slate-100 dark:ring-slate-700 rounded-full h-6 w-6 flex flex-col justify-center items-center"}," +2 ",-1)),ze={class:"ltr:text-right rtl:text-left"},Ge={class:"inline-flex items-center space-x-1 bg-danger-500 bg-opacity-[0.16] text-danger-500 text-xs font-normal px-2 py-1 rounded-full rtl:space-x-reverse"},Oe=$(()=>t("span",null,"days left",-1)),Fe={__name:"Projects-grid",setup(l){const i=L(),r=A(),o=U(()=>i.projects),n=(u,c)=>{const s=new Date(u);return new Date(c).getDate()-s.getDate()},h=j([{name:"view",icon:"heroicons:eye",doit:()=>{r.push("/app/project-details")}},{name:"Edit",icon:"heroicons-outline:pencil-alt",doit:u=>{i.updateProject(u)}},{name:"Delete",icon:"heroicons-outline:trash",doit:u=>{i.removeProject(u)}}]);return(u,c)=>(d(),m("div",xe,[(d(!0),m(I,null,S(o.value,(s,_)=>(d(),E(e(B),{bodyClass:"p-6",key:_},{default:x(()=>[t("header",ve,[t("div",be,[t("div",ge,[t("div",Ce,v(s.name.charAt(0)+s.name.charAt(1)),1)]),t("div",ye,[t("div",ke,v(s.name),1)])]),t("div",null,[a(e(Q),{classMenuItems:" w-[130px]"},{menus:x(()=>[(d(!0),m(I,null,S(h.value,(p,g)=>(d(),E(e(J),{key:g},{default:x(()=>[t("div",{onClick:f=>p.doit(s),class:N(`
                
                  hover:bg-slate-900 dark:hover:bg-slate-600 dark:hover:bg-opacity-70 hover:text-white
                   w-full border-b border-b-gray-500 border-opacity-10   px-4 py-2 text-sm dark:text-slate-300  last:mb-0 cursor-pointer first:rounded-t last:rounded-b flex  space-x-2 items-center  capitalize rtl:space-x-reverse `)},[t("span",Me,[a(e(V),{icon:p.icon},null,8,["icon"])]),t("span",null,v(p.name),1)],8,je)]),_:2},1024))),128))]),default:x(()=>[t("span",we,[a(e(V),{icon:"heroicons-outline:dots-vertical"})])]),_:2},1024)])]),t("div",$e,v(s.des),1),t("div",Ve,[t("div",null,[Te,t("span",Ee,v(s.startDate),1)]),t("div",null,[De,t("span",Ie,v(s.endDate),1)])]),t("div",Se,v(s.progress)+"% ",1),a(e(W),{value:s.progress,barColor:"bg-primary-500"},null,8,["value"]),t("div",Le,[t("div",null,[Be,t("div",Pe,[(d(!0),m(I,null,S(s.assignto,(p,g)=>(d(),m("div",{class:"h-6 w-6 rounded-full ring-1 ring-slate-100",key:g},[t("img",{src:p.image,alt:p.title,class:"w-full h-full rounded-full"},null,8,Ue)]))),128)),Ne])]),t("div",ze,[t("span",Ge,[t("span",null,[a(e(V),{icon:"heroicons-outline:clock"})]),t("span",null,v(n(s.startDate,s.endDate)),1),Oe])])])]),_:2},1024))),128))]))}},Ae=D(Fe,[["__scopeId","data-v-4784d195"]]),Re={name:"formModalCaracteristica",id:"formModalCaracteristica",autocomplete:"off",class:"space-y-4"},qe={class:"grid grid-cols-1 gap-4"},He={key:0,class:"text-red-500"},Qe={class:"relative"},We={class:"form-group col-lg-12 form__footerBtn mt-4"},Je={class:"text-right"},Ke={__name:"TransportAddModal",emits:["close","updateTransportList"],setup(l,{emit:i}){const r=C(),o=L(),n=i,h=()=>{try{r.save(),n("close"),n("updateTransportList")}catch(u){console.error("Error al guardar:",u),n("saveError")}};return(u,c)=>(d(),m("div",null,[a(e(z),{activeModal:e(o).addmodal,onClose:e(o).closeModal,title:"Registrar Característica",sizeClass:"max-w-4xl",centered:""},{default:x(()=>[t("form",Re,[t("div",qe,[a(e(k),{label:"Nombres"},{default:x(()=>[a(e(M),{type:"text",placeholder:"Nombre Caracteristica",modelValue:e(r).caracteristica.descripcion,"onUpdate:modelValue":c[0]||(c[0]=s=>e(r).caracteristica.descripcion=s)},null,8,["modelValue"]),e(r).isValidField("descripcion")?b("",!0):(d(),m("span",He,"Por favor ingresa un nombre válido"))]),_:1}),a(e(k),{label:"Icono"},{default:x(()=>[a(e(M),{type:"text",placeholder:"Icono",modelValue:e(r).caracteristica.icono,"onUpdate:modelValue":c[1]||(c[1]=s=>e(r).caracteristica.icono=s)},null,8,["modelValue"])]),_:1}),a(e(k),{label:"Tipo Caracteristica"},{default:x(()=>[t("div",Qe,[a(e(G),{id:"tipo",placeholder:"Seleccionar Opción",name:"tipo",modelValue:e(r).caracteristica.id_type_characteristic,"onUpdate:modelValue":c[2]||(c[2]=s=>e(r).caracteristica.id_type_characteristic=s),options:e(r).tipoCaracteristicaOptions},null,8,["modelValue","options"])])]),_:1})]),t("div",We,[t("div",Je,[a(e(w),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:T(e(r).close,["prevent"])},null,8,["onClick"]),a(e(w),{text:"Guardar",btnClass:"btn-dark",onClick:T(h,["prevent"])})])])])]),_:1},8,["activeModal","onClose"])]))}},Xe=D(Ke,[["__scopeId","data-v-277df61a"]]),Ye={class:"flex flex-wrap justify-between items-center mb-4"},Mt={__name:"index",setup(l){const i=C(),r=L();let o=j("list");const n=()=>{r.openProject()},h=()=>{try{C().listarCaracteristicas()}catch(p){console.error("Error al recargar Características:",p)}},u=j(0),c=()=>{u.value=window.innerWidth};H(()=>{window.addEventListener("resize",c),c()}),U(()=>i.projects);const s=j(!0),_=j(!1);return setTimeout(()=>{s.value=!1},1e3),P(o,(p,g)=>{p!==g&&(p==="list"?(s.value=!0,_.value=!1):(s.value=!1,_.value=!0),setTimeout(()=>{s.value=!1,_.value=!1},1e3))}),(p,g)=>(d(),m("div",null,[t("div",Ye,[t("div",{class:N(["md:flex md:space-x-4 md:justify-end items-center rtl:space-x-reverse",u.value<768?"space-x-rb":""])},[a(e(w),{icon:"heroicons-outline:plus",text:"Nuevo",btnClass:"btn-dark dark:bg-slate-800  h-min text-sm font-normal",iconClass:" text-lg",onClick:n,isLoading:e(i).isLoading},null,8,["isLoading"])],2)]),e(o)==="grid"&&!_.value?(d(),E(e(Ae),{key:0})):b("",!0),e(o)==="list"&&!s.value?(d(),E(e(he),{key:1})):b("",!0),a(Xe,{onUpdateTransportList:h}),a(O)]))}};export{Mt as default};
