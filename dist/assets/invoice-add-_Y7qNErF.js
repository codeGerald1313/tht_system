import{B as N}from"./index-DOAnfiMc.js";import{C as B}from"./index-CoHYOsAq.js";import{F as z}from"./index-B8UWVO2a.js";import{I as O}from"./index-DxXSMpKh.js";import{u as D,B as _,b as w,d as c,f as s,e as i,g as h,l as T,c as b,o as n,q as m,n as M,p as U,h as R,t as g,F as G,w as q,D as L,E as W}from"./index-CyQKzwXM.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{T as Y}from"./index-C6OqzQN-.js";import{C as J}from"./index-2iT3jdVW.js";import{I as K}from"./index-BVBpVZEi.js";import{S as Q}from"./index-Jp7OXFH1.js";import{_ as Z,C as $,A as ee,E as oe}from"./ModalAddReserve-B6EPPdMy.js";import{D as te}from"./index-Br1mhpyn.js";import{P as le}from"./index-BrRQqvEE.js";import{u as se}from"./project-7SCfM68f.js";import{V as ie}from"./VueSelect-CeaoYkHk.js";import{M as ne}from"./index-D1RHiM9F.js";import{a as ae}from"./basic-tablle-data-AN7MRnVF.js";import{b as re}from"./menu-BlqYkBdn.js";import"./vue-cleave.min-BqMPJFk5.js";/* empty css                                              */import"./index-CHzOSQ-h.js";/* empty css                                              */import"./TotalTable-Cwp9GymN.js";import"./VueSelect.vue_vue_type_style_index_0_lang-XABNT5P5.js";import"./index-B-jw8vvV.js";import"./av-2-D6_jNZbn.js";import"./v4-D8aEg3BZ.js";import"./transition-BehYXQjK.js";import"./focus-management-DKnT3RdX.js";import"./keyboard-C8YEoqI_.js";import"./use-outside-click-WivoOT8p.js";import"./hidden-1JsWbmcm.js";import"./micro-task-CxIZtCgj.js";import"./open-closed-CLDwNzJK.js";import"./user-1-Dmhlt7-s.js";import"./user-4-_9lLfOE2.js";import"./user-6-Bk4CTUVR.js";import"./use-resolve-button-type-DXZUzXBT.js";const k=D().headers(),de={components:{Dropdown:te,Select:Q,Button:N,FromGroup:z,EditProject:Z,ComisionarModal:$,AmortizarModal:ee,EditProject2:oe,Textinput:Y,Modal:ne,Checkbox:J,InputGroup:K,Icon:O,VueSelect:ie,MenuItem:re,Card:B,ProgressBar:le},data(){return{advancedTable:ae,idsReservesHotels:[],commissionIds:[],moneyIds:[],searchTerm:"",showEditModal:!1,showReserveModal:!1,selectedTour:null,store:null,formattedTotal:"S/.0.00",formattedTotalHotel:"S/.0.00",totalHotelValue:"0.00",reservasHotel:[],projects:[],filteredRows:[],includeBreakfast:!1,book:{is_breakfast:!1,nro_breakfast:"",start_breakfast:"",end_breakfast:""},guardando:!1,originsbooking:[{value:1,label:"Oficina"},{value:2,label:"Colaboradores"},{value:3,label:"Facebook"},{value:4,label:"Whatsapp"},{value:5,label:"Instagram"},{value:6,label:"Página web"}],originsReserve:[{value:5,label:"Sin Asignar"},{value:1,label:"Aeropuerto"},{value:2,label:"Terminar Terrestre"},{value:3,label:"Otros"}],toursOptions:[],customerOptions:[],showReferences:!1,nro_pax_childs:"",nro_pax_adults:"",nro_pax_olds:"",current:1,basicTableData:[{codigo:"HRS2024-000231",nombreHotel:"HOTEL POSADA LODGE (TARAPOTO)",detallehotel:"HAB. TRIPLE (AC) (2 hab. x 6 noches)",contacto:"Cel: 963122673"}],client:{document:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:"",date_birthday:""},tour:{esAbierto:null,tourDescription:null,vehiculo:null,turno:null,nPasajseros:null,fechaTour:null,observacion:null,realizado:null,totalTour:"0.00"},booking:{clients:null,phoneNumber:null,originReserve:1,numPassengers:null,referenciar:!1,numChildren:null,numAdults:null,reference_location:null,numSeniors:null,dateTimeArrival:null,dateArrival:null,timeArrival:null,arrivalBy:5,placeArrivalReference:null,voucherReference:null,is_voucher_external:null,emergencyContact:null,emergencyPhone:null,observations:null,isFavorite:!1,includeBreakfast:!1,numBreakfasts:null,startDate:null,endDate:null,total:null,totalPagado:null},perpage:3,idCliente:null,show:!1,showEdit:!1,showAmortizar:!1,showComisionar:!1,show2:!1,realizado:"--",pageRange:10,actions:[{name:"edit",icon:"heroicons:pencil-square",doit:l=>{this.openModalEdit(l)}},{name:"delete",icon:"heroicons-outline:trash",doit:l=>{this.removeProject(l)}}],vehiculos:[{value:1,label:"Compartido"},{value:2,label:"Privado"}],turnos:[{value:1,label:"Full Day"},{value:2,label:"Mañana"},{value:3,label:"Tarde"},{value:4,label:"Noche"}],columns:[{label:"¿Es Abierto?",field:"abierto"},{label:"Tours Turístico",field:"tour"},{label:"Vehículo",field:"vehiculo"},{label:"Turno",field:"turno"},{label:"N° pax",field:"pasajero"},{label:"Fecha",field:"fecha"},{label:"Observación",field:"observation"},{label:"Realizado",field:"realizado"},{label:"Action",field:"action"}],columnsReservaHotelExpense:[{label:"Habitacion",field:"habitacion"},{label:"N° PAX	",field:"pasajeross"},{label:"Cant. HAB",field:"cantidad"},{label:"Check-In",field:"checkin"},{label:"Check-out",field:"checkout"},{label:"#Noches",field:"noches"},{label:"Precio",field:"precio"},{label:"Descuento",field:"descuento"},{label:"Adicional",field:"adicional"},{label:"Observación",field:"observacion"},{label:"Subtotal",field:"subtotal"},{label:"",field:"action"}],selectedTourDescription:"",tourOptions:[],totalBooking:null,bedroomOptions:[],rows:[{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"}],columnsReservasAlojamiento:[{label:"Código",field:"code",type:"text",html:!0,width:"100px"},{label:"Nombre del Hotel",field:"nombreHotel",type:"text",html:!0,width:"150px"},{label:"Detalle del Hotel",field:"detallehotel",type:"text",html:!0,width:"250px"},{label:"Acciones",field:"action",type:"text",html:!0,width:"120px"}]}},watch:{selectedTour(l,t){l!==t&&(this.projects.find(u=>u.id===l)?w().warning("¡Este tour ya está seleccionado!"):_.get(`https://thtsystemv2.tech/public/api/v1/tours/description/${l}`,k).then(u=>{const e={id:l,description:u.data.data.description,esAbierto:null,vehiculo:1,turno:u.data.data.shift,nPasajseros:this.booking.numPassengers,fechaTour:null,observacion:null,realizado:null,totalTour:null};this.projects.push(e),console.log(this.projects)}).catch(u=>{console.error("Error al obtener la descripción del tour:",u)}))},"booking.clients":function(l,t){this.idCliente=l,_.get(`https://thtsystemv2.tech/public/api/v1/clients/cellphone&telephone/${l}`,k).then(r=>{this.booking.phoneNumber=r.data.contact_numbers}).catch(r=>{console.error("Error al obtener la descripción del tour:",r)})},"booking.dateTimeArrival"(l){if(l){const[t,r]=l.split(" ");this.booking.dateArrival=t,this.booking.timeArrival=r}else this.booking.dateArrival=null,this.booking.timeArrival=null},"tour.totalTour":function(l){const t=parseFloat(l);(!isNaN(t)||l==="")&&(this.formattedTotal="S/."+(l===""?"0.00":t.toFixed(2)))},totalHotelValue(l){const t=parseFloat(l);(!isNaN(t)||l==="")&&(this.formattedTotalHotel="S/."+(l===""?"0.00":t.toFixed(2)))}},async created(){await this.fetchClients()},computed:{totalReserva(){const l=isNaN(parseFloat(this.formattedTotal.substring(3)))?0:parseFloat(this.formattedTotal.substring(3)),t=isNaN(parseFloat(this.formattedTotalHotel.substring(3)))?0:parseFloat(this.formattedTotalHotel.substring(3)),r=l+t,u=r.toFixed(2);return this.booking.total=u,"S/."+r.toFixed(2)},limitedCustomerOptions(){return this.customerOptions.slice(0,6)}},methods:{capturarDatos(){},handleCommissionProcessed(l){const r=[l.data.commission.id];this.commissionIds=r},handleFormSubmitted(l){if(l&&l.data){const t=l.data.map(r=>r.id);this.moneyIds=t}else console.error("Invalid response data format")},handleFormSubmitted22(l){this.booking.totalPagado=l.amount},deleteProject(l){this.projects.splice(l,1)},deleteItem(l,t){window.confirm("¿Estás seguro de que deseas eliminar este elemento?")&&_.delete(`https://thtsystemv2.tech/public/api/v1/hotelsbookings/destroy/${l}`,k).then(r=>{this.reservasHotel.splice(t,1);let u=0;this.reservasHotel.forEach(a=>{u+=parseFloat(a.total)}),this.totalHotelValue=u,w().success("Elemento eliminado con éxito",{position:"top-right"})}).catch(r=>{console.error("Error al eliminar el elemento:",r),w().error("Error al eliminar el elemento",{position:"top-right"})})},handlePostComplete(l){const t=l.data;Array.isArray(t)?t.forEach(e=>{this.reservasHotel.push(e)}):this.reservasHotel.push(t);const r=this.reservasHotel.map(e=>parseFloat(e.total)),u=this.reservasHotel.map(e=>e.id);this.totalHotelValue=r.reduce((e,a)=>e+a,0),this.idsReservesHotels=u},handleAction(l){l.name==="edit"&&this.openModalEdit()},saveReserva(){if(this.guardando)return;this.guardando=!0;const l=this.booking.voucherReference?1:0,t=this.booking.includeBreakfast?1:0,r=this.booking.isFavorite?1:0,u={bookingorigin_id:this.booking.originReserve,client_id:this.booking.clients,agency_id:this.booking.agency_id,arrivalplace_id:this.booking.arrivalBy,arrival_place2:this.booking.placeArrivalReference,date_arrival:this.booking.dateArrival,time_arrival:this.booking.timeArrival,nro_pax:this.booking.numPassengers,is_reference_pax:this.booking.referenciar,nro_pax_childs:this.booking.numChildren,nro_pax_adults:this.booking.numAdults,nro_pax_olds:this.booking.numSeniors,reference_voucher:this.booking.voucherReference,is_voucher_external:l,observations:this.booking.observations,contact_emergency:this.booking.emergencyContact,telephone_emergency:this.booking.emergencyPhone,reference_location:this.booking.reference_location,subtotal_tour:this.tour.totalTour,subtotal_hotel:this.totalHotelValue,total:this.booking.total,total_paid:this.booking.totalPagado,is_favorite:r,is_breakfast:t,nro_breakfast:this.booking.numBreakfasts,start_breakfast:this.booking.startDate,end_breakfast:this.booking.endDate,tours:this.projects.map(e=>({id:e.id,vehicle_tour:e.vehiculo,shift_tour:e.turno,quantity:e.nPasajseros,date_assigned:e.date_assigned,observation:e.observacion,is_open:e.esAbierto?1:0})),hotelsbooking_ids:this.idsReservesHotels,commission_ids:this.commissionIds,money_ids:this.moneyIds};_.post("https://thtsystemv2.tech/public/api/v1/bookings/create",u,{...k}).then(e=>{w().success(e.data.message,{duration:3e3});const x=e.data.data.id;setTimeout(()=>{this.$router.push({name:"reserve-preview",params:{id:x}})},3e3)}).catch(e=>{w().error("Error al enviar los datos al backend",{duration:3e3}),this.guardando=!1})},toggleReferences(){this.showReferences=!this.showReferences},openModal(){this.showEditModal=!0},openModalEdit(){this.showEdit=!this.showEdit},openModalComisionar(){this.showComisionar=!0},openModalAmortizar(){this.idCliente=this.idCliente,this.totalBooking=this.booking.total,this.showAmortizar=!0},handleComisionEnviada(l){},openModalReservaHotel(){this.showReserveModal=!0},handleUpdateClientList(l){console.log("Datos recibidos del componente hijo:",l);const t=l.data.id;this.booking.clients=t,this.fetchClients()},async fetchClients(){try{const l=await _.get("https://thtsystemv2.tech/public/api/v1/clients/list",k);this.customerOptions=l.data.data.map(t=>({value:t.id,label:t.fullname}))}catch(l){console.error("Error fetching departments:",l)}},async fetchHotelsBooking(){try{const l=await _.get("https://thtsystemv2.tech/public/api/v1/clients/list",k);this.customerOptions=l.data.data.map(t=>({value:t.id,label:t.fullname}))}catch(l){console.error("Error fetching departments:",l)}},async fetchTours(){try{const l=await _.get("https://thtsystemv2.tech/public/api/v1/tours/list",k);this.tourOptions=l.data.data.map(t=>({value:t.id,label:t.description}))}catch(l){console.error("Error fetching tours:",l)}}},created(){this.store=se()},mounted(){this.fetchClients(),this.fetchTours()}},f=l=>(L("data-v-0dcc2d07"),l=l(),W(),l),ce={class:"flex justify-end space-x-4 mb-3"},ue={class:"text-lg"},me=f(()=>s("span",null,"Comisionar",-1)),pe={class:"text-lg"},he=f(()=>s("span",null,"Amortizar(Total)",-1)),be={class:"grid grid-cols-1 lg:grid-cols-1 gap-5"},fe={class:"grid grid-cols-3 gap-5"},ge={class:"flex items-center"},ve={class:"grid grid-cols-3 gap-5"},_e={style:{display:"flex","align-items":"center"}},ke={key:0},xe={class:"flex items-center"},ye={class:"grid grid-cols-4 gap-5"},Ve={class:"grid grid-cols-3 gap-5"},Ce={key:0,class:"form-group col-lg-9"},we={class:"flex"},Ae={class:"flex flex-col w-1/2 mr-4"},je={class:"flex flex-col w-1/2"},Te={class:"flex flex-col w-1/2"},Re={class:"grid grid-cols-1"},Pe={class:"flex flex-col"},Ue={class:"border-b border-slate-100 dark:border-slate-700 pb-3 flex justify-between items-center"},He=f(()=>s("div",{class:"flex items-center"},[s("h6",{class:"card-title mb-0"},"Datos de Tours turístico")],-1)),Me={class:"flex items-center"},Ee={class:"flex-grow mr-2"},Fe={key:0},Ie={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Se={key:4,class:"block w-full"},Ne={key:5},Be={key:6,class:"block w-full"},ze={key:7},Oe={key:0,style:{position:"relative"}},De={key:8,class:"action-btn text-end mr-3"},Ge=["onClick"],qe={class:"mt-5 self-end"},Le={class:"grid grid-cols-1"},We={class:"flex flex-col"},Xe={class:"md:flex pb-6 items-center"},Ye=f(()=>s("h6",{class:"flex-1 md:mb-0 mb-3"},"Reservas de Alojamiento",-1)),Je={class:"md:flex md:space-x-3 items-center flex-none rtl:space-x-reverse"},Ke={key:0,class:"text-blue-900 font-bold"},Qe={key:1,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},Ze={class:"font-bold"},$e=f(()=>s("br",null,null,-1)),eo={key:2,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},oo={key:3,class:"action-btn text-end mr-3"},to={class:"text-xl"},lo={class:"mt-5 self-end"},so={class:"grid grid-cols-1 lg:grid-cols-1 gap-5"},io={class:"grid grid-cols-3 gap-5"},no={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},ao=f(()=>s("div",{class:"lg:col-span-1"},null,-1)),ro={class:"lg:col-span-3 flex justify-end"},co={key:1,class:"text-green-500 font-bold animate-pulse"},uo={class:"flex justify-center"},mo={class:"flex justify-center"},po={class:"w-full"},ho=f(()=>s("th",null,"Total tours",-1)),bo=f(()=>s("th",null,"Total hotel",-1)),fo=f(()=>s("tr",null,[s("td",{colspan:"2"},[s("hr",{class:"book__summary__hrdivider"})])],-1)),go=f(()=>s("th",{class:"text-primary bold text-uppercase f-s-15"},"Total reserva",-1)),vo={class:"text-primary bold f-s-15"};function _o(l,t,r,u,e,a){const x=b("Icon"),y=b("Select"),v=b("FromGroup"),p=b("Textinput"),A=b("Checkbox"),V=b("InputGroup"),j=b("flat-pickr"),C=b("Card"),H=b("vue-good-table"),P=b("Button"),E=b("EditProject"),F=b("EditProject2"),I=b("ComisionarModal"),S=b("AmortizarModal");return n(),c("div",null,[s("div",ce,[s("button",{class:"invocie-btn inline-flex btn btn-lg whitespace-nowrap space-x-1 cursor-pointer bg-slate-700 dark:bg-white-700 btn-md h-min text-sm font-normal text-white rtl:space-x-reverse hover:bg-black",onClick:t[0]||(t[0]=o=>a.openModalComisionar())},[s("span",ue,[i(x,{icon:"heroicons-solid:cash"})]),me]),s("button",{class:"invocie-btn inline-flex btn btn-lg whitespace-nowrap space-x-1 cursor-pointer bg-slate-700 dark:bg-white-700 btn-md h-min text-sm font-normal text-white rtl:space-x-reverse hover:bg-black",onClick:t[1]||(t[1]=o=>a.openModalAmortizar())},[s("span",pe,[i(x,{icon:"heroicons-solid:banknotes"})]),he])]),i(C,{title:"Datos Generales"},{default:h(()=>[s("div",be,[s("div",fe,[s("div",ge,[i(v,{label:"Clientes",class:"flex-1"},{default:h(()=>[i(y,{options:a.limitedCustomerOptions,modelValue:e.booking.clients,"onUpdate:modelValue":t[2]||(t[2]=o=>e.booking.clients=o),class:"client-select"},null,8,["options","modelValue"])]),_:1}),s("button",{onClick:t[3]||(t[3]=(...o)=>a.openModal&&a.openModal(...o)),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),i(p,{label:"Número teléfono",type:"text",placeholder:"Tel 1",modelValue:e.booking.phoneNumber,"onUpdate:modelValue":t[4]||(t[4]=o=>e.booking.phoneNumber=o)},null,8,["modelValue"]),i(v,{label:"Origen de Reserva",class:"flex-1"},{default:h(()=>[i(y,{options:e.originsbooking,modelValue:e.booking.originReserve,"onUpdate:modelValue":t[5]||(t[5]=o=>e.booking.originReserve=o),class:"client-select"},null,8,["options","modelValue"])]),_:1})]),s("div",ve,[s("div",_e,[i(p,{label:"N° Pax",type:"text",placeholder:"N° pax",modelValue:e.booking.numPassengers,"onUpdate:modelValue":t[6]||(t[6]=o=>e.booking.numPassengers=o)},null,8,["modelValue"]),i(A,{label:"¿Referenciar?",onClick:a.toggleReferences,modelValue:e.booking.referenciar,"onUpdate:modelValue":t[7]||(t[7]=o=>e.booking.referenciar=o)},null,8,["onClick","modelValue"])]),e.booking.referenciar?(n(),c("div",ke,[i(v,{label:"Referencia de pasajeros:",class:"flex-1"},{default:h(()=>[s("div",xe,[i(V,{name:"nro_pax_childs",type:"text",placeholder:"N° niños",modelValue:e.booking.numChildren,"onUpdate:modelValue":t[8]||(t[8]=o=>e.booking.numChildren=o),prepend:"#Niños"},null,8,["modelValue"]),i(V,{name:"nro_pax_adults",type:"text",placeholder:"N° adultos",modelValue:e.booking.numAdults,"onUpdate:modelValue":t[9]||(t[9]=o=>e.booking.numAdults=o),prepend:"#Adultos"},null,8,["modelValue"]),i(V,{name:"nro_pax_olds",type:"text",placeholder:"N° ancianos",modelValue:e.booking.numSeniors,"onUpdate:modelValue":t[10]||(t[10]=o=>e.booking.numSeniors=o),prepend:"#Ancianos"},null,8,["modelValue"])])]),_:1})])):m("",!0),i(v,{label:"Fecha y hora llegada"},{default:h(()=>[i(j,{modelValue:e.booking.dateTimeArrival,"onUpdate:modelValue":t[11]||(t[11]=o=>e.booking.dateTimeArrival=o),class:"form-control",placeholder:"Fecha & Hora",id:"d2",config:{enableTime:!0,dateFormat:"Y-m-d H:i"}},null,8,["modelValue"])]),_:1}),i(v,{label:"Llegada por"},{default:h(()=>[i(y,{options:e.originsReserve,modelValue:e.booking.arrivalBy,"onUpdate:modelValue":t[12]||(t[12]=o=>e.booking.arrivalBy=o),class:"client-select"},null,8,["options","modelValue"])]),_:1}),i(p,{label:"Referencia lugar llegada",type:"text",placeholder:"Referencia lugar llegada",modelValue:e.booking.placeArrivalReference,"onUpdate:modelValue":t[13]||(t[13]=o=>e.booking.placeArrivalReference=o)},null,8,["modelValue"])]),s("div",ye,[i(p,{label:"N° ref. comprobante",type:"text",placeholder:"N° ref. comprobante",modelValue:e.booking.voucherReference,"onUpdate:modelValue":t[14]||(t[14]=o=>e.booking.voucherReference=o)},null,8,["modelValue"]),i(p,{label:"Contacto emergencia",type:"text",placeholder:"Contacto emergencia",modelValue:e.booking.emergencyContact,"onUpdate:modelValue":t[15]||(t[15]=o=>e.booking.emergencyContact=o)},null,8,["modelValue"]),i(p,{label:"Tel. emergencia",type:"text",placeholder:"Tel. emergencia",modelValue:e.booking.emergencyPhone,"onUpdate:modelValue":t[16]||(t[16]=o=>e.booking.emergencyPhone=o)},null,8,["modelValue"]),i(p,{label:"Observaciones",type:"text",placeholder:"Observaciones",modelValue:e.booking.observations,"onUpdate:modelValue":t[17]||(t[17]=o=>e.booking.observations=o)},null,8,["modelValue"])]),s("div",Ve,[s("div",null,[i(A,{label:"¿Es favorito (reserva)?",modelValue:e.booking.isFavorite,"onUpdate:modelValue":t[18]||(t[18]=o=>e.booking.isFavorite=o)},null,8,["modelValue"])]),s("div",null,[i(A,{label:"¿Incluye desayuno?",modelValue:e.booking.includeBreakfast,"onUpdate:modelValue":t[19]||(t[19]=o=>e.booking.includeBreakfast=o)},null,8,["modelValue"])]),e.booking.includeBreakfast?(n(),c("div",Ce,[s("div",we,[s("div",Ae,[i(p,{label:"N° Desayunos",type:"text",placeholder:"Ingrese número",modelValue:e.booking.numBreakfasts,"onUpdate:modelValue":t[20]||(t[20]=o=>e.booking.numBreakfasts=o)},null,8,["modelValue"])]),s("div",je,[i(v,{label:"Fecha Inicio",name:"d1"},{default:h(()=>[i(j,{modelValue:e.booking.startDate,"onUpdate:modelValue":t[21]||(t[21]=o=>e.booking.startDate=o),class:"form-control",id:"d1",placeholder:"yyyy, dd M"},null,8,["modelValue"])]),_:1})]),s("div",Te,[i(v,{label:"Fecha Fin",name:"d1"},{default:h(()=>[i(j,{modelValue:e.booking.endDate,"onUpdate:modelValue":t[22]||(t[22]=o=>e.booking.endDate=o),class:"form-control",id:"d1",placeholder:"yyyy, dd M"},null,8,["modelValue"])]),_:1})])])])):m("",!0)])])]),_:1}),i(C,{class:"mt-4",noborder:""},{default:h(()=>[s("div",Re,[s("div",Pe,[s("header",Ue,[He,s("div",Me,[s("div",Ee,[i(y,{options:e.tourOptions,modelValue:e.selectedTour,"onUpdate:modelValue":t[23]||(t[23]=o=>e.selectedTour=o),placeholder:"Seleccionar Tipo",class:"w-full"},null,8,["options","modelValue"])])])]),i(H,{class:"-mx-6 mb-5",columns:e.columns,styleClass:"vgt-table table-head v-middle striped lesspadding2 listview",rows:e.projects,"pagination-options":{enabled:!1,perPage:e.perpage},"sort-options":{enabled:!1}},{"table-row":h(o=>[o.column.field=="abierto"?(n(),c("span",Fe,[s("div",Ie,[i(A,{modelValue:e.projects[o.index].esAbierto,"onUpdate:modelValue":d=>e.projects[o.index].esAbierto=d},null,8,["modelValue","onUpdate:modelValue"])])])):m("",!0),o.column.field=="tour"?(n(),c("span",{key:1,style:M({color:e.projects[o.index].esAbierto?"red":""}),class:U([{"text-underline-red":e.projects[o.index].esAbierto},"text-slate-500 dark:text-slate-400 block min-w-[208px]"])},[R(g(o.row.description)+" ",1),e.projects[o.index].esAbierto?(n(),c(G,{key:0},[R(" (Estado abierto) ")],64)):m("",!0)],6)):m("",!0),o.column.field=="vehiculo"?(n(),c("span",{key:2,class:U([{"text-underline-red":e.projects[o.index].esAbierto&&o.column.field=="vehiculo"},"text-slate-500 dark:text-slate-400 block min-w-[108px]"])},[i(y,{options:e.vehiculos,modelValue:e.projects[o.index].vehiculo,"onUpdate:modelValue":d=>e.projects[o.index].vehiculo=d},null,8,["options","modelValue","onUpdate:modelValue"])],2)):m("",!0),o.column.field=="turno"?(n(),c("span",{key:3,class:U([{"text-underline-red":e.projects[o.index].esAbierto&&o.column.field=="turno"},"text-slate-500 dark:text-slate-400 block min-w-[108px]"])},[i(y,{options:e.turnos,modelValue:e.projects[o.index].turno,"onUpdate:modelValue":d=>e.projects[o.index].turno=d},null,8,["options","modelValue","onUpdate:modelValue"])],2)):m("",!0),o.column.field=="pasajero"?(n(),c("span",Se,[i(p,{type:"text",placeholder:"N° pax",modelValue:e.projects[o.index].nPasajseros,"onUpdate:modelValue":d=>e.projects[o.index].nPasajseros=d},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),o.column.field=="fecha"?(n(),c("span",Ne,[e.projects[o.index].esAbierto?(n(),T(p,{key:1,type:"text",placeholder:"Sin asignar Fecha",disabled:""})):(n(),T(j,{key:0,class:"form-control",id:"d1",placeholder:"yyyy, dd M",modelValue:e.projects[o.index].date_assigned,"onUpdate:modelValue":d=>e.projects[o.index].date_assigned=d},null,8,["modelValue","onUpdate:modelValue"]))])):m("",!0),o.column.field=="observation"?(n(),c("span",Be,[i(p,{type:"text",placeholder:"Observación",modelValue:e.projects[o.index].observacion,"onUpdate:modelValue":d=>e.projects[o.index].observacion=d},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),o.column.field=="realizado"?(n(),c("span",ze,[e.projects[o.index].esAbierto?(n(),c("div",Oe,[s("span",{style:M({color:e.projects[o.index].esAbierto?"red":""})},[i(p,{type:"text",class:"text-danger-500",placeholder:"---",modelValue:e.projects[o.index].realizado,"onUpdate:modelValue":d=>e.projects[o.index].realizado=d,disabled:""},null,8,["modelValue","onUpdate:modelValue"])],4)])):(n(),T(p,{key:1,type:"text",placeholder:"-",modelValue:e.projects[o.index].realizado,"onUpdate:modelValue":d=>e.projects[o.index].realizado=d,disabled:""},null,8,["modelValue","onUpdate:modelValue"]))])):m("",!0),o.column.field=="action"?(n(),c("div",De,[s("div",{class:"text-xl",onClick:d=>a.deleteProject(o.index)},[i(x,{icon:"heroicons-outline:trash",class:"text-danger-500"})],8,Ge)])):m("",!0)]),_:1},8,["columns","rows","pagination-options"]),s("div",qe,[i(V,{label:"T. TOURS S/. ",class:"append",name:"hi_Fullname",modelValue:e.tour.totalTour,"onUpdate:modelValue":t[24]||(t[24]=o=>e.tour.totalTour=o),type:"text",placeholder:"",horizontal:"",appendIcon:"heroicons-outline:cash",classInput:"text-right"},null,8,["modelValue"])])])])]),_:1}),i(C,{class:"mt-4",noborder:""},{default:h(()=>[s("div",Le,[s("div",We,[s("div",Xe,[Ye,s("div",Je,[i(P,{icon:"heroicons-outline:plus-sm",text:"Agregar Reserva",btnClass:" btn-dark font-normal btn-sm ",iconClass:"text-lg",onClick:q(a.openModalReservaHotel,["prevent"])},null,8,["onClick"])])]),i(H,{class:"-mx-6",columns:e.columnsReservasAlojamiento,styleClass:" vgt-table  table-head   v-middle striped  listview",rows:this.reservasHotel,"sort-options":{enabled:!1}},{"table-row":h(o=>[o.column.field=="code"?(n(),c("span",Ke,g(o.row.code),1)):m("",!0),o.column.field=="nombreHotel"?(n(),c("span",Qe,[s("span",Ze,g(o.row.hotel.tradename),1),R("("+g(o.row.hotel.citie_turistic.description)+") ",1),$e,R(" Cell: "+g(o.row.hotel.cellphone),1)])):m("",!0),o.column.field=="detallehotel"?(n(),c("span",eo,g(o.row.typebedrooms.map(d=>`${d.typebedroom.description} (${d.quantity} hab. x
                ${d.nights} noches)`).join(", ")),1)):m("",!0),o.column.field==="action"?(n(),c("div",oo,[s("div",to,[i(x,{icon:"heroicons-outline:trash",class:"text-danger-500",onClick:d=>a.deleteItem(o.row.id)},null,8,["onClick"])])])):m("",!0)]),_:1},8,["columns","rows"]),s("div",lo,[i(V,{label:"T. HOTEL S/. ",class:"append",name:"hi_Fullname",modelValue:e.totalHotelValue,"onUpdate:modelValue":t[25]||(t[25]=o=>e.totalHotelValue=o),type:"text",placeholder:"",horizontal:"",appendIcon:"heroicons-outline:cash",classInput:"text-right"},null,8,["modelValue"])])])])]),_:1}),i(C,{class:"mt-4",noborder:""},{default:h(()=>[s("div",so,[s("div",io,[i(p,{label:"Ubicación y referencias para recojo del turista",type:"text",placeholder:"Referencia lugar llegada",modelValue:e.booking.reference_location,"onUpdate:modelValue":t[26]||(t[26]=o=>e.booking.reference_location=o)},null,8,["modelValue"])])])]),_:1}),s("div",no,[ao,s("div",ro,[i(P,{text:"Cancelar",btnClass:"btn-light mr-2",onClick:t[27]||(t[27]=o=>l.closeModal())}),e.guardando?(n(),c("p",co,"Guardando...")):(n(),T(P,{key:0,type:"submit",text:"Guardar Reserva",onClick:t[28]||(t[28]=o=>a.saveReserva()),btnClass:"btn-dark"}))])]),s("div",uo,[i(C,{class:"mb-0 book__summary max-w-md"},{default:h(()=>[s("div",mo,[s("table",po,[s("tr",null,[ho,s("td",null,g(e.formattedTotal),1)]),s("tr",null,[bo,s("td",null,g(e.formattedTotalHotel),1)]),fo,s("tr",null,[go,s("td",vo,g(a.totalReserva),1)])])])]),_:1})]),i(E,{activeModal:e.showEditModal,onClose:t[29]||(t[29]=o=>e.showEditModal=!1),title:"Actualizar Registro de Colaborador",onUpdateClientList:a.handleUpdateClientList},null,8,["activeModal","onUpdateClientList"]),i(F,{activeModal:e.showReserveModal,title:"Actualizar Registro de Colaborador",onPostComplete:a.handlePostComplete,idCliente:e.idCliente,onClose:t[30]||(t[30]=o=>e.showReserveModal=!1)},null,8,["activeModal","onPostComplete","idCliente"]),i(I,{activeModal:e.showComisionar,title:"Actualizar Registro de Colaborador",onCommissionProcessed:a.handleCommissionProcessed,onClose:t[31]||(t[31]=o=>e.showComisionar=!1)},null,8,["activeModal","onCommissionProcessed"]),i(S,{activeModal:e.showAmortizar,title:"Actualizar Registro de Colaborador",onFormSubmitted:a.handleFormSubmitted,onIncomeSubmitted:a.handleFormSubmitted22,idCliente:e.idCliente,totalBooking:e.booking.total,onClose:t[32]||(t[32]=o=>e.showAmortizar=!1)},null,8,["activeModal","onFormSubmitted","onIncomeSubmitted","idCliente","totalBooking"])])}const st=X(de,[["render",_o],["__scopeId","data-v-0dcc2d07"]]);export{st as default};
