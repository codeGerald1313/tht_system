import{B as N}from"./index-DCMPjbua.js";import{C as _l}from"./index-Hsd0Z0_R.js";import{T as C}from"./index-BTHsGrD3.js";import{u as je,b as me,q as u,G as k,H as Cl,c as U,o as h,d as y,e,h as s,f as o,j as l,p as P,w as I,I as W,F as ue,i as be,J as x,t as K,m as gl,l as sl,n as bl,K as Tl}from"./index-BLl1OigC.js";import{D as Sl}from"./index-DFq5MbAK.js";import{I as yl}from"./index-BcFOD9Ey.js";import{P as kl}from"./index-vl95iEIB.js";import{P as Nl}from"./index-C66Q9vME.js";import{T as wl}from"./index-BAo57mri.js";import{F as i}from"./index-I9bOp0dW.js";import{I as qe}from"./index-DCC49QXr.js";import{M as pe}from"./index-MSlXG-Ka.js";import{u as ml}from"./project-DZP6XSnf.js";import{S as _}from"./index-DPFbVGd7.js";import{T as $l}from"./index-CwPxZwdQ.js";import{C as Vl}from"./index-lgafHr2M.js";import{_ as fl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as Ul}from"./menu-CM83wd2-.js";import{s as Pl,a as Ll,b as Rl,c as Al}from"./shade-4-BPphsoTg.js";import{q as jl}from"./vue-tailwind-datepicker-DbcSElnr.js";import"./vue-cleave.min-DAvglPmz.js";import{B as Ol}from"./index-B_wjOnuw.js";import{A as Bl}from"./index-CYTRoM9F.js";import{S as Fl,a as Gl}from"./swiper.min-Bxo5mh52.js";import{E as zl,_ as Hl}from"./visa-card-bg-BPkTIKoM.js";import{S as Jl}from"./index-PQ3jKUI0.js";import"./transition-CNElC_4N.js";import"./focus-management-Dc3XsveG.js";import"./keyboard-9WePWYgZ.js";import"./use-outside-click-CPWvQZIF.js";import"./hidden-BR_kr5_G.js";import"./micro-task-CxIZtCgj.js";import"./open-closed-0CPOhxDd.js";import"./av-2-D6_jNZbn.js";import"./v4-D8aEg3BZ.js";import"./use-resolve-button-type-BwPomRAb.js";/* empty css                                              */import"./effect-virtual-transition-end-DQxSYi8n.js";const Yl={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Ql={key:0,class:"text-red-500"},Kl={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Wl={key:0,class:"text-red-500"},Zl={class:"grid lg:grid-cols-1 gap-4 grid-cols-1"},Xl={key:0,class:"flex items-center"},eo={key:1,class:"flex items-center"},lo={key:2,class:"flex items-center"},oo={name:"client_form",id:"client_form",autocomplete:"off",class:"mx-auto space-y-4"},to={class:"grid grid-cols-3 lg:grid-cols-3 gap-4"},ao={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},no={class:"lg:col-span-3"},so=o("div",{class:"lg:hidden"},null,-1),co={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},io={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},ro={class:"lg:col-span-3"},uo=o("div",{class:"lg:hidden"},null,-1),po={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},mo={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},vo={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},go=o("div",{class:"lg:col-span-1"},null,-1),bo={class:"lg:col-span-3 flex justify-end"},fo={name:"providerForm",id:"providerForm",autocomplete:"off",class:"space-y-4"},ho={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},_o={class:"md:col-span-1 lg:col-span-2"},yo={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},xo={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Vo={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Co=o("div",{class:"lg:col-span-3"},null,-1),ko={class:"lg:col-span-1 flex justify-end"},wo={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},$o={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Eo={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Mo={class:"flex items-center"},Io={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},So={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Uo=o("div",{class:"lg:col-span-3"},null,-1),Do={class:"lg:col-span-1 flex justify-end"},To={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},No={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Po=o("div",{class:"lg:col-span-3"},null,-1),Lo={class:"lg:col-span-1 flex justify-end"},Ro={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Ao=o("label",{for:"payment-type",class:"block text-sm font-medium text-gray-700 flex items-center"},[be(" Método de pago "),o("span",{class:"text-red-500 ml-1"},"*")],-1),jo={class:"flex items-center"},qo={class:"flex items-center"},Oo={class:"flex-1"},Bo={key:0,class:"text-red-500"},Fo={class:"ml-2 flex items-center"},Go={class:"form-group col-lg-12 form__footerBtn mt-4"},zo={class:"text-right"},Dl={__name:"ClientEditModal",props:{activeModal:Boolean,ingresoData:Object},emits:["close","updateIngresoList"],setup(g,{emit:m}){const $=je().headers();ml();const E=me(),b=u(!1),S=u(!1),T=u(!1),z=u(!1),J=u([]),Y=u([]),Q=u([]),Z=g,w=m,se=()=>{w("close")},q=u({id:"",receptor_module:"",receptor_fullname:"",receptor_document:"",is_paycredit:"",available_edit:"",user_id:"",branchoffice_id:"",moneybox_id:"",concept_id:"",paymentmethod_id:"",currency_id:"",voucher_id:"",client_id:"",provider_id:"",employee_id:"",accountbank_id:"",date_movement:"",amount:"",text_amount:"",gloss:"",reference_operation:"",nro_voucher:"",serie:"",correlative:"",billing_external_id:"",billing_hash:"",motive_cancelled:"",billing_cancelled:"",date_repayment:"",repaymentmovement_id:"",dischargedocument_id:"",is_voucher_external:"",voucher_external:"",nro_voucher_external:"",booking_id:"",commision_id:"",observation:"",is_visible:""}),Ie=async()=>{try{const n=await x.get("https://thtbackend-production.up.railway.app/api/v1/ubigeo/departments",$);J.value=n.data.data.map(a=>({value:a.id,label:a.name}))}catch(n){console.error("Error fetching departments:",n)}},M=async()=>{try{const n=await x.get("https://thtbackend-production.up.railway.app/api/v1/clients/list",$);Oe.value=n.data.data.map(a=>({value:a.id,label:a.fullname}))}catch(n){console.error("Error fetching departments:",n)}},L=async()=>{try{const n=await x.get("https://thtbackend-production.up.railway.app/api/v1/moneys/income-concepts",$);Me.value=n.data.data.map(a=>({value:a.id,label:a.description}))}catch(n){console.error("Error fetching departments:",n)}},V=async()=>{try{const n=await x.get("https://thtbackend-production.up.railway.app/api/v1/banks/list",$);ze.value=n.data.data.map(a=>({value:a.id,label:a.description}))}catch(n){console.error("Error fetching departments:",n)}},oe=async()=>{try{const n=await x.get("https://thtbackend-production.up.railway.app/api/v1/accountbanks/list",$);le.value=n.data.data.map(a=>({value:a.id,label:a.name}))}catch(n){console.error("Error fetching departments:",n)}},fe=async()=>{try{const n=await x.get("https://thtbackend-production.up.railway.app/api/v1/providers/list",$);Te.value=n.data.data.map(a=>({value:a.id,label:a.fullname}))}catch(n){console.error("Error fetching departments:",n)}},ce=async()=>{try{const n=await x.get("https://thtbackend-production.up.railway.app/api/v1/employees/list",$);G.value=n.data.data.map(a=>({value:a.id,label:a.fullname}))}catch(n){console.error("Error fetching departments:",n)}},Se=[{value:501,label:"SOL"},{value:502,label:"DÓLAR"},{value:503,label:"EURO"}],Te=u([]),G=u([]),ve=u({description:""}),O=u({branchoffice_id:"",bank_id:"",typeaccount_id:"",currency_id:"",name:"",number_account:"",cci_account:"",balance:"",headline:"",description:""}),Oe=u([]),Ye=[{value:1,label:"Caja Principal"}],Pe=[{value:500,label:"Oficina Principal"}],ae=[{value:504,label:"CUENTA SIMPLE"},{value:505,label:"CUENTA CORRIENTE"},{value:506,label:"TARJETA DE CRÉDITO"}],ye=u(null),he=u(null),xe=u(null),Ve=u(null),ge=u(null),ke=u(null),we=u(Se[0].value),$e=u(ae[0].value),Le=u(Pe[0].value),Be=u(Ye[0].value),Fe=()=>{console.log()},Xe=()=>{b.value=!b.value},Qe=()=>{b.value=!1},Re=()=>{S.value=!1},Ke=()=>{T.value=!1},ol=()=>{z.value=!1},dl=()=>{S.value=!S.value},Ae=()=>{T.value=!T.value},cl=()=>{const n=document.querySelector(".cajonci-select select");if(n){const v=n.selectedIndex,R=n.options[v].text;q.value.branchoffice_id=v,q.value.branchbox=R,console.log("Label seleccionado:",v,R)}else console.log("No se ha seleccionado ninguna opción.");const a=document.querySelector(".pago-select select");if(n){const v=a.selectedIndex,R=a.options[v].text;q.value.paymentmethod_id=v,q.value.paymethod=R,console.log("Label seleccionado:",v,R)}else console.log("No se ha seleccionado ninguna opción.");const c=ye.value;q.value.client_id=c;const r=he.value;q.value.provider_id=r;const t=xe.value;q.value.employee_id=t;const d=Ve.value;q.value.concept_id=d;const j=ge.value;q.value.accountbank_id=j,console.log(q.value),x.post(`https://thtbackend-production.up.railway.app/api/v1/moneys/edit/${q.value.id}`,q.value,{...$}).then(v=>{console.log("Datos guardados exitosamente:",v.data),w("updateIngresoList"),se(),E.success(v.data.message)}).catch(v=>{console.error("Error al guardar los datos:",v)})},X=u(!1),We=()=>{z.value=!z.value},te=u({typedocument_id:"",document:"",department_id:"",province_id:"",district_id:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:""}),ee=u("cash"),ze=u([]),Ze=n=>!!q.value[n],tl=n=>Ze(n),le=u([]),He=[{value:1,label:"Natural"},{value:2,label:"Jurídico"}],el=[{value:1,label:"DNI"},{value:2,label:"RUC"},{value:3,label:"PASAPORTE"}],H=[{value:1,label:"Soltero"},{value:2,label:"Casado"},{value:2,label:"Viudo"},{value:2,label:"Divorciado"}],al=[{value:1,label:"Masculino"},{value:2,label:"Femenino"}],B=u({typedocument_id:"",department_id:"",province_id:"",district_id:"",type_client:"",fullname:"",document:"",tradename:"",address:"",email:"",telephone:"",cellphone:"",date_birthday:"",sex:"",status:"",typeDocument:""}),A=u(He[0].value),Ce=u(el[0].value);let de=u(null),ne=u(null),D=u(null),_e=u(null),Ee=u(null),ie="";const Ue=[{value:"clients",label:"Clientes"},{value:"providers",label:"Proveedores"},{value:"employees",label:"Empleados"}],re=u(Ue[0].value),Me=u([]),Ge=[{value:1,label:"Efectivo"},{value:2,label:"Visa"},{value:3,label:"Cheque"},{value:4,label:"Depósito a cuenta"}],il=async()=>{try{const n=await x.get(`https://thtbackend-production.up.railway.app/api/v1/ubigeo/provinces/${B.value.department_id}`,$);Q.value=n.data.data.map(a=>({value:a.id,label:a.name}))}catch(n){console.error("Error fetching provinces:",n)}},ll=async()=>{try{const n=await x.get(`https://thtbackend-production.up.railway.app/api/v1/ubigeo/districts/${B.value.province_id}`,$);Y.value=n.data.data.map(a=>({value:a.id,label:a.name}))}catch(n){console.error("Error fetching provinces:",n)}},Ne=()=>{x.get(`https://thtbackend-production.up.railway.app/api/v1/apiruc/${te.value.document}`).then(n=>{console.log("Respuesta de la API RUC:",n.data),te.value.fullname=n.data.razonSocial}).catch(n=>{console.error("Error al obtener datos del RUC:",n)})},rl=()=>{x.get(`https://thtbackend-production.up.railway.app/api/v1/apidni/${B.value.document}`).then(n=>{console.log("Respuesta de la API DNI:",n.data),B.value.fullname=`${n.data.nombres} ${n.data.apellidoPaterno} ${n.data.apellidoMaterno}`}).catch(n=>{console.error("Error al obtener datos del DNI:",n)})},vl=()=>{console.log(ve.value),x.post("https://thtbackend-production.up.railway.app/api/v1/banks/create",ve.value,{...$}).then(n=>{console.log("Datos guardados exitosamente:",n.data),ol(),V(),E.success(n.data.message)}).catch(n=>{console.error("Error al guardar los datos:",n)})},ul=()=>{x.post("https://thtbackend-production.up.railway.app/api/v1/providers/create",te.value,{...$}).then(n=>{console.log("Datos guardados exitosamente:",n.data),Re(),fe(),E.success(n.data.message)}).catch(n=>{console.error("Error al guardar los datos:",n)})},nl=()=>{console.log(B.value);const n=document.querySelector(".typecliente-select select");if(n){const c=n.selectedIndex,r=c.toString();n.options[c].text,B.value.type_client=r,console.log("Label seleccionado:",B.value.type_client),console.log("Índice seleccionado como cadena:",r)}else console.log("No se ha seleccionado ninguna opción.");const a=document.querySelector(".typedocument-select select");if(n){const c=a.selectedIndex,r=a.options[c].text;B.value.typedocument_id=c,B.value.typeDocument=r,console.log("Id & Label seleccionado:",B.value.type_client)}else console.log("No se ha seleccionado ninguna opción.");x.post("https://thtbackend-production.up.railway.app/api/v1/clients/create",B.value,{...$}).then(c=>{console.log("Datos guardados exitosamente:",c.data),Qe(),M(),E.success(c.data.message)}).catch(c=>{console.error("Error al guardar los datos:",c)})},pl=()=>{const n=document.querySelector(".oficinaprincipal-select select");if(n){const t=n.selectedIndex,d=n.options[t].text;O.value.branchoffice_id=t,console.log("Label seleccionado:",t,d)}else console.log("No se ha seleccionado ninguna opción.");const a=document.querySelector(".typeaccount-select select");if(n){const t=a.selectedIndex,d=a.options[t].text;O.value.typeaccount_id=t,console.log("Label seleccionado:",t,d)}else console.log("No se ha seleccionado ninguna opción.");const c=document.querySelector(".banck-select select");if(n){const t=c.selectedIndex,d=c.options[t].text;O.value.bank_id=t,console.log("Label seleccionado:",t,d)}else console.log("No se ha seleccionado ninguna opción.");const r=document.querySelector(".money-select select");if(n){const t=r.selectedIndex,d=r.options[t].text;O.value.currency_id=t,console.log("Label seleccionado:",t,d)}else console.log("No se ha seleccionado ninguna opción.");console.log(O.value),x.post("https://thtbackend-production.up.railway.app/api/v1/accountbanks/create",O.value,{...$}).then(t=>{console.log("Datos guardados exitosamente:",t.data),Ke(),oe(),E.success(t.data.message)}).catch(t=>{console.error("Error al guardar los datos:",t)})};k(()=>ye.value,(n,a)=>{}),k(()=>Be.value,(n,a)=>{}),k(()=>Ve.value,(n,a)=>{}),k(()=>we.value,(n,a)=>{}),k(()=>he.value,(n,a)=>{}),k(()=>ee.value,(n,a)=>{}),k(()=>ge.value,(n,a)=>{}),k(()=>$e.value,(n,a)=>{}),k(()=>ke.value,(n,a)=>{}),k(()=>xe.value,(n,a)=>{}),k(()=>Le.value,(n,a)=>{}),k(re,(n,a)=>{const c=document.querySelector(".emisor-select select");if(c){const r=c.selectedIndex,t=c.options[r].text;console.log("Label seleccionado:",r,t)}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>D.value,(n,a)=>{if(document.querySelector(".district-select select")){const r=n.toString().padStart(6,"0");console.log("Id seleccionado:",r),B.value.district_id=r,te.value.district_id=r}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>ne.value,(n,a)=>{if(document.querySelector(".province-select select")){const r=n.toString().padStart(4,"0");console.log("Id seleccionado:",r),B.value.province_id=r,te.value.province_id=r}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>de.value,(n,a)=>{if(document.querySelector(".department-select select")){const r=n.toString().padStart(2,"0");console.log("Id seleccionado:",r),B.value.department_id=r,te.value.department_id=r}else console.log("No se ha seleccionado ninguna opción.")});const f=u("N° DNI"),p=u("RENIEC");k(()=>Ce.value,n=>{const a=document.querySelector(".typedocument-select select");if(a){const c=a.selectedIndex,r=a.options[c],t=a.options[c].text;B.value.typedocument_id=c,B.value.typeDocument=t,f.value=`N° ${r.textContent}`,p.value=n==="1"?"RENIEC":n==="2"?"SUNAT":"Validar",console.log(B.value.typeDocument)}else console.log("No se ha encontrado el elemento del selector.")}),k(()=>Ee.value,(n,a)=>{const c=document.querySelector(".sexo-select select");if(c){const r=c.selectedIndex,t=c.options[r].text;B.value.sex=t,console.log("Label seleccionado:",B.value.sex)}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>_e.value,(n,a)=>{const c=document.querySelector(".state-select select");if(c){const r=c.selectedIndex,t=c.options[r].text;B.value.status=t,console.log("Label seleccionado:",B.value.status)}else console.log("No se ha seleccionado ninguna opción.")}),Cl(async()=>{try{await L(),await oe(),await fe(),await V(),await M(),await ce(),await Ie()}catch(n){console.error("Error al realizar llamadas a la API:",n)}});const F=u(!1);return k(()=>Z.ingresoData,n=>{n&&(ye.value=null,xe.value=null,he.value=null,n.client_id?(re.value="clients",ye.value=n.client_id):n.employee_id?(re.value="employees",xe.value=n.employee_id):n.provider_id&&(re.value="providers",he.value=n.provider_id),q.value.id=n.id,q.value.gloss=n.gloss,q.value.reference_operation=n.reference_operation,Ve.value=n.concept_id,ee.value=n.paymentmethod_id,ge.value=n.accountbank_id,q.value.amount=n.amount,F.value=n.paymentmethod_id===4,console.log(n))}),(n,a)=>{const c=U("flat-pickr");return h(),y("div",null,[e(l(pe),{activeModal:Z.activeModal,onClose:se,title:"Actualizar Registro de Ingreso",centered:""},{default:s(()=>[o("form",{onSubmit:I(Fe,["prevent"]),class:"space-y-4"},[o("div",Yl,[e(l(i),{name:"d1",error:l(ie)},{default:s(()=>[e(l(_),{label:"Caja aperturada",options:Ye,modelValue:Be.value,"onUpdate:modelValue":a[0]||(a[0]=r=>Be.value=r),disabled:"",class:"cajonci-select"},null,8,["modelValue"])]),_:1},8,["error"]),e(l(i),{label:"Descripción ingreso",name:"d2"},{default:s(()=>[e(l(C),{type:"text",placeholder:"Descripción ingreso",modelValue:q.value.gloss,"onUpdate:modelValue":a[1]||(a[1]=r=>q.value.gloss=r),modelModifiers:{trim:!0}},null,8,["modelValue"]),tl("gloss")?P("",!0):(h(),y("span",Ql,"Por favor ingrese descripción"))]),_:1})]),o("div",Kl,[e(l(i),{name:"d3"},{default:s(()=>[e(l(_),{label:"Emisor (opcional)",options:Ue,modelValue:re.value,"onUpdate:modelValue":a[2]||(a[2]=r=>re.value=r),class:"emisor-select"},null,8,["modelValue"])]),_:1}),e(l(i),{name:"d4"},{default:s(()=>[e(l(_),{label:"Concepto ingreso",options:Me.value,modelValue:Ve.value,"onUpdate:modelValue":a[3]||(a[3]=r=>Ve.value=r),class:"concept-select",placeholder:"Seleccione ingreso"},null,8,["options","modelValue"]),Ve.value?P("",!0):(h(),y("span",Wl,"Por favor selecciona un concepto"))]),_:1})]),o("div",Zl,[re.value==="clients"?(h(),y("div",Xl,[e(l(i),{label:"Clientes",class:"flex-1"},{default:s(()=>[e(l(_),{options:Oe.value,modelValue:ye.value,"onUpdate:modelValue":a[4]||(a[4]=r=>ye.value=r),class:"client-select"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:Xe,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):re.value==="providers"?(h(),y("div",eo,[e(l(i),{label:"Proveedores",class:"flex-1"},{default:s(()=>[e(l(_),{options:Te.value,modelValue:he.value,"onUpdate:modelValue":a[5]||(a[5]=r=>he.value=r),class:"provider-select"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:dl,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):re.value==="employees"?(h(),y("div",lo,[e(l(i),{label:"Empleados",class:"flex-1"},{default:s(()=>[e(l(_),{options:G.value,modelValue:xe.value,"onUpdate:modelValue":a[6]||(a[6]=r=>xe.value=r),class:"employee-select"},null,8,["options","modelValue"])]),_:1})])):P("",!0)]),e(l(pe),{title:"Registrar nuevo Cliente",label:"Modal title",activeModal:b.value,onClose:a[21]||(a[21]=r=>b.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[o("form",oo,[o("div",to,[o("div",null,[e(l(i),{label:"Tipo de cliente"},{default:s(()=>[e(l(_),{options:He,modelValue:A.value,"onUpdate:modelValue":a[7]||(a[7]=r=>A.value=r),class:"typecliente-select",placeholder:"Selccione Cliente"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Tipo documento"},{default:s(()=>[e(l(_),{options:el,modelValue:Ce.value,"onUpdate:modelValue":a[8]||(a[8]=r=>Ce.value=r),class:"typedocument-select"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"N° Documento"},{default:s(()=>[e(l(qe),{type:"text",placeholder:f.value,modelValue:B.value.document,"onUpdate:modelValue":a[9]||(a[9]=r=>B.value.document=r)},{append:s(()=>[e(l(N),{text:p.value,btnClass:"btn-outline-dark",onClick:I(rl,["prevent"])},null,8,["text"])]),_:1},8,["placeholder","modelValue"])]),_:1})])]),o("div",ao,[o("div",no,[e(l(i),{label:"Nombre ó Razón Social"},{default:s(()=>[e(l(C),{type:"text",id:"client_fullname",modelValue:B.value.fullname,"onUpdate:modelValue":a[10]||(a[10]=r=>B.value.fullname=r),modelModifiers:{trim:!0},placeholder:"Ingrese Nombre ó Razón Social "},null,8,["modelValue"])]),_:1})]),so]),o("div",co,[o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:J.value,label:"Departamento",modelValue:l(de),"onUpdate:modelValue":a[11]||(a[11]=r=>W(de)?de.value=r:de=r),class:"department-select",onChange:il,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Q.value,label:"Provincias",modelValue:l(ne),"onUpdate:modelValue":a[12]||(a[12]=r=>W(ne)?ne.value=r:ne=r),class:"province-select",onChange:ll,placeholder:""},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Y.value,label:"Distritos",modelValue:l(D),"onUpdate:modelValue":a[13]||(a[13]=r=>W(D)?D.value=r:D=r),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),o("div",io,[o("div",ro,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(C),{type:"text",modelValue:B.value.address,"onUpdate:modelValue":a[14]||(a[14]=r=>B.value.address=r),modelModifiers:{trim:!0},placeholder:"Ingrese Direción"},null,8,["modelValue"])]),_:1})]),uo]),o("div",po,[o("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(C),{type:"text",modelValue:B.value.cellphone,"onUpdate:modelValue":a[15]||(a[15]=r=>B.value.cellphone=r),modelModifiers:{trim:!0},placeholder:"Ingrese N° de celular"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Teléfono fijo"},{default:s(()=>[e(l(C),{type:"text",modelValue:B.value.telephone,"onUpdate:modelValue":a[16]||(a[16]=r=>B.value.telephone=r),modelModifiers:{trim:!0},placeholder:"Ingrese N° de telefono fijo"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(C),{type:"email",modelValue:B.value.email,"onUpdate:modelValue":a[17]||(a[17]=r=>B.value.email=r),modelModifiers:{trim:!0},placeholder:"Ingrese correo electrónico"},null,8,["modelValue"])]),_:1})])]),o("div",mo,[o("div",null,[e(l(i),{label:"Fecha de nacimiento"},{default:s(()=>[e(c,{modelValue:B.value.date_birthday,"onUpdate:modelValue":a[18]||(a[18]=r=>B.value.date_birthday=r),class:"form-control",id:"date_birthday",placeholder:"yyyy, dd M",config:{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d"}},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:H,label:"Estado",modelValue:l(_e),"onUpdate:modelValue":a[19]||(a[19]=r=>W(_e)?_e.value=r:_e=r),class:"state-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:al,label:"Sexo",modelValue:l(Ee),"onUpdate:modelValue":a[20]||(a[20]=r=>W(Ee)?Ee.value=r:Ee=r),class:"sexo-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})])]),o("div",vo,[go,o("div",bo,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(Qe,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(nl,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(pe),{title:"Registrar nuevo Proveedor",label:"Modal title",activeModal:S.value,onClose:a[32]||(a[32]=r=>S.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[o("form",fo,[o("div",ho,[o("div",null,[e(l(i),{label:"N° RUC"},{default:s(()=>[e(l(qe),{type:"text",placeholder:"RUC",modelValue:te.value.document,"onUpdate:modelValue":a[22]||(a[22]=r=>te.value.document=r),modelModifiers:{trim:!0}},{append:s(()=>[e(l(N),{text:"SUNAT",btnClass:"btn-outline-dark ",onClick:I(Ne,["prevent"])})]),_:1},8,["modelValue"])]),_:1})]),o("div",_o,[e(l(i),{label:"Razón social del proveedor"},{default:s(()=>[e(l(C),{modelValue:te.value.fullname,"onUpdate:modelValue":a[23]||(a[23]=r=>te.value.fullname=r),modelModifiers:{trim:!0},placeholder:"Razón social del proveedor",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Nombre comercial"},{default:s(()=>[e(l(C),{modelValue:te.value.tradename,"onUpdate:modelValue":a[24]||(a[24]=r=>te.value.tradename=r),modelModifiers:{trim:!0},placeholder:"Nombre comercial",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",yo,[o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:J.value,label:"Departamento",modelValue:l(de),"onUpdate:modelValue":a[25]||(a[25]=r=>W(de)?de.value=r:de=r),class:"department-select",onChange:il,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Q.value,label:"Provincias",modelValue:l(ne),"onUpdate:modelValue":a[26]||(a[26]=r=>W(ne)?ne.value=r:ne=r),class:"province-select",onChange:ll,placeholder:""},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Y.value,label:"Distritos",modelValue:l(D),"onUpdate:modelValue":a[27]||(a[27]=r=>W(D)?D.value=r:D=r),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(C),{modelValue:te.value.address,"onUpdate:modelValue":a[28]||(a[28]=r=>te.value.address=r),modelModifiers:{trim:!0},placeholder:"Dirección",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",xo,[o("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(C),{modelValue:te.value.cellphone,"onUpdate:modelValue":a[29]||(a[29]=r=>te.value.cellphone=r),modelModifiers:{trim:!0},placeholder:"Celular","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Teléfono"},{default:s(()=>[e(l(C),{modelValue:te.value.telephone,"onUpdate:modelValue":a[30]||(a[30]=r=>te.value.telephone=r),modelModifiers:{trim:!0},placeholder:"Teléfono","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(C),{modelValue:te.value.email,"onUpdate:modelValue":a[31]||(a[31]=r=>te.value.email=r),modelModifiers:{trim:!0},placeholder:"Correo electrónico",type:"email",class:"w-full"},null,8,["modelValue"])]),_:1})])]),o("div",Vo,[Co,o("div",ko,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(Re,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(ul,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(pe),{title:"Registrar cuenta bancaria",label:"Modal title",activeModal:T.value,onClose:a[44]||(a[44]=r=>T.value=!1)},{default:s(()=>[o("form",wo,[o("div",$o,[o("div",null,[e(l(i),{label:"Sucursal",class:"block"},{default:s(()=>[e(l(_),{modelValue:Le.value,"onUpdate:modelValue":a[33]||(a[33]=r=>Le.value=r),options:Pe,required:"",class:"oficinaprincipal-select"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Tipo de cuenta",class:"block"},{default:s(()=>[e(l(_),{modelValue:$e.value,"onUpdate:modelValue":a[34]||(a[34]=r=>$e.value=r),options:ae,required:"",class:"typeaccount-select"},null,8,["modelValue"])]),_:1})])]),o("div",Eo,[o("div",Mo,[e(l(i),{label:"Banco",class:"flex-1"},{default:s(()=>[e(l(_),{options:ze.value,modelValue:ke.value,"onUpdate:modelValue":a[35]||(a[35]=r=>ke.value=r),class:"banck-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:I(We,["prevent"]),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),o("div",null,[e(l(i),{label:"Moneda",class:"block"},{default:s(()=>[e(l(_),{modelValue:we.value,"onUpdate:modelValue":a[36]||(a[36]=r=>we.value=r),options:Se,required:"",class:"money-select"},null,8,["modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Nombre cuenta",class:"block"},{default:s(()=>[e(l(C),{modelValue:O.value.name,"onUpdate:modelValue":a[37]||(a[37]=r=>O.value.name=r),modelModifiers:{trim:!0},placeholder:"Nombre cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",Io,[o("div",null,[e(l(i),{label:"N° de cuenta",class:"block"},{default:s(()=>[e(l(C),{modelValue:O.value.number_account,"onUpdate:modelValue":a[38]||(a[38]=r=>O.value.number_account=r),modelModifiers:{trim:!0},placeholder:"N° de cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"N° CCI (Código interbancario)",class:"block"},{default:s(()=>[e(l(C),{modelValue:O.value.cci_account,"onUpdate:modelValue":a[39]||(a[39]=r=>O.value.cci_account=r),modelModifiers:{trim:!0},placeholder:"N° CCI",required:""},null,8,["modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Titular cuenta",class:"block"},{default:s(()=>[e(l(C),{modelValue:O.value.headline,"onUpdate:modelValue":a[40]||(a[40]=r=>O.value.headline=r),modelModifiers:{trim:!0},placeholder:"Titular cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Descripción",class:"block"},{default:s(()=>[e(l($l),{modelValue:O.value.description,"onUpdate:modelValue":a[41]||(a[41]=r=>O.value.description=r),modelModifiers:{trim:!0},placeholder:"Descripción"},null,8,["modelValue"])]),_:1})]),o("div",So,[Uo,o("div",Do,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(Ke,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(pl,["prevent"])})])])]),e(l(pe),{title:"Registrar banco",label:"Modal title",activeModal:z.value,onClose:a[43]||(a[43]=r=>z.value=!1)},{default:s(()=>[o("form",To,[e(l(C),{label:"Nombre",name:"pn",type:"text",placeholder:"Ingresar nombre ",modelValue:ve.value.description,"onUpdate:modelValue":a[42]||(a[42]=r=>ve.value.description=r)},null,8,["modelValue"]),o("div",No,[Po,o("div",Lo,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(ol,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(vl,["prevent"])})])])])]),_:1},8,["activeModal"])]),_:1},8,["activeModal"]),o("div",Ro,[e(l(i),{name:"d5",class:"mt-1"},{default:s(()=>[Ao,e(l(_),{id:"payment-type",options:Ge,modelValue:ee.value,"onUpdate:modelValue":a[45]||(a[45]=r=>ee.value=r),class:"pago-select mt-2",disabled:""},null,8,["modelValue"])]),_:1}),F.value?(h(),y(ue,{key:0},[o("div",jo,[e(l(i),{label:"Cuenta destino",class:"flex-1"},{default:s(()=>[e(l(_),{options:le.value,modelValue:ge.value,"onUpdate:modelValue":a[46]||(a[46]=r=>ge.value=r),class:"cuentadestino-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:Ae,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),e(l(i),{label:"N° de Operación"},{default:s(()=>[e(l(C),{type:"text",modelValue:q.value.reference_operation,"onUpdate:modelValue":a[47]||(a[47]=r=>q.value.reference_operation=r),modelModifiers:{trim:!0},placeholder:"Ingrese N° de Operación"},null,8,["modelValue"])]),_:1})],64)):P("",!0),o("div",qo,[o("div",Oo,[e(l(i),{label:"Monto",name:"d6"},{default:s(()=>[e(l(C),{type:"text",placeholder:"Monto",modelValue:q.value.amount,"onUpdate:modelValue":a[48]||(a[48]=r=>q.value.amount=r),modelModifiers:{trim:!0},disabled:!X.value},null,8,["modelValue","disabled"]),tl("amount")?P("",!0):(h(),y("span",Bo,"Por favor ingrese monto"))]),_:1})]),o("div",Fo,[e(l(Vl),{active:"",label:"Modificar",class:"font-bold",modelValue:X.value,"onUpdate:modelValue":a[49]||(a[49]=r=>X.value=r)},null,8,["modelValue"])])])]),o("div",Go,[o("div",zo,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(se,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:cl})])])],32)]),_:1},8,["activeModal"])])}}},El=je().headers();function Ho(){const g=new Date;return g.setHours(g.getHours()-5),g.toISOString().slice(0,10)}const Jo={components:{InputGroup:qe,Tooltip:wl,FromGroup:i,Button:N,Pagination:kl,Dropdown:Sl,Icon:yl,EditProject:Dl,MenuItem:Ul,Card:_l,ProgressBar:Nl},data(){return{searchTerm:"",ingresoData:{},showEditModal:!1,current:1,perpage:10,dateDefault:Ho(),pageRange:10,actions:[{name:"edit",icon:"heroicons:pencil-square",doit:g=>{console.log(g),this.ingresoData=g,this.showEditModal=!0}},{name:"delete",icon:"heroicons-outline:trash",doit:async g=>{try{await x.delete(`https://thtbackend-production.up.railway.app/api/v1/hotels/delete/${g.id}`,El),me().success("Hotel eliminado correctamente",{timeout:1500}),this.listarHoteles()}catch(m){console.error("Error al eliminar empleado:",m)}}}],columns:[{label:"N° ingreso",field:"nro_voucher"},{label:"Fecha",field:"date_movement"},{label:"Caja",field:"branch_office"},{label:"Emisor",field:"client"},{label:"Concepto",field:"concept"},{label:"Método pago	",field:"payment_method"},{label:"Monto ",field:"amount"},{label:"Action",field:"action"}],projects:[]}},methods:{async reloadCrmTable(){try{await this.listarIngresos()}catch(g){console.error("Error al recargar Ingresos :",g)}},handleVerDocumento(g){x.get(`https://thtbackend-production.up.railway.app/api/v1/list-movements-pdf/${g}`).then(m=>{}).catch(m=>{console.error("Error al obtener la URL del PDF:",m),window.open(m.config.url,"_blank")})},async downloadFile2(){try{const g=await x.get("https://thtbackend-production.up.railway.app/api/v1/export-money-por-dia",{params:{date:this.dateDefault},responseType:"blob"});console.log(g);const m=g.request.responseURL,$=new URL(m),E=document.createElement("a");E.href=$,E.setAttribute("download","archivo.xlsx"),E.style.display="none",document.body.appendChild(E),E.click(),document.body.removeChild(E),console.log("Descarga iniciada automáticamente.")}catch(g){console.error("Error al descargar el archivo:",g)}},async listarIngresos(){try{const g=await x.get("https://thtbackend-production.up.railway.app/api/v1/moneys-akemy/list",{params:{date:this.dateDefault},...El});this.projects=g.data,console.log(this.projects),this.projects&&this.projects.length>0?me().success("Ingresos listados correctamente",{timeout:1500}):me().info("Para el día de hoy, todavía no exiten registros de ingreso",{timeout:2500})}catch(g){console.error("Error al obtener los datos de los ingresos:",g),me().error("Ocurrió un error al obtener los ingresos. Por favor, inténtalo de nuevo.",{timeout:1500})}}},mounted(){Promise.all([this.listarIngresos()]).then(()=>{console.log("Todas las llamadas a la API han sido completadas.")}).catch(g=>{console.error("Error al realizar llamadas a la API:",g)}),console.log(this.dateDefault)},watch:{async dateDefault(g,m){try{const $=await x.get("https://thtbackend-production.up.railway.app/api/v1/moneys-akemy/list",{params:{date:g},...El});this.projects=$.data,console.log(g),this.projects&&this.projects.length>0?me().success("Ingresos listados correctamente",{timeout:1500}):me().info("Para este día, no hay registros de ingreso",{timeout:2500})}catch($){console.error("Error al obtener los datos de los empleados:",$),me().error("Ocurrió un error al obtener los ingresos. Por favor, inténtalo de nuevo.",{timeout:1500})}}}},Yo={class:"md:flex justify-between pb-6 md:space-y-0 space-y-3 items-center"},Qo=o("h5",null,"Ingresos Caja General.A",-1),Ko={class:"flex items-center"},Wo={key:0},Zo={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Xo={class:"font-bold text-blue-700"},et={key:1},lt={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},ot={key:2,class:"block"},tt=o("br",null,null,-1),at=["innerHTML"],nt=o("br",null,null,-1),st=["innerHTML"],dt=o("br",null,null,-1),ct=["innerHTML"],it={key:3},rt={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},ut={key:4},pt={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},mt={key:5,class:"action-btn text-end mr-3"},vt=["onClick"],gt=o("span",null,"Ver documento",-1),bt={class:"text-xl"},ft=["onClick"],ht={class:"text-base"},_t={class:"py-4 px-3"};function yt(g,m,$,E,b,S){const T=U("Button"),z=U("flat-pickr"),J=U("FromGroup"),Y=U("InputGroup"),Q=U("Icon"),Z=U("Tooltip"),w=U("MenuItem"),se=U("Dropdown"),q=U("Pagination"),Ie=U("vue-good-table"),M=U("EditProject"),L=U("Card");return h(),y("div",null,[e(L,{noborder:""},{default:s(()=>[o("div",Yo,[Qo,o("div",Ko,[e(T,{icon:"heroicons-outline:arrow-path",btnClass:" btn-outline-secondary text-slate-600 dark:border-slate-700 dark:text-slate-300 font-normal btn-sm mr-3",iconClass:"text-lg",onClick:S.reloadCrmTable},null,8,["onClick"]),e(J,{name:"d1"},{default:s(()=>[e(z,{modelValue:b.dateDefault,"onUpdate:modelValue":m[0]||(m[0]=V=>b.dateDefault=V),class:"form-control",id:"d1",placeholder:"yyyy, dd M"},null,8,["modelValue"])]),_:1}),e(Y,{modelValue:b.searchTerm,"onUpdate:modelValue":m[1]||(m[1]=V=>b.searchTerm=V),placeholder:"Ingrese N° de recibo para buscar",type:"text",prependIcon:"heroicons-outline:search",merged:"",class:"ml-3 w-[280px]"},null,8,["modelValue"]),e(T,{icon:"heroicons-outline:download",btnClass:"bg-green-700 text-white ml-4 text-sm",iconClass:"text-lg",onClick:I(S.downloadFile2,["prevent"])},null,8,["onClick"])])]),e(Ie,{class:"-mx-6",columns:b.columns,styleClass:" vgt-table  table-head   v-middle striped  listview",rows:this.projects,"pagination-options":{enabled:!0,perPage:b.perpage},"search-options":{enabled:!0,externalQuery:b.searchTerm},"sort-options":{enabled:!1}},{"table-row":s(V=>[V.column.field=="nro_voucher"?(h(),y("span",Wo,[o("div",Zo,[o("span",Xo,K(V.row.nro_voucher),1)])])):P("",!0),V.column.field=="branch_office"?(h(),y("span",et,[o("div",lt,K(V.row.branch_office.description),1)])):P("",!0),V.column.field==="client"?(h(),y("span",ot,[o("div",null,[V.row.client?(h(),y(ue,{key:0},[be(" C- "+K(V.row.client.fullname),1),tt,o("span",{class:"font-bold",innerHTML:"N° Doc "+V.row.client.document},null,8,at)],64)):V.row.employee?(h(),y(ue,{key:1},[be(" E- "+K(V.row.employee.fullname),1),nt,o("span",{class:"font-bold",innerHTML:"N° Doc "+V.row.employee.document},null,8,st)],64)):V.row.provider?(h(),y(ue,{key:2},[be(" P- "+K(V.row.provider.fullname),1),dt,o("span",{class:"font-bold",innerHTML:"N° Doc "+V.row.provider.document},null,8,ct)],64)):(h(),y(ue,{key:3},[be(" No hay información disponible ")],64))])])):P("",!0),V.column.field=="concept"?(h(),y("span",it,[o("div",rt,K(V.row.concept.description),1)])):P("",!0),V.column.field=="payment_method"?(h(),y("span",ut,[o("div",pt,K(V.row.payment_method.description),1)])):P("",!0),V.column.field=="action"?(h(),y("div",mt,[e(Z,{placement:"top",arrow:"",theme:"info-500"},{button:s(()=>[o("div",{class:"action-btn",onClick:I(oe=>S.handleVerDocumento(V.row.id),["prevent"])},[e(Q,{class:"text-2xl",icon:"heroicons:clipboard-document-list"})],8,vt)]),default:s(()=>[gt]),_:2},1024),e(se,{classMenuItems:" w-[150px]"},{menus:s(()=>[(h(!0),y(ue,null,gl(b.actions,(oe,fe)=>(h(),sl(w,{key:fe},{default:s(()=>[o("div",{onClick:ce=>oe.doit(V.row),class:bl(`
                
                  ${oe.name==="delete"?"bg-danger-500 text-danger-500 bg-opacity-30  hover:bg-opacity-100 hover:text-white":"hover:bg-slate-900 hover:text-white"}
                   w-full border-b border-b-gray-500 border-opacity-10 px-4 py-2 text-sm  last:mb-0 cursor-pointer first:rounded-t last:rounded-b flex  space-x-2 items-center `)},[o("span",ht,[e(Q,{icon:oe.icon},null,8,["icon"])]),o("span",null,K(oe.name),1)],10,ft)]),_:2},1024))),128))]),default:s(()=>[o("div",bt,[e(Q,{icon:"heroicons-outline:dots-vertical"})])]),_:2},1024)])):P("",!0)]),"pagination-bottom":s(V=>[o("div",_t,[e(q,{total:b.projects.length,current:b.current,"per-page":b.perpage,pageRange:b.pageRange,onPageChanged:m[2]||(m[2]=oe=>b.current=oe),pageChanged:V.pageChanged,perPageChanged:V.perPageChanged,enableSearch:"",enableSelect:""},null,8,["total","current","per-page","pageRange","pageChanged","perPageChanged"])])]),_:1},8,["columns","rows","pagination-options","search-options"]),e(M,{activeModal:b.showEditModal,onClose:m[3]||(m[3]=V=>b.showEditModal=!1),ingresoData:b.ingresoData,title:"Actualizar Datos Ingreso",onUpdateIngresoList:S.listarIngresos},null,8,["activeModal","ingresoData","onUpdateIngresoList"])]),_:1})])}const xt=fl(Jo,[["render",yt]]),Ml=je().headers();function Vt(){const g=new Date;return g.setHours(g.getHours()-5),g.toISOString().slice(0,10)}const Ct={components:{InputGroup:qe,Tooltip:wl,FromGroup:i,Button:N,Pagination:kl,Dropdown:Sl,Icon:yl,EditProject:Dl,MenuItem:Ul,Card:_l,ProgressBar:Nl},data(){return{searchTerm:"",egresoData:{},showEditModal:!1,current:1,dateDefault:Vt(),perpage:3,pageRange:10,actions:[{name:"edit",icon:"heroicons:pencil-square",doit:g=>{console.log(g),this.egresoData=g,this.showEditModal=!0}},{name:"delete",icon:"heroicons-outline:trash",doit:async g=>{try{await x.delete(`https://thtbackend-production.up.railway.app/api/v1/hotels/delete/${g.id}`,Ml),me().success("Hotel eliminado correctamente",{timeout:1500}),this.listarHoteles()}catch(m){console.error("Error al eliminar empleado:",m)}}}],columns:[{label:"N° ingreso",field:"nro_voucher"},{label:"Fecha",field:"date_movement"},{label:"Caja",field:"branch_office"},{label:"Receptor",field:"client"},{label:"Concepto",field:"concept"},{label:"Método pago	",field:"payment_method"},{label:"Monto ",field:"amount"},{label:"Action",field:"action"}],projects:[]}},methods:{async reloadCrmTable(){try{await this.listarIngresos()}catch(g){console.error("Error al recargar Egresos :",g)}},async listarIngresos(){try{const g=await x.get("https://thtbackend-production.up.railway.app/api/v1/moneys-akemy/list-expense",{params:{date:this.dateDefault},...Ml});this.projects=g.data,console.log(this.projects),this.projects&&this.projects.length>0?me().success("Egresos listados correctamente",{timeout:1500}):me().info("Para el día de hoy, todavía no exiten registros de egreso",{timeout:2500})}catch(g){console.error("Error al obtener los datos de los egresos:",g),me().error("Ocurrió un error al obtener los egresos. Por favor, inténtalo de nuevo.",{timeout:1500})}},async downloadFile2(){try{const g=await x.get("https://thtbackend-production.up.railway.app/api/v1/export-money-por-dia-expense",{params:{date:this.dateDefault},responseType:"blob"});console.log(g);const m=g.request.responseURL,$=new URL(m),E=document.createElement("a");E.href=$,E.setAttribute("download","archivo.xlsx"),E.style.display="none",document.body.appendChild(E),E.click(),document.body.removeChild(E),console.log("Descarga iniciada automáticamente.")}catch(g){console.error("Error al descargar el archivo:",g)}},handleVerDocumento(g){x.get(`https://thtbackend-production.up.railway.app/api/v1/list-movements-pdf/${g}`).then(m=>{}).catch(m=>{console.error("Error al obtener la URL del PDF:",m),window.open(m.config.url,"_blank")})}},watch:{async dateDefault(g,m){try{const $=await x.get("https://thtbackend-production.up.railway.app/api/v1/moneys-akemy/list-expense",{params:{date:g},...Ml});this.projects=$.data,console.log(g),this.projects&&this.projects.length>0?me().success("Egresos listados correctamente",{timeout:1500}):me().info("Para este día, no hay registros de egreso",{timeout:2500})}catch($){console.error("Error al obtener los datos de los egresos:",$),me().error("Ocurrió un error al obtener los egresos. Por favor, inténtalo de nuevo.",{timeout:1500})}}},mounted(){this.listarIngresos()}},kt={class:"md:flex justify-between pb-6 md:space-y-0 space-y-3 items-center"},wt=o("h5",null,"Egresos Caja General.A",-1),$t={class:"flex items-center"},Et={key:0},Mt={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},It={class:"font-bold text-purple-700"},St={key:1},Ut={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Dt={key:2,class:"block"},Tt=o("br",null,null,-1),Nt=["innerHTML"],Pt=o("br",null,null,-1),Lt=["innerHTML"],Rt=o("br",null,null,-1),At=["innerHTML"],jt={key:3},qt={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Ot={key:4},Bt={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Ft={key:5,class:"action-btn text-end mr-3"},Gt=["onClick"],zt=o("span",null,"Ver documento",-1),Ht={class:"text-xl"},Jt=["onClick"],Yt={class:"text-base"},Qt={class:"py-4 px-3"};function Kt(g,m,$,E,b,S){const T=U("Button"),z=U("flat-pickr"),J=U("FromGroup"),Y=U("InputGroup"),Q=U("Icon"),Z=U("Tooltip"),w=U("MenuItem"),se=U("Dropdown"),q=U("Pagination"),Ie=U("vue-good-table"),M=U("EditProject"),L=U("Card");return h(),y("div",null,[e(L,{noborder:""},{default:s(()=>[o("div",kt,[wt,o("div",$t,[e(T,{icon:"heroicons-outline:arrow-path",btnClass:" btn-outline-secondary text-slate-600 dark:border-slate-700 dark:text-slate-300 font-normal btn-sm mr-3",iconClass:"text-lg",onClick:S.reloadCrmTable},null,8,["onClick"]),e(J,{name:"d1"},{default:s(()=>[e(z,{modelValue:b.dateDefault,"onUpdate:modelValue":m[0]||(m[0]=V=>b.dateDefault=V),class:"form-control",id:"d1",placeholder:"yyyy, dd M"},null,8,["modelValue"])]),_:1}),e(Y,{modelValue:b.searchTerm,"onUpdate:modelValue":m[1]||(m[1]=V=>b.searchTerm=V),placeholder:"Ingrese N° de recibo para buscar",type:"text",prependIcon:"heroicons-outline:search",merged:"",class:"ml-3 w-[280px]"},null,8,["modelValue"]),e(T,{icon:"heroicons-outline:download",btnClass:"bg-green-700 text-white ml-4 text-sm",iconClass:"text-lg",onClick:I(S.downloadFile2,["prevent"])},null,8,["onClick"])])]),e(Ie,{class:"-mx-6",columns:b.columns,styleClass:" vgt-table  table-head   v-middle striped  listview",rows:this.projects,"pagination-options":{enabled:!0,perPage:b.perpage},"search-options":{enabled:!0,externalQuery:b.searchTerm},"sort-options":{enabled:!1}},{"table-row":s(V=>{var oe,fe;return[V.column.field=="nro_voucher"?(h(),y("span",Et,[o("div",Mt,[o("span",It,K(V.row.nro_voucher),1)])])):P("",!0),V.column.field=="branch_office"?(h(),y("span",St,[o("div",Ut,K((oe=V.row.branch_office)==null?void 0:oe.description),1)])):P("",!0),V.column.field==="client"?(h(),y("span",Dt,[o("div",null,[V.row.client?(h(),y(ue,{key:0},[be(" C- "+K(V.row.client.fullname),1),Tt,o("span",{class:"font-bold",innerHTML:"N° Doc "+V.row.client.document},null,8,Nt)],64)):V.row.employee?(h(),y(ue,{key:1},[be(" E- "+K(V.row.employee.fullname),1),Pt,o("span",{class:"font-bold",innerHTML:"N° Doc "+V.row.employee.document},null,8,Lt)],64)):V.row.provider?(h(),y(ue,{key:2},[be(" P- "+K(V.row.provider.fullname),1),Rt,o("span",{class:"font-bold",innerHTML:"N° Doc "+V.row.provider.document},null,8,At)],64)):(h(),y(ue,{key:3},[be(" No hay información disponible ")],64))])])):P("",!0),V.column.field=="concept"?(h(),y("span",jt,[o("div",qt,K(V.row.concept.description),1)])):P("",!0),V.column.field=="payment_method"?(h(),y("span",Ot,[o("div",Bt,K((fe=V.row.payment_method)==null?void 0:fe.description),1)])):P("",!0),V.column.field=="action"?(h(),y("div",Ft,[e(Z,{placement:"top",arrow:"",theme:"info-500"},{button:s(()=>[o("div",{class:"action-btn",onClick:I(ce=>S.handleVerDocumento(V.row.id),["prevent"])},[e(Q,{class:"text-2xl",icon:"heroicons:clipboard-document-list"})],8,Gt)]),default:s(()=>[zt]),_:2},1024),e(se,{classMenuItems:" w-[150px]"},{menus:s(()=>[(h(!0),y(ue,null,gl(b.actions,(ce,Se)=>(h(),sl(w,{key:Se},{default:s(()=>[o("div",{onClick:Te=>ce.doit(V.row),class:bl(`
                
                  ${ce.name==="delete"?"bg-danger-500 text-danger-500 bg-opacity-30  hover:bg-opacity-100 hover:text-white":"hover:bg-slate-900 hover:text-white"}
                   w-full border-b border-b-gray-500 border-opacity-10 px-4 py-2 text-sm  last:mb-0 cursor-pointer first:rounded-t last:rounded-b flex  space-x-2 items-center `)},[o("span",Yt,[e(Q,{icon:ce.icon},null,8,["icon"])]),o("span",null,K(ce.name),1)],10,Jt)]),_:2},1024))),128))]),default:s(()=>[o("div",Ht,[e(Q,{icon:"heroicons-outline:dots-vertical"})])]),_:2},1024)])):P("",!0)]}),"pagination-bottom":s(V=>[o("div",Qt,[e(q,{total:b.projects.length,current:b.current,"per-page":b.perpage,pageRange:b.pageRange,onPageChanged:m[2]||(m[2]=oe=>b.current=oe),pageChanged:V.pageChanged,perPageChanged:V.perPageChanged,enableSearch:"",enableSelect:""},null,8,["total","current","per-page","pageRange","pageChanged","perPageChanged"])])]),_:1},8,["columns","rows","pagination-options","search-options"]),e(M,{activeModal:b.showEditModal,onClose:m[3]||(m[3]=V=>b.showEditModal=!1),egresoData:b.egresoData,title:"Actualizar Datos Ingreso",onUpdateEgresoList:S.listarIngresos},null,8,["activeModal","egresoData","onUpdateEgresoList"])]),_:1})])}const Wt=fl(Ct,[["render",Kt]]),Zt=je().headers(),Xt={components:{Card:_l,Button:N,Tooltip:wl,Pagination:kl,Icon:yl,FromGroup:i},data(){return{advancedTable:[],toast:me(),current:1,perpage:10,pageRange:5,searchTerm:"",options:[{value:"1",label:"1"},{value:"3",label:"3"},{value:"5",label:"5"}],columns:[{label:"Caja",field:"branch_box"},{label:"Fecha Apertura	",field:"date_opening"},{label:"Monto Apertura	",field:"amount_opening"},{label:"Fecha Cierre	",field:"date_closing"},{label:"Monto Cierre	",field:"amount_closing"},{label:"Usuario	",field:"user"},{label:"Action",field:"action"}],reloadKey:0,rangeDate:null,statistics:[{title:"Sales",count:"354",bg:"bg-warning-500",text:"text-primary-500",percent:"25.67% ",icon:"heroicons:arrow-trending-up",img:Pl,percentClass:"text-primary-500"},{title:"Revenue ",count:"$86,954",bg:"bg-info-500",text:"text-primary-500",percent:"8.67%",icon:"heroicons:arrow-trending-up",img:Ll,percentClass:"text-primary-500"},{title:"Conversion",count:"15%",bg:"bg-primary-500",text:"text-danger-500",percent:"1.67%  ",icon:"heroicons:arrow-trending-down",img:Rl,percentClass:"text-danger-500"},{title:"Leads",count:"654",bg:"bg-success-500",text:"text-primary-500",percent:"11.67%  ",icon:"heroicons:arrow-trending-up",img:Al,percentClass:"text-primary-500"}],Campaigns:[{name:"Channel",value:"roi"},{name:"Email",value:"40%"},{name:"Website",value:"28%"},{name:"Facebook",value:"34%"},{name:"Offline",value:"17%"}]}},methods:{handleVerDocumento(g){x.get(`https://thtbackend-production.up.railway.app/api/v1/list-box-cuadre-akemy/${g}`).then(m=>{}).catch(m=>{console.error("Error al obtener la URL del PDF:",m),window.open(m.config.url,"_blank")})},async reloadCrmTable(){try{await this.fetchMoneyBoxes()}catch(g){console.error("Error al recargar Cajas de Dinero :",g)}},showSuccessToast(g){this.toast.success(g,{position:"top-right",timeout:3e3})},showErrorToast(g){this.toast.error(g,{position:"top-right",timeout:3e3})},fetchMoneyBoxes(){x.get("https://thtbackend-production.up.railway.app/api/v1/moneyboxes-akemy/list-normally",Zt).then(g=>{this.advancedTable=g.data.data,console.log(this.advancedTable),this.showSuccessToast("Historial de caja recuperado correctamente!")}).catch(g=>{console.error("Error al obtener los registros de dinero:",g),this.showErrorToast("Error al obtener el Historial de caja. Por favor, inténtalo de nuevo.")})}},mounted(){this.fetchMoneyBoxes()}},ea={class:"card-auto space-y-5"},la={class:"-mx-6"},oa={key:0,class:"font-medium",style:{fontWeight:"bold"}},ta={key:1,class:"font-medium text-blue-500"},aa={key:2,class:"font-medium text-purple-500"},na={key:3,class:"font-medium"},sa=o("br",null,null,-1),da={key:4},ca={class:"flex space-x-3 justify-center rtl:space-x-reverse"},ia=["onClick"],ra=o("span",null,"Ver Cuadre",-1),ua={class:"py-4 px-3 flex justify-center"};function pa(g,m,$,E,b,S){const T=U("Button"),z=U("Icon"),J=U("Tooltip"),Y=U("Pagination"),Q=U("vue-good-table"),Z=U("Card");return h(),y("div",null,[o("div",ea,[e(Z,{title:"Historial de Caja",noborder:""},{header:s(()=>[e(T,{icon:"heroicons-outline:arrow-path",btnClass:" btn-outline-secondary text-slate-600 dark:border-slate-700 dark:text-slate-300 font-normal btn-sm ",iconClass:"text-lg",onClick:S.reloadCrmTable},null,8,["onClick"])]),default:s(()=>[o("div",la,[o("div",null,[e(Q,{columns:b.columns,styleClass:" vgt-table  lesspadding2 centered ",rows:b.advancedTable,"pagination-options":{enabled:!0,perPage:b.perpage},"sort-options":{enabled:!1}},{"table-row":s(w=>[w.column.field=="branch_box"?(h(),y("span",oa,K(w.row.branch_box.description),1)):P("",!0),w.column.field=="amount_opening"?(h(),y("span",ta," S/. "+K(w.row.amount_opening),1)):P("",!0),w.column.field=="amount_closing"?(h(),y("span",aa," S/. "+K(w.row.amount_closing),1)):P("",!0),w.column.field=="user"?(h(),y("span",na,[be(K(w.row.user.name)+" ",1),sa])):P("",!0),w.column.field=="action"?(h(),y("span",da,[o("div",ca,[e(J,{placement:"top",arrow:"",theme:"info-500"},{button:s(()=>[o("div",{class:"action-btn",onClick:I(se=>S.handleVerDocumento(w.row.id),["prevent"])},[e(z,{class:"text-2xl",icon:"heroicons-outline:clipboard-document-check"})],8,ia)]),default:s(()=>[ra]),_:2},1024)])])):P("",!0)]),"pagination-bottom":s(w=>[o("div",ua,[e(Y,{total:b.advancedTable.length,current:b.current,"per-page":b.perpage,pageRange:b.pageRange,onPageChanged:m[0]||(m[0]=se=>b.current=se),pageChanged:w.pageChanged,perPageChanged:w.perPageChanged,enableSearch:"",enableSelect:"",options:b.options},{default:s(()=>[be(" > ")]),_:2},1032,["total","current","per-page","pageRange","pageChanged","perPageChanged","options"])])]),_:1},8,["columns","rows","pagination-options"])])])]),_:1})])])}const ma=fl(Xt,[["render",pa]]),va=je().headers(),ga={components:{Pagination:kl,InputGroup:qe,VueTailwindDatePicker:jl,Tooltip:wl,Dropdown:Sl,FromGroup:i,Icon:yl,Card:_l,MenuItem:Ul,Button:N},data(){const m=new Date,E=new Date(m.getTime()+-300*6e4).toISOString().split("T")[0],b=new Date,T=new Date(b.getFullYear(),b.getMonth(),1).toISOString().split("T")[0]+" 00:00:00",J=new Date(b.getFullYear(),b.getMonth()+1,0).toISOString().split("T")[0]+" 23:59:59";return{advancedTable:[],toast:me(),current:1,perpage:10,dateValue:{startDate:T,endDate:J},dateDefault:E,pageRange:5,searchTerm:"",actions:[{name:"anular",icon:"heroicons-outline:trash",doit:()=>{}}],options:[{value:"1",label:"1"},{value:"3",label:"3"},{value:"5",label:"5"}],columns:[{label:"Tipo de Vaucher",field:"nro_voucher"},{label:"Concepto",field:"concept.description"},{label:"Responsable",field:"client.fullname"},{label:"Monto",field:"amount"},{label:"Metódo de pago",field:"payment_method.description"},{label:"Fecha del movimiento",field:"date_movement"},{label:"Action",field:"action"}]}},methods:{async reloadCrmTable(){try{await this.fetchMoneyRecords(this.dateDefault)}catch(g){console.error("Error al recargar Movimientos :",g)}},handleVerDocumento(g){x.get(`https://thtbackend-production.up.railway.app/api/v1/list-movements-pdf/${g}`).then(m=>{}).catch(m=>{console.error("Error al obtener la URL del PDF:",m),window.open(m.config.url,"_blank")})},showSuccessToast(g){this.toast.success(g,{position:"top-right",timeout:3e3})},showErrorToast(g){this.toast.error(g,{position:"top-right",timeout:3e3})},showInfoToast(g){this.toast.info(g,{position:"top-right",timeout:5e3})},fetchMoneyRecords(g){x.get("https://thtbackend-production.up.railway.app/api/v1/moneys-akemy/list-movements/",{...va,params:{start_date:this.dateValue.startDate,end_date:this.dateValue.endDate}}).then(m=>{console.log(m),m.data&&m.data.data&&m.data.data.length>0?(this.advancedTable=m.data.data,console.log(this.advancedTable),this.showSuccessToast("¡Registros de dinero obtenidos correctamente!")):(this.advancedTable=[],this.showInfoToast("No se registraron movimientos de dinero para este día o aún no hay registros."))}).catch(m=>{console.error("Error al obtener los registros de dinero:",m),this.showErrorToast("Error al obtener los registros de dinero. Por favor, inténtalo de nuevo.")})},async downloadFile(){try{const g=await x.get("https://thtbackend-production.up.railway.app/api/v1/export-money-por-dia-income-and-expense",{params:{date:this.dateDefault},responseType:"blob"});console.log(g);const m=g.request.responseURL,$=new URL(m),E=document.createElement("a");E.href=$,E.setAttribute("download","archivo.xlsx"),E.style.display="none",document.body.appendChild(E),E.click(),document.body.removeChild(E),console.log("Descarga iniciada automáticamente.")}catch(g){console.error("Error al descargar el archivo:",g)}}},mounted(){this.fetchMoneyRecords(this.dateDefault)},watch:{dateDefault(g,m){console.log("Nuevo valor de dateDefault:",g),this.fetchMoneyRecords(g)}},computed:{filteredRows(){if(!this.searchTerm)return this.advancedTable;const g=this.searchTerm.toLowerCase();return this.advancedTable.filter(m=>{var $,E;return m.concept.description.toLowerCase().includes(g)||String(m.amount).toLowerCase().includes(g)||String(($=m.client)==null?void 0:$.fullname).toLowerCase().includes(g)||((E=m.payment_method)==null?void 0:E.description.toLowerCase().includes(g))||m.voucher.description.toLowerCase().includes(g)||m.nro_voucher.toLowerCase().includes(g)||m.date_movement.toLowerCase().includes(g)})}}},ba={class:"md:flex pb-6 items-center"},fa=o("h6",{class:"flex-1 md:mb-0 mb-3"},"Movimientos de Caja General.A",-1),ha={class:"md:flex md:space-x-3 items-center flex-none rtl:space-x-reverse"},_a={class:"w-[370px]"},ya={class:"-mx-6"},xa={key:0,class:"font-medium"},Va=o("br",null,null,-1),Ca={class:"font-bold"},ka={key:1,class:"font-medium"},wa=o("br",null,null,-1),$a={key:2,class:"font-medium w-[100px]"},Ea={key:3,class:"font-medium"},Ma=o("br",null,null,-1),Ia=["innerHTML"],Sa=o("br",null,null,-1),Ua=["innerHTML"],Da=o("br",null,null,-1),Ta=["innerHTML"],Na={key:4,class:"font-bold"},Pa={key:5,class:"flex items-center"},La={class:"text-xl"},Ra=["onClick"],Aa={class:"text-base"},ja=["onClick"],qa=o("span",null,"Ver Documento",-1),Oa={class:"py-4 px-3"};function Ba(g,m,$,E,b,S){const T=U("Button"),z=U("VueTailwindDatePicker"),J=U("FromGroup"),Y=U("InputGroup"),Q=U("Icon"),Z=U("MenuItem"),w=U("Dropdown"),se=U("Tooltip"),q=U("Pagination"),Ie=U("vue-good-table"),M=U("Card");return h(),y("div",null,[e(M,{noborder:""},{default:s(()=>[o("div",ba,[fa,o("div",ha,[e(T,{icon:"heroicons-outline:arrow-path",btnClass:" btn-outline-secondary text-slate-600 dark:border-slate-700 dark:text-slate-300 font-normal btn-sm ",iconClass:"text-lg",onClick:S.reloadCrmTable},null,8,["onClick"]),e(J,{name:"d1"},{default:s(()=>[o("div",_a,[e(z,{modelValue:b.dateValue,"onUpdate:modelValue":m[0]||(m[0]=L=>b.dateValue=L),"input-classes":"form-control "},null,8,["modelValue"])])]),_:1}),e(Y,{modelValue:b.searchTerm,"onUpdate:modelValue":m[1]||(m[1]=L=>b.searchTerm=L),placeholder:"Ingrese el N° de voucher, ó N° de venta, ó datos del emisor o receptor",type:"text",prependIcon:"heroicons-outline:search",merged:"",class:"ml-3 w-[513px]"},null,8,["modelValue"]),e(T,{icon:"heroicons-outline:download",btnClass:"bg-green-700 text-white ml-4 text-sm",onClick:I(S.downloadFile,["prevent"]),iconClass:"text-lg"},null,8,["onClick"])])]),o("div",ya,[e(Ie,{columns:b.columns,styleClass:" vgt-table bordered centered ",rows:S.filteredRows,"sort-options":{enabled:!1},"pagination-options":{enabled:!0,perPage:b.perpage},"search-options":{enabled:!0,externalQuery:b.searchTerm}},{"table-row":s(L=>{var V,oe,fe;return[L.column.field=="nro_voucher"?(h(),y("span",xa,[be(K((V=L.row.voucher)==null?void 0:V.description)+" ",1),Va,o("span",Ca,K(L.row.nro_voucher),1)])):P("",!0),L.column.field=="concept"?(h(),y("span",ka,[be(K((oe=L.row.concept)==null?void 0:oe.description)+" ",1),wa])):P("",!0),L.column.field=="amount"?(h(),y("div",$a,[o("span",null,"S/ "+K(L.row.amount),1)])):P("",!0),L.column.field=="client.fullname"?(h(),y("span",Ea,[o("div",null,[L.row.client?(h(),y(ue,{key:0},[be(" C- "+K(L.row.client.fullname),1),Ma,o("span",{class:"font-bold",innerHTML:"N° Doc "+L.row.client.document},null,8,Ia)],64)):L.row.employee?(h(),y(ue,{key:1},[be(" E- "+K(L.row.employee.fullname),1),Sa,o("span",{class:"font-bold",innerHTML:"N° Doc "+L.row.employee.document},null,8,Ua)],64)):L.row.provider?(h(),y(ue,{key:2},[be(" P- "+K(L.row.provider.fullname),1),Da,o("span",{class:"font-bold",innerHTML:"N° Doc "+L.row.provider.document},null,8,Ta)],64)):(h(),y(ue,{key:3},[be(" No hay información disponible ")],64))])])):P("",!0),L.column.field=="payment_method.description"?(h(),y("span",Na,K((fe=L.row.payment_method)==null?void 0:fe.description),1)):P("",!0),L.column.field=="action"?(h(),y("span",Pa,[e(w,{classMenuItems:"w-[140px]"},{menus:s(()=>[(h(!0),y(ue,null,gl(b.actions,(ce,Se)=>(h(),sl(Z,{key:Se},{default:s(()=>[o("div",{onClick:ce.doit,class:bl(`
            ${ce.name==="anular"?"bg-danger-500 text-danger-500 bg-opacity-30 hover:bg-opacity-100 hover:text-white":"hover:bg-slate-900 hover:text-white"}
            w-full border-b border-b-gray-500 border-opacity-10 px-4 py-2 text-sm last:mb-0 cursor-pointer first:rounded-t last:rounded-b flex space-x-2 items-center rtl:space-x-reverse `)},[o("span",Aa,[e(Q,{icon:ce.icon},null,8,["icon"])]),o("span",null,K(ce.name),1)],10,Ra)]),_:2},1024))),128))]),default:s(()=>[o("span",La,[e(Q,{icon:"heroicons-outline:dots-vertical"})])]),_:1}),e(se,{placement:"top",arrow:"",theme:"info-500"},{button:s(()=>[o("div",{class:"action-btn",onClick:I(ce=>S.handleVerDocumento(L.row.id),["prevent"])},[e(Q,{class:"text-2xl",icon:"heroicons-outline:arrow-down-on-square-stack"})],8,ja)]),default:s(()=>[qa]),_:2},1024)])):P("",!0)]}),"pagination-bottom":s(L=>[o("div",Oa,[e(q,{total:this.advancedTable.length,current:b.current,"per-page":b.perpage,pageRange:b.pageRange,onPageChanged:m[2]||(m[2]=V=>b.current=V),pageChanged:L.pageChanged,perPageChanged:L.perPageChanged,enableSearch:"",enableSelect:"",options:b.options},{default:s(()=>[be(" > ")]),_:2},1032,["total","current","per-page","pageRange","pageChanged","perPageChanged","options"])])]),_:1},8,["columns","rows","pagination-options","search-options"])])]),_:1})])}const Fa=fl(ga,[["render",Ba]]),Ga={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},za={class:"md:col-span-2"},Ha={class:"form-group relative"},Ja={class:"form-group relative"},Ya={key:1,class:"absolute top-full left-0 text-red-500 mt-4"},Qa={class:"form-group relative"},Ka={class:"text-red-500 text-4xl text-center"},Wa={class:"col-span-2 text-right"},Za={class:"buttons-container"},Xa={__name:"TranfserModalAdd",props:{id:String},emits:["guardadoExitoso"],setup(g,{emit:m}){const $=ml(),E=me(),b=je().headers(),S=m,T=u({description:"",totalAcumlado:""}),z=g,J=[{value:1,label:"Efectivo"},{value:2,label:"Visa"},{value:3,label:"Cheque"},{value:4,label:"Depósito a cuenta"}],Y=u(null),Q=u(!1),Z=()=>{console.log(T.value),x.post("https://thtbackend-production.up.railway.app/api/v1/transfers-moneyboxes/transfer-caja-principal",{amount:T.value.description,paymentmethod_id:Y.value},{...b}).then(M=>{console.log("Datos guardados exitosamente:",M.data),w(),E.success(M.data.message),setTimeout(()=>{S("guardadoExitoso",M.data),location.reload(!0)},2500)}).catch(M=>{M.response?M.response.status===400?(w(),E.error(M.response.data.message)):M.response.status===500?E.error(M.response.data.message):console.error("Error al realizar la transferencia:",M):console.error("Error al realizar la transferencia:",M)})},w=()=>{$.closeModalTransfer()};k(Y,M=>{Q.value=M!==null}),k(Y,(M,L)=>{console.log("Valor seleccionado:",M),Q.value=M!==null,console.log(z.id),M!==null&&x.post("https://thtbackend-production.up.railway.app/api/v1/transfers-moneyboxes/calculate-totals",{moneybox_id:z.id,paymentmethod_id:M},{...b}).then(V=>{console.log("Total del dinero en caja:",V.data.total),T.value.totalAcumlado=V.data.total,console.log(T.value.totalAcumlado)}).catch(V=>{console.error("Error al obtener el total del dinero en caja:",V)})});const se=u(""),q=u(null);k(()=>T.value.description,(M,L)=>{se.value=M});const Ie=()=>{if(!isNaN(se.value)&&!isNaN(T.value.totalAcumlado)){const L=(parseFloat(T.value.totalAcumlado)-parseFloat(se.value)).toFixed(2);T.value.totalAcumlado=L}};return k(()=>se.value,(M,L)=>{clearTimeout(q.value),q.value=setTimeout(()=>{Ie()},500)}),(M,L)=>(h(),y("div",null,[e(l(pe),{activeModal:l($).addmodalTrasnfer,onClose:l($).closeModalTransfer,title:"Transferir a Caja Principal",class:"max-w-xs mx-auto",centered:""},{default:s(()=>[o("form",{onSubmit:I(Z,["prevent"]),class:"space-y-4"},[o("div",Ga,[o("div",za,[o("div",Ha,[e(l(i),{label:"¿De donde se descontara el dinero?",name:"d2"},{default:s(()=>[e(l(_),{id:"payment-type",options:J,modelValue:Y.value,"onUpdate:modelValue":L[0]||(L[0]=V=>Y.value=V),class:"pago-select"},null,8,["modelValue"])]),_:1})])]),o("div",null,[o("div",Ja,[Q.value?(h(),sl(l(i),{key:0,label:"Monto de transferencia",name:"d2",class:"mt-3"},{default:s(()=>[e(l(qe),{type:"text",appendIcon:"heroicons-outline:cash",placeholder:"Ingresar Monto",modelValue:T.value.description,"onUpdate:modelValue":L[1]||(L[1]=V=>T.value.description=V),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})):P("",!0),T.value.description?P("",!0):(h(),y("span",Ya," El valor monto a transferir es obligatorio "))])]),o("div",null,[o("div",Qa,[Q.value?(h(),sl(l(i),{key:0,label:"Total de dinero en la",name:"d3",class:"mt-3 text-center"},{default:s(()=>[o("span",Ka,K(T.value.totalAcumlado),1)]),_:1})):P("",!0)])]),o("div",Wa,[o("div",Za,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(w,["prevent"])}),e(l(N),{text:"Transferir",btnClass:"btn-dark"})])])])],32)]),_:1},8,["activeModal","onClose"])]))}},en={class:"row"},ln={class:"col-lg-12"},on={class:"row"},tn={class:"form-group col-lg-6 relative"},an={key:0,class:"absolute top-full left-0 text-red-500 mt-4"},nn={class:"form-group col-lg-12 form__footerBtn mt-12"},sn={class:"text-right"},dn={__name:"CityTouristicAddModal",emits:["guardadoExitoso"],setup(g,{emit:m}){const $=ml(),E=me(),b=je().headers(),S=m,T=u({description:""}),z=()=>{console.log(T.value),x.post("https://thtbackend-production.up.railway.app/api/v1/moneyboxes-akemy/create",{amount_opening:T.value.description,balance:T.value.description},{...b}).then(Y=>{console.log("Datos guardados exitosamente:",Y.data),J(),E.success(Y.data.message),S("guardadoExitoso",Y.data)}).catch(Y=>{console.error("Error al guardar los datos:",Y)})},J=()=>{$.closeModal()};return(Y,Q)=>(h(),y("div",null,[e(l(pe),{activeModal:l($).addmodal,onClose:l($).closeModal,title:"APERTURA DE CAJA",sizeClass:"max-w-2xl",centered:""},{default:s(()=>[o("form",{onSubmit:I(z,["prevent"]),class:"space-y-4"},[o("div",en,[o("div",ln,[o("div",on,[o("div",tn,[e(l(i),{label:"Monto Inicial",name:"d2"},{default:s(()=>[e(l(qe),{type:"text",appendIcon:"heroicons-outline:cash",placeholder:"Ingresar Monto",name:"object_description",modelValue:T.value.description,"onUpdate:modelValue":Q[0]||(Q[0]=Z=>T.value.description=Z),modelModifiers:{trim:!0}},null,8,["modelValue"]),T.value.description?P("",!0):(h(),y("span",an," Este valor es obligatorio "))]),_:1})])])]),o("div",nn,[o("div",sn,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(J,["prevent"])}),e(l(N),{text:"Guardar",btnClass:"btn-dark"})])])])],32)]),_:1},8,["activeModal","onClose"])]))}};je().headers();const cn={components:{Button:N,Modal:pe,Textinput:C,InputGroup:qe,FromGroup:i,Alert:Bl},props:{activeModal:Boolean,id:String,monto:String},data(){return{object:{description:""}}},methods:{closeEditModal(){this.$emit("close")},async openBox(){console.log("id",this.id),console.log("monto",this.monto);try{localStorage.removeItem("idValue");const g=await x.post(`https://thtbackend-production.up.railway.app/api/v1/moneyboxes-akemy/update-closed/${this.id}`,{amount_closing:this.monto,balance:this.monto},{...je().headers()});window.location.reload(),console.log(g.data.message)}catch(g){console.error("Error al actualizar la MoneyBox:",g)}},cancel(){ml().closeModal()}},watch:{id(g,m){console.log("Nuevo valor de message:",g),console.log("Valor anterior de message:",m)}}},rn={class:"space-y-4"},un={class:"row"},pn={class:"col-lg-12"},mn={class:"row"},vn={class:"form-group col-lg-6 relative"},gn={class:"text-3xl font-bold"},bn={class:"form-group col-lg-12 form__footerBtn mt-8"},fn={class:"text-right"},hn=o("span",null,"Confirmar Cierre",-1),_n=[hn],yn=o("span",null,"Cancelar",-1),xn=[yn];function Vn(g,m,$,E,b,S){const T=U("Alert"),z=U("Modal");return h(),y("div",null,[e(z,{activeModal:$.activeModal,onClose:S.closeEditModal,title:"CIERE DE CAJA",sizeClass:"max-w-2xl",centered:""},{default:s(()=>[o("form",rn,[o("div",un,[o("div",pn,[o("div",mn,[o("div",vn,[e(T,{type:"warning"},{default:s(()=>[o("div",gn," ¿Estás seguro(a)? Está por cerrar la caja con S/ "+K($.monto)+", antes le recomendamos realizar su arqueo !! ",1)]),_:1})])])]),o("div",bn,[o("div",fn,[o("button",{class:"invocie-btn mr-3 inline-flex btn whitespace-nowrap space-x-1 cursor-pointer bg-red-700 dark:bg-red-700 btn-md h-min text-sm font-normal text-white rtl:space-x-reverse",onClick:m[0]||(m[0]=I(J=>S.openBox(),["prevent"]))},_n),o("button",{onClick:m[1]||(m[1]=I(J=>S.closeEditModal(),["prevent"])),class:"invocie-btn mr-3 inline-flex btn whitespace-nowrap space-x-1 cursor-pointer bg-green-900 dark:bg-green-700 btn-md h-min text-sm font-normal text-white rtl:space-x-reverse"},xn)])])])])]),_:1},8,["activeModal","onClose"])])}const Cn=fl(cn,[["render",Vn]]),kn={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},wn={key:0,class:"text-red-500"},$n={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},En={key:0,class:"text-red-500"},Mn={class:"grid lg:grid-cols-1 gap-4 grid-cols-1"},In={key:0,class:"flex items-center"},Sn={key:1,class:"flex items-center"},Un={key:2,class:"flex items-center"},Dn={name:"client_form",id:"client_form",autocomplete:"off",class:"mx-auto space-y-4"},Tn={class:"grid grid-cols-3 lg:grid-cols-3 gap-4"},Nn={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Pn={class:"lg:col-span-3"},Ln=o("div",{class:"lg:hidden"},null,-1),Rn={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},An={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},jn={class:"lg:col-span-3"},qn=o("div",{class:"lg:hidden"},null,-1),On={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Bn={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Fn={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Gn=o("div",{class:"lg:col-span-1"},null,-1),zn={class:"lg:col-span-3 flex justify-end"},Hn={name:"providerForm",id:"providerForm",autocomplete:"off",class:"space-y-4"},Jn={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Yn={class:"md:col-span-1 lg:col-span-2"},Qn={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Kn={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Wn={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Zn=o("div",{class:"lg:col-span-3"},null,-1),Xn={class:"lg:col-span-1 flex justify-end"},es={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},ls={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},os={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},ts={class:"flex items-center"},as={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},ns={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},ss=o("div",{class:"lg:col-span-3"},null,-1),ds={class:"lg:col-span-1 flex justify-end"},cs={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},is={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},rs=o("div",{class:"lg:col-span-3"},null,-1),us={class:"lg:col-span-1 flex justify-end"},ps={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},ms=o("label",{for:"payment-type",class:"block text-sm font-medium text-gray-700 flex items-center"},[be(" Método de pago "),o("span",{class:"text-red-500 ml-1"},"*")],-1),vs={class:"flex items-center"},gs={key:0,class:"text-red-500"},bs={class:"form-group col-lg-12 form__footerBtn mt-4"},fs={class:"text-right"},hs={__name:"ClientAddModal",setup(g){const m=je().headers();let $=ml();const E=me(),b=u(!1),S=u(!1),T=u(!1),z=u(!1),J=u([]),Y=u([]),Q=u([]),Z=()=>{$.closeModal2()},w=u({receptor_module:"",receptor_fullname:"",receptor_document:"",is_paycredit:"",available_edit:"",user_id:"",branchoffice_id:"",concept_id:"",paymentmethod_id:"",currency_id:"",voucher_id:"",client_id:"",provider_id:"",employee_id:"",accountbank_id:"",date_movement:"",amount:"",text_amount:"",gloss:"",reference_operation:"",nro_voucher:"",serie:"",correlative:"",billing_external_id:"",billing_hash:"",motive_cancelled:"",billing_cancelled:"",date_repayment:"",repaymentmovement_id:"",dischargedocument_id:"",is_voucher_external:"",voucher_external:"",nro_voucher_external:"",booking_id:"",commision_id:"",observation:"",is_visible:""}),se=async()=>{try{const f=await x.get("https://thtbackend-production.up.railway.app/api/v1/ubigeo/departments",m);J.value=f.data.data.map(p=>({value:p.id,label:p.name}))}catch(f){console.error("Error fetching departments:",f)}},q=async()=>{try{const f=await x.get("https://thtbackend-production.up.railway.app/api/v1/clients/list",m);ve.value=f.data.data.map(p=>({value:p.id,label:p.fullname}))}catch(f){console.error("Error fetching departments:",f)}},Ie=async()=>{try{const f=await x.get("https://thtbackend-production.up.railway.app/api/v1/moneys/income-concepts",m);Ue.value=f.data.data.map(p=>({value:p.id,label:p.description}))}catch(f){console.error("Error fetching departments:",f)}},M=async()=>{try{const f=await x.get("https://thtbackend-production.up.railway.app/api/v1/banks/list",m);te.value=f.data.data.map(p=>({value:p.id,label:p.description}))}catch(f){console.error("Error fetching departments:",f)}},L=async()=>{try{const f=await x.get("https://thtbackend-production.up.railway.app/api/v1/accountbanks/list",m);Ze.value=f.data.data.map(p=>({value:p.id,label:p.name}))}catch(f){console.error("Error fetching departments:",f)}},V=async()=>{try{const f=await x.get("https://thtbackend-production.up.railway.app/api/v1/providers/list",m);ce.value=f.data.data.map(p=>({value:p.id,label:p.fullname}))}catch(f){console.error("Error fetching departments:",f)}},oe=async()=>{try{const f=await x.get("https://thtbackend-production.up.railway.app/api/v1/employees/list",m);Se.value=f.data.data.map(p=>({value:p.id,label:p.fullname}))}catch(f){console.error("Error fetching departments:",f)}},fe=[{value:501,label:"SOL"},{value:502,label:"DÓLAR"},{value:503,label:"EURO"}],ce=u([]),Se=u([]),Te=u({description:""}),G=u({branchoffice_id:"",bank_id:"",typeaccount_id:"",currency_id:"",name:"",number_account:"",cci_account:"",balance:"",headline:"",description:""}),ve=u([]),O=[{value:1,label:"Caja Principal"}],Oe=[{value:500,label:"Oficina Principal"}],Ye=[{value:504,label:"CUENTA SIMPLE"},{value:505,label:"CUENTA CORRIENTE"},{value:506,label:"TARJETA DE CRÉDITO"}],Pe=u(null),ae=u(null),ye=u(null),he=u(null),xe=u(null),Ve=u(null),ge=u(fe[0].value),ke=u(Ye[0].value),we=u(Oe[0].value),$e=u(O[0].value),Le=()=>{console.log()},Be=()=>{b.value=!b.value},Fe=()=>{b.value=!1},Xe=()=>{S.value=!1},Qe=()=>{T.value=!1},Re=()=>{z.value=!1},Ke=()=>{S.value=!S.value},ol=()=>{T.value=!T.value},dl=Tl(()=>ve.value.slice(0,6)),Ae=()=>{const f=document.querySelector(".cajonci-select select");if(f){const t=f.selectedIndex,d=f.options[t].text;w.value.branchoffice_id=t,w.value.branchbox=d,console.log("Label seleccionado:",t,d)}else console.log("No se ha seleccionado ninguna opción.");const p=document.querySelector(".pago-select select");if(f){const t=p.selectedIndex,d=p.options[t].text;w.value.paymentmethod_id=t,w.value.paymethod=d,console.log("Label seleccionado:",t,d)}else console.log("No se ha seleccionado ninguna opción.");const F=Pe.value;w.value.client_id=F;const n=ae.value;w.value.provider_id=n;const a=ye.value;w.value.employee_id=a;const c=he.value;w.value.concept_id=c;const r=xe.value;w.value.accountbank_id=r,console.log(w.value),x.post("https://thtbackend-production.up.railway.app/api/v1/moneys-akemy/create",w.value,{...m}).then(t=>{console.log("Datos guardados exitosamente:",t.data),Z(),E.success(t.data.message)}).catch(t=>{if(console.error("Error al guardar los datos:",t),t.response&&t.response.data&&t.response.data.message){Z();const d=t.response.data.message;E.error(d)}else E.error("Ha ocurrido un error al guardar los datos. Por favor, inténtalo de nuevo.")})},cl=()=>{z.value=!z.value},X=u({typedocument_id:"",document:"",department_id:"",province_id:"",district_id:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:""}),We=u("cash"),te=u([]),ee=f=>!!w.value[f],ze=f=>ee(f),Ze=u([]),tl=[{value:1,label:"Natural"},{value:2,label:"Jurídico"}],le=[{value:1,label:"DNI"},{value:2,label:"RUC"},{value:3,label:"PASAPORTE"}],He=[{id:1,label:"Soltero"},{id:2,label:"Casado"},{id:2,label:"Viudo"},{id:2,label:"Divorciado"}],el=[{id:1,label:"Masculino"},{id:2,label:"Femenino"}],H=u({typedocument_id:"",department_id:"",province_id:"",district_id:"",type_client:"",fullname:"",document:"",tradename:"",address:"",email:"",telephone:"",cellphone:"",date_birthday:"",sex:"",status:"",typeDocument:""}),al=u(tl[0].value),B=u(le[0].value);let A=u(null),Ce=u(null),de=u(null),ne=u(null),D=u(null),_e="";const Ee=[{value:"clients",label:"Clientes"},{value:"providers",label:"Proveedores"},{value:"employees",label:"Empleados"}],ie=u(Ee[0].value),Ue=u([]),re=[{value:"cash",label:"Efectivo"},{value:"visa",label:"Visa"},{value:"check",label:"Cheque"},{value:"account_deposit",label:"Depósito a cuenta"}],Me=async()=>{try{const f=await x.get(`https://thtbackend-production.up.railway.app/api/v1/ubigeo/provinces/${H.value.department_id}`,m);Q.value=f.data.data.map(p=>({value:p.id,label:p.name}))}catch(f){console.error("Error fetching provinces:",f)}},Ge=async()=>{try{const f=await x.get(`https://thtbackend-production.up.railway.app/api/v1/ubigeo/districts/${H.value.province_id}`,m);Y.value=f.data.data.map(p=>({value:p.id,label:p.name}))}catch(f){console.error("Error fetching provinces:",f)}},il=()=>{x.get(`https://thtbackend-production.up.railway.app/api/v1/apiruc/${X.value.document}`).then(f=>{console.log("Respuesta de la API RUC:",f.data),X.value.fullname=f.data.razonSocial}).catch(f=>{console.error("Error al obtener datos del RUC:",f)})},ll=()=>{x.get(`https://thtbackend-production.up.railway.app/api/v1/apidni/${H.value.document}`).then(f=>{console.log("Respuesta de la API DNI:",f.data),H.value.fullname=`${f.data.nombres} ${f.data.apellidoPaterno} ${f.data.apellidoMaterno}`}).catch(f=>{console.error("Error al obtener datos del DNI:",f)})},Ne=()=>{console.log(Te.value),x.post("https://thtbackend-production.up.railway.app/api/v1/banks/create",Te.value,{...m}).then(f=>{console.log("Datos guardados exitosamente:",f.data),Re(),M(),E.success(f.data.message)}).catch(f=>{console.error("Error al guardar los datos:",f)})},rl=()=>{x.post("https://thtbackend-production.up.railway.app/api/v1/providers/create",X.value,{...m}).then(f=>{console.log("Datos guardados exitosamente:",f.data),Xe(),V(),E.success(f.data.message)}).catch(f=>{console.error("Error al guardar los datos:",f)})},vl=()=>{console.log(H.value);const f=document.querySelector(".typecliente-select select");if(f){const F=f.selectedIndex,n=F.toString();f.options[F].text,H.value.type_client=n,console.log("Label seleccionado:",H.value.type_client),console.log("Índice seleccionado como cadena:",n)}else console.log("No se ha seleccionado ninguna opción.");const p=document.querySelector(".typedocument-select select");if(f){const F=p.selectedIndex,n=p.options[F].text;H.value.typedocument_id=F,H.value.typeDocument=n,console.log("Id & Label seleccionado:",H.value.type_client)}else console.log("No se ha seleccionado ninguna opción.");x.post("https://thtbackend-production.up.railway.app/api/v1/clients/create",H.value,{...m}).then(F=>{console.log("Datos guardados exitosamente:",F.data),Fe(),q(),E.success(F.data.message)}).catch(F=>{console.error("Error al guardar los datos:",F)})},ul=()=>{const f=document.querySelector(".oficinaprincipal-select select");if(f){const a=f.selectedIndex,c=f.options[a].text;G.value.branchoffice_id=a,console.log("Label seleccionado:",a,c)}else console.log("No se ha seleccionado ninguna opción.");const p=document.querySelector(".typeaccount-select select");if(f){const a=p.selectedIndex,c=p.options[a].text;G.value.typeaccount_id=a,console.log("Label seleccionado:",a,c)}else console.log("No se ha seleccionado ninguna opción.");const F=document.querySelector(".banck-select select");if(f){const a=F.selectedIndex,c=F.options[a].text;G.value.bank_id=a,console.log("Label seleccionado:",a,c)}else console.log("No se ha seleccionado ninguna opción.");const n=document.querySelector(".money-select select");if(f){const a=n.selectedIndex,c=n.options[a].text;G.value.currency_id=a,console.log("Label seleccionado:",a,c)}else console.log("No se ha seleccionado ninguna opción.");console.log(G.value),x.post("https://thtbackend-production.up.railway.app/api/v1/accountbanks/create",G.value,{...m}).then(a=>{console.log("Datos guardados exitosamente:",a.data),Qe(),L(),E.success(a.data.message)}).catch(a=>{console.error("Error al guardar los datos:",a)})};k(()=>Pe.value,(f,p)=>{}),k(()=>$e.value,(f,p)=>{}),k(()=>he.value,(f,p)=>{}),k(()=>ge.value,(f,p)=>{}),k(()=>ae.value,(f,p)=>{}),k(()=>We.value,(f,p)=>{}),k(()=>xe.value,(f,p)=>{}),k(()=>ke.value,(f,p)=>{}),k(()=>Ve.value,(f,p)=>{}),k(()=>ye.value,(f,p)=>{}),k(()=>we.value,(f,p)=>{}),k(ie,(f,p)=>{const F=document.querySelector(".emisor-select select");if(F){const n=F.selectedIndex,a=F.options[n].text;console.log("Label seleccionado:",n,a)}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>de.value,(f,p)=>{if(document.querySelector(".district-select select")){const n=f.toString().padStart(6,"0");console.log("Id seleccionado:",n),H.value.district_id=n,X.value.district_id=n}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>Ce.value,(f,p)=>{if(document.querySelector(".province-select select")){const n=f.toString().padStart(4,"0");console.log("Id seleccionado:",n),H.value.province_id=n,X.value.province_id=n}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>A.value,(f,p)=>{if(document.querySelector(".department-select select")){const n=f.toString().padStart(2,"0");console.log("Id seleccionado:",n),H.value.department_id=n,X.value.department_id=n}else console.log("No se ha seleccionado ninguna opción.")});const nl=u("N° DNI"),pl=u("RENIEC");return k(()=>B.value,f=>{const p=document.querySelector(".typedocument-select select");if(p){const F=p.selectedIndex,n=p.options[F],a=p.options[F].text;H.value.typedocument_id=F,H.value.typeDocument=a,nl.value=`N° ${n.textContent}`,pl.value=f==="1"?"RENIEC":f==="2"?"SUNAT":"Validar",console.log(H.value.typeDocument)}else console.log("No se ha encontrado el elemento del selector.")}),k(()=>D.value,(f,p)=>{const F=document.querySelector(".sexo-select select");if(F){const n=F.selectedIndex,a=F.options[n].text;H.value.sex=a,console.log("Label seleccionado:",H.value.sex)}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>ne.value,(f,p)=>{const F=document.querySelector(".state-select select");if(F){const n=F.selectedIndex,a=F.options[n].text;H.value.status=a,console.log("Label seleccionado:",H.value.status)}else console.log("No se ha seleccionado ninguna opción.")}),Cl(async()=>{try{await Ie(),await L(),await V(),await M(),await q(),await oe(),await se()}catch(f){console.error("Error al realizar llamadas a la API:",f)}}),(f,p)=>{const F=U("flat-pickr");return h(),y("div",null,[e(l(pe),{activeModal:l($).addmodal2,onClose:l($).closeModal2,title:"Registrar Nuevo Ingreso Caja - Sra Akemy",centered:""},{default:s(()=>[o("form",{onSubmit:I(Le,["prevent"]),class:"space-y-4"},[o("div",kn,[e(l(i),{name:"d1",error:l(_e)},{default:s(()=>[e(l(_),{label:"Caja aperturada",options:O,modelValue:$e.value,"onUpdate:modelValue":p[0]||(p[0]=n=>$e.value=n),disabled:"",class:"cajonci-select"},null,8,["modelValue"])]),_:1},8,["error"]),e(l(i),{label:"Descripción ingreso",name:"d2"},{default:s(()=>[e(l(C),{type:"text",placeholder:"Descripción ingreso",modelValue:w.value.gloss,"onUpdate:modelValue":p[1]||(p[1]=n=>w.value.gloss=n),modelModifiers:{trim:!0}},null,8,["modelValue"]),ze("gloss")?P("",!0):(h(),y("span",wn,"Por favor ingrese descripción"))]),_:1})]),o("div",$n,[e(l(i),{name:"d3"},{default:s(()=>[e(l(_),{label:"Emisor (opcional)",options:Ee,modelValue:ie.value,"onUpdate:modelValue":p[2]||(p[2]=n=>ie.value=n),class:"emisor-select"},null,8,["modelValue"])]),_:1}),e(l(i),{name:"d4"},{default:s(()=>[e(l(_),{label:"Concepto ingreso",options:Ue.value,modelValue:he.value,"onUpdate:modelValue":p[3]||(p[3]=n=>he.value=n),class:"concept-select",placeholder:"Seleccione ingreso"},null,8,["options","modelValue"]),he.value?P("",!0):(h(),y("span",En,"Por favor selecciona un concepto"))]),_:1})]),o("div",Mn,[ie.value==="clients"?(h(),y("div",In,[e(l(i),{label:"Clientes",class:"flex-1"},{default:s(()=>[e(l(_),{options:dl.value,modelValue:Pe.value,"onUpdate:modelValue":p[4]||(p[4]=n=>Pe.value=n),class:"client-select"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:Be,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):ie.value==="providers"?(h(),y("div",Sn,[e(l(i),{label:"Proveedores",class:"flex-1"},{default:s(()=>[e(l(_),{options:ce.value,modelValue:ae.value,"onUpdate:modelValue":p[5]||(p[5]=n=>ae.value=n),class:"provider-select"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:Ke,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):ie.value==="employees"?(h(),y("div",Un,[e(l(i),{label:"Empleados",class:"flex-1"},{default:s(()=>[e(l(_),{options:Se.value,modelValue:ye.value,"onUpdate:modelValue":p[6]||(p[6]=n=>ye.value=n),class:"employee-select"},null,8,["options","modelValue"])]),_:1})])):P("",!0)]),e(l(pe),{title:"Registrar nuevo Cliente",label:"Modal title",activeModal:b.value,onClose:p[21]||(p[21]=n=>b.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[o("form",Dn,[o("div",Tn,[o("div",null,[e(l(i),{label:"Tipo de cliente"},{default:s(()=>[e(l(_),{options:tl,modelValue:al.value,"onUpdate:modelValue":p[7]||(p[7]=n=>al.value=n),class:"typecliente-select",placeholder:"Selccione Cliente"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Tipo documento"},{default:s(()=>[e(l(_),{options:le,modelValue:B.value,"onUpdate:modelValue":p[8]||(p[8]=n=>B.value=n),class:"typedocument-select"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"N° Documento"},{default:s(()=>[e(l(qe),{type:"text",placeholder:nl.value,modelValue:H.value.document,"onUpdate:modelValue":p[9]||(p[9]=n=>H.value.document=n)},{append:s(()=>[e(l(N),{text:pl.value,btnClass:"btn-outline-dark",onClick:I(ll,["prevent"])},null,8,["text"])]),_:1},8,["placeholder","modelValue"])]),_:1})])]),o("div",Nn,[o("div",Pn,[e(l(i),{label:"Nombre ó Razón Social"},{default:s(()=>[e(l(C),{type:"text",id:"client_fullname",modelValue:H.value.fullname,"onUpdate:modelValue":p[10]||(p[10]=n=>H.value.fullname=n),modelModifiers:{trim:!0},placeholder:"Ingrese Nombre ó Razón Social "},null,8,["modelValue"])]),_:1})]),Ln]),o("div",Rn,[o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:J.value,label:"Departamento",modelValue:l(A),"onUpdate:modelValue":p[11]||(p[11]=n=>W(A)?A.value=n:A=n),class:"department-select",onChange:Me,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Q.value,label:"Provincias",modelValue:l(Ce),"onUpdate:modelValue":p[12]||(p[12]=n=>W(Ce)?Ce.value=n:Ce=n),class:"province-select",onChange:Ge,placeholder:""},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Y.value,label:"Distritos",modelValue:l(de),"onUpdate:modelValue":p[13]||(p[13]=n=>W(de)?de.value=n:de=n),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),o("div",An,[o("div",jn,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(C),{type:"text",modelValue:H.value.address,"onUpdate:modelValue":p[14]||(p[14]=n=>H.value.address=n),modelModifiers:{trim:!0},placeholder:"Ingrese Direción"},null,8,["modelValue"])]),_:1})]),qn]),o("div",On,[o("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(C),{type:"text",modelValue:H.value.cellphone,"onUpdate:modelValue":p[15]||(p[15]=n=>H.value.cellphone=n),modelModifiers:{trim:!0},placeholder:"Ingrese N° de celular"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Teléfono fijo"},{default:s(()=>[e(l(C),{type:"text",modelValue:H.value.telephone,"onUpdate:modelValue":p[16]||(p[16]=n=>H.value.telephone=n),modelModifiers:{trim:!0},placeholder:"Ingrese N° de telefono fijo"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(C),{type:"email",modelValue:H.value.email,"onUpdate:modelValue":p[17]||(p[17]=n=>H.value.email=n),modelModifiers:{trim:!0},placeholder:"Ingrese correo electrónico"},null,8,["modelValue"])]),_:1})])]),o("div",Bn,[o("div",null,[e(l(i),{label:"Fecha de nacimiento"},{default:s(()=>[e(F,{modelValue:H.value.date_birthday,"onUpdate:modelValue":p[18]||(p[18]=n=>H.value.date_birthday=n),class:"form-control",id:"date_birthday",placeholder:"yyyy, dd M",config:{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d"}},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:He,label:"Estado",modelValue:l(ne),"onUpdate:modelValue":p[19]||(p[19]=n=>W(ne)?ne.value=n:ne=n),class:"state-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:el,label:"Sexo",modelValue:l(D),"onUpdate:modelValue":p[20]||(p[20]=n=>W(D)?D.value=n:D=n),class:"sexo-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})])]),o("div",Fn,[Gn,o("div",zn,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(Fe,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(vl,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(pe),{title:"Registrar nuevo Proveedor",label:"Modal title",activeModal:S.value,onClose:p[32]||(p[32]=n=>S.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[o("form",Hn,[o("div",Jn,[o("div",null,[e(l(i),{label:"N° RUC"},{default:s(()=>[e(l(qe),{type:"text",placeholder:"RUC",modelValue:X.value.document,"onUpdate:modelValue":p[22]||(p[22]=n=>X.value.document=n),modelModifiers:{trim:!0}},{append:s(()=>[e(l(N),{text:"SUNAT",btnClass:"btn-outline-dark ",onClick:I(il,["prevent"])})]),_:1},8,["modelValue"])]),_:1})]),o("div",Yn,[e(l(i),{label:"Razón social del proveedor"},{default:s(()=>[e(l(C),{modelValue:X.value.fullname,"onUpdate:modelValue":p[23]||(p[23]=n=>X.value.fullname=n),modelModifiers:{trim:!0},placeholder:"Razón social del proveedor",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Nombre comercial"},{default:s(()=>[e(l(C),{modelValue:X.value.tradename,"onUpdate:modelValue":p[24]||(p[24]=n=>X.value.tradename=n),modelModifiers:{trim:!0},placeholder:"Nombre comercial",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",Qn,[o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:J.value,label:"Departamento",modelValue:l(A),"onUpdate:modelValue":p[25]||(p[25]=n=>W(A)?A.value=n:A=n),class:"department-select",onChange:Me,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Q.value,label:"Provincias",modelValue:l(Ce),"onUpdate:modelValue":p[26]||(p[26]=n=>W(Ce)?Ce.value=n:Ce=n),class:"province-select",onChange:Ge,placeholder:""},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Y.value,label:"Distritos",modelValue:l(de),"onUpdate:modelValue":p[27]||(p[27]=n=>W(de)?de.value=n:de=n),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(C),{modelValue:X.value.address,"onUpdate:modelValue":p[28]||(p[28]=n=>X.value.address=n),modelModifiers:{trim:!0},placeholder:"Dirección",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",Kn,[o("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(C),{modelValue:X.value.cellphone,"onUpdate:modelValue":p[29]||(p[29]=n=>X.value.cellphone=n),modelModifiers:{trim:!0},placeholder:"Celular","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Teléfono"},{default:s(()=>[e(l(C),{modelValue:X.value.telephone,"onUpdate:modelValue":p[30]||(p[30]=n=>X.value.telephone=n),modelModifiers:{trim:!0},placeholder:"Teléfono","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(C),{modelValue:X.value.email,"onUpdate:modelValue":p[31]||(p[31]=n=>X.value.email=n),modelModifiers:{trim:!0},placeholder:"Correo electrónico",type:"email",class:"w-full"},null,8,["modelValue"])]),_:1})])]),o("div",Wn,[Zn,o("div",Xn,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(Xe,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(rl,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(pe),{title:"Registrar cuenta bancaria",label:"Modal title",activeModal:T.value,onClose:p[44]||(p[44]=n=>T.value=!1)},{default:s(()=>[o("form",es,[o("div",ls,[o("div",null,[e(l(i),{label:"Sucursal",class:"block"},{default:s(()=>[e(l(_),{modelValue:we.value,"onUpdate:modelValue":p[33]||(p[33]=n=>we.value=n),options:Oe,required:"",class:"oficinaprincipal-select"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Tipo de cuenta",class:"block"},{default:s(()=>[e(l(_),{modelValue:ke.value,"onUpdate:modelValue":p[34]||(p[34]=n=>ke.value=n),options:Ye,required:"",class:"typeaccount-select"},null,8,["modelValue"])]),_:1})])]),o("div",os,[o("div",ts,[e(l(i),{label:"Banco",class:"flex-1"},{default:s(()=>[e(l(_),{options:te.value,modelValue:Ve.value,"onUpdate:modelValue":p[35]||(p[35]=n=>Ve.value=n),class:"banck-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:I(cl,["prevent"]),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),o("div",null,[e(l(i),{label:"Moneda",class:"block"},{default:s(()=>[e(l(_),{modelValue:ge.value,"onUpdate:modelValue":p[36]||(p[36]=n=>ge.value=n),options:fe,required:"",class:"money-select"},null,8,["modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Nombre cuenta",class:"block"},{default:s(()=>[e(l(C),{modelValue:G.value.name,"onUpdate:modelValue":p[37]||(p[37]=n=>G.value.name=n),modelModifiers:{trim:!0},placeholder:"Nombre cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",as,[o("div",null,[e(l(i),{label:"N° de cuenta",class:"block"},{default:s(()=>[e(l(C),{modelValue:G.value.number_account,"onUpdate:modelValue":p[38]||(p[38]=n=>G.value.number_account=n),modelModifiers:{trim:!0},placeholder:"N° de cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"N° CCI (Código interbancario)",class:"block"},{default:s(()=>[e(l(C),{modelValue:G.value.cci_account,"onUpdate:modelValue":p[39]||(p[39]=n=>G.value.cci_account=n),modelModifiers:{trim:!0},placeholder:"N° CCI",required:""},null,8,["modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Titular cuenta",class:"block"},{default:s(()=>[e(l(C),{modelValue:G.value.headline,"onUpdate:modelValue":p[40]||(p[40]=n=>G.value.headline=n),modelModifiers:{trim:!0},placeholder:"Titular cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Descripción",class:"block"},{default:s(()=>[e(l($l),{modelValue:G.value.description,"onUpdate:modelValue":p[41]||(p[41]=n=>G.value.description=n),modelModifiers:{trim:!0},placeholder:"Descripción"},null,8,["modelValue"])]),_:1})]),o("div",ns,[ss,o("div",ds,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(Qe,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(ul,["prevent"])})])])]),e(l(pe),{title:"Registrar banco",label:"Modal title",activeModal:z.value,onClose:p[43]||(p[43]=n=>z.value=!1)},{default:s(()=>[o("form",cs,[e(l(C),{label:"Nombre",name:"pn",type:"text",placeholder:"Ingresar nombre ",modelValue:Te.value.description,"onUpdate:modelValue":p[42]||(p[42]=n=>Te.value.description=n)},null,8,["modelValue"]),o("div",is,[rs,o("div",us,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(Re,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(Ne,["prevent"])})])])])]),_:1},8,["activeModal"])]),_:1},8,["activeModal"]),o("div",ps,[e(l(i),{name:"d5",class:"mt-1"},{default:s(()=>[ms,e(l(_),{id:"payment-type",options:re,modelValue:We.value,"onUpdate:modelValue":p[45]||(p[45]=n=>We.value=n),class:"pago-select mt-2"},null,8,["modelValue"])]),_:1}),We.value==="account_deposit"?(h(),y(ue,{key:0},[o("div",vs,[e(l(i),{label:"Cuenta destino",class:"flex-1"},{default:s(()=>[e(l(_),{options:Ze.value,modelValue:xe.value,"onUpdate:modelValue":p[46]||(p[46]=n=>xe.value=n),class:"cuentadestino-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:ol,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),e(l(i),{label:"N° de Operación"},{default:s(()=>[e(l(C),{type:"text",modelValue:w.value.reference_operation,"onUpdate:modelValue":p[47]||(p[47]=n=>w.value.reference_operation=n),modelModifiers:{trim:!0},placeholder:"Ingrese N° de Operación"},null,8,["modelValue"])]),_:1})],64)):P("",!0),e(l(i),{label:"Monto",name:"d6"},{default:s(()=>[e(l(C),{type:"text",placeholder:"Monto",modelValue:w.value.amount,"onUpdate:modelValue":p[48]||(p[48]=n=>w.value.amount=n),modelModifiers:{trim:!0}},null,8,["modelValue"]),ze("amount")?P("",!0):(h(),y("span",gs,"Por favor ingrese monto"))]),_:1})]),o("div",bs,[o("div",fs,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:Z}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:Ae})])])],32)]),_:1},8,["activeModal","onClose"])])}}},_s={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},ys={key:0,class:"text-red-500"},xs={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Vs={key:0,class:"text-red-500"},Cs={class:"grid lg:grid-cols-1 gap-4 grid-cols-1"},ks={key:0,class:"flex items-center"},ws={key:1,class:"flex items-center"},$s={key:2,class:"flex items-center"},Es={key:3,class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Ms={name:"client_form",id:"client_form",autocomplete:"off",class:"mx-auto space-y-4"},Is={class:"grid grid-cols-3 lg:grid-cols-3 gap-4"},Ss={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Us={class:"lg:col-span-3"},Ds=o("div",{class:"lg:hidden"},null,-1),Ts={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Ns={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Ps={class:"lg:col-span-3"},Ls=o("div",{class:"lg:hidden"},null,-1),Rs={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},As={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},js={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},qs=o("div",{class:"lg:col-span-1"},null,-1),Os={class:"lg:col-span-3 flex justify-end"},Bs={name:"providerForm",id:"providerForm",autocomplete:"off",class:"space-y-4"},Fs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Gs={class:"md:col-span-1 lg:col-span-2"},zs={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Hs={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Js={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Ys=o("div",{class:"lg:col-span-3"},null,-1),Qs={class:"lg:col-span-1 flex justify-end"},Ks={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},Ws={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Zs={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Xs={class:"flex items-center"},ed={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},ld={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},od=o("div",{class:"lg:col-span-3"},null,-1),td={class:"lg:col-span-1 flex justify-end"},ad={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},nd={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},sd=o("div",{class:"lg:col-span-3"},null,-1),dd={class:"lg:col-span-1 flex justify-end"},cd={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},id=o("label",{for:"payment-type",class:"block text-sm font-medium text-gray-700 flex items-center"},[be(" Método de pago "),o("span",{class:"text-red-500 ml-1"},"*")],-1),rd={class:"flex items-center"},ud={key:0,class:"text-red-500"},pd={class:"form-group col-lg-12 form__footerBtn mt-4"},md={class:"text-right"},vd={__name:"ClientAddModal-Egreso-A",setup(g){const m=je().headers();let $=ml();const E=me(),b=u(!1),S=u(!1),T=u(!1),z=u(!1),J=u([]),Y=u([]),Q=u([]),Z=()=>{$.closeModal3()},w=u({receptor_module:"",receptor_fullname:"",receptor_document:"",is_paycredit:"",available_edit:"",user_id:"",branchoffice_id:"",moneybox_id:"",concept_id:"",paymentmethod_id:"",currency_id:"",voucher_id:"",client_id:"",provider_id:"",employee_id:"",accountbank_id:"",date_movement:"",amount:"",text_amount:"",gloss:"",reference_operation:"",nro_voucher:"",serie:"",correlative:"",billing_external_id:"",billing_hash:"",motive_cancelled:"",billing_cancelled:"",date_repayment:"",repaymentmovement_id:"",dischargedocument_id:"",is_voucher_external:"",voucher_external:"",nro_voucher_external:"",booking_id:"",commision_id:"",observation:"",is_visible:""}),se=async()=>{try{const a=await x.get("https://thtbackend-production.up.railway.app/api/v1/ubigeo/departments",m);J.value=a.data.data.map(c=>({value:c.id,label:c.name}))}catch(a){console.error("Error fetching departments:",a)}},q=async()=>{try{const a=await x.get("https://thtbackend-production.up.railway.app/api/v1/clients/list",m);Oe.value=a.data.data.map(c=>({value:c.id,label:c.fullname}))}catch(a){console.error("Error fetching departments:",a)}},Ie=async()=>{try{const a=await x.get("https://thtbackend-production.up.railway.app/api/v1/moneys/expense-concepts",m);Ge.value=a.data.data.map(c=>({value:c.id,label:c.description}))}catch(a){console.error("Error fetching departments:",a)}},M=async()=>{try{const a=await x.get("https://thtbackend-production.up.railway.app/api/v1/banks/list",m);Ze.value=a.data.data.map(c=>({value:c.id,label:c.description}))}catch(a){console.error("Error fetching departments:",a)}},L=async()=>{try{const a=await x.get("https://thtbackend-production.up.railway.app/api/v1/typevouchers/list",m);G.value=a.data.data.map(c=>({value:c.id,label:c.description}))}catch(a){console.error("Error fetching departments:",a)}},V=async()=>{try{const a=await x.get("https://thtbackend-production.up.railway.app/api/v1/accountbanks/list",m);He.value=a.data.data.map(c=>({value:c.id,label:c.name}))}catch(a){console.error("Error fetching departments:",a)}},oe=async()=>{try{const a=await x.get("https://thtbackend-production.up.railway.app/api/v1/providers/list",m);Se.value=a.data.data.map(c=>({value:c.id,label:c.fullname}))}catch(a){console.error("Error fetching departments:",a)}},fe=async()=>{try{const a=await x.get("https://thtbackend-production.up.railway.app/api/v1/employees/list",m);Te.value=a.data.data.map(c=>({value:c.id,label:c.fullname}))}catch(a){console.error("Error fetching departments:",a)}},ce=[{value:501,label:"SOL"},{value:502,label:"DÓLAR"},{value:503,label:"EURO"}],Se=u([]),Te=u([]),G=u([]),ve=u({description:""}),O=u({branchoffice_id:"",bank_id:"",typeaccount_id:"",currency_id:"",name:"",number_account:"",cci_account:"",balance:"",headline:"",description:""}),Oe=u([]),Ye=[{value:1,label:"Caja Principal"}],Pe=[{value:500,label:"Oficina Principal"}],ae=[{value:504,label:"CUENTA SIMPLE"},{value:505,label:"CUENTA CORRIENTE"},{value:506,label:"TARJETA DE CRÉDITO"}],ye=u(null),he=u(null),xe=u(null),Ve=u(null),ge=u(null),ke=u(null),we=u(null),$e=u(ce[0].value),Le=u(ae[0].value),Be=u(Pe[0].value),Fe=u(Ye[0].value),Xe=()=>{console.log()},Qe=()=>{b.value=!b.value},Re=u(!1),Ke=()=>{b.value=!1},ol=()=>{S.value=!1},dl=()=>{T.value=!1},Ae=()=>{z.value=!1},cl=()=>{S.value=!S.value},X=()=>{T.value=!T.value},We=()=>{const a=document.querySelector(".cajonci-select select");if(a){const R=a.selectedIndex,De=a.options[R].text;w.value.branchoffice_id=R,w.value.branchbox=De,console.log("Label seleccionado:",R,De)}else console.log("No se ha seleccionado ninguna opción.");const c=document.querySelector(".pago-select select");if(a){const R=c.selectedIndex,De=c.options[R].text;w.value.paymentmethod_id=R,w.value.paymethod=De,console.log("Label seleccionado:",R,De)}else console.log("No se ha seleccionado ninguna opción.");const r=ye.value;w.value.client_id=r;const t=he.value;w.value.provider_id=t;const d=xe.value;w.value.employee_id=d;const j=Ve.value;w.value.concept_id=j;const v=ge.value;w.value.accountbank_id=v,w.value.voucher_external=we.value,w.value.is_voucher_external=Re.value,Re.value||(w.value.nro_voucher_external=null,w.value.voucher_external=null),console.log(w.value),x.post("https://thtbackend-production.up.railway.app/api/v1/moneys-akemy/create-expense",w.value,{...m}).then(R=>{console.log("Datos guardados exitosamente:",R.data),Z(),E.success(R.data.message)}).catch(R=>{if(console.error("Error al guardar los datos:",R),R.response&&R.response.data&&R.response.data.message){Z();const De=R.response.data.message;E.error(De)}else E.error("Ha ocurrido un error al guardar los datos. Por favor, inténtalo de nuevo.")})},te=()=>{z.value=!z.value},ee=u({typedocument_id:"",document:"",department_id:"",province_id:"",district_id:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:""}),ze=u("cash"),Ze=u([]),tl=a=>!!w.value[a],le=a=>tl(a),He=u([]),el=[{value:1,label:"Natural"},{value:2,label:"Jurídico"}],H=[{value:1,label:"DNI"},{value:2,label:"RUC"},{value:3,label:"PASAPORTE"}],al=[{id:1,label:"Soltero"},{id:2,label:"Casado"},{id:2,label:"Viudo"},{id:2,label:"Divorciado"}],B=[{id:1,label:"Masculino"},{id:2,label:"Femenino"}],A=u({typedocument_id:"",department_id:"",province_id:"",district_id:"",type_client:"",fullname:"",document:"",tradename:"",address:"",email:"",telephone:"",cellphone:"",date_birthday:"",sex:"",status:"",typeDocument:""}),Ce=u(el[0].value),de=u(H[0].value);let ne=u(null),D=u(null),_e=u(null),Ee=u(null),ie=u(null),Ue="";const re=[{value:"clients",label:"Clientes"},{value:"providers",label:"Proveedores"},{value:"employees",label:"Empleados"}],Me=u(re[0].value),Ge=u([]),il=[{value:"cash",label:"Efectivo"},{value:"visa",label:"Visa"},{value:"check",label:"Cheque"},{value:"account_deposit",label:"Depósito a cuenta"}],ll=async()=>{try{const a=await x.get(`https://thtbackend-production.up.railway.app/api/v1/ubigeo/provinces/${A.value.department_id}`,m);Q.value=a.data.data.map(c=>({value:c.id,label:c.name}))}catch(a){console.error("Error fetching provinces:",a)}},Ne=async()=>{try{const a=await x.get(`https://thtbackend-production.up.railway.app/api/v1/ubigeo/districts/${A.value.province_id}`,m);Y.value=a.data.data.map(c=>({value:c.id,label:c.name}))}catch(a){console.error("Error fetching provinces:",a)}},rl=()=>{x.get(`https://thtbackend-production.up.railway.app/api/v1/apiruc/${ee.value.document}`).then(a=>{console.log("Respuesta de la API RUC:",a.data),ee.value.fullname=a.data.razonSocial}).catch(a=>{console.error("Error al obtener datos del RUC:",a)})},vl=()=>{x.get(`https://thtbackend-production.up.railway.app/api/v1/apidni/${A.value.document}`).then(a=>{console.log("Respuesta de la API DNI:",a.data),A.value.fullname=`${a.data.nombres} ${a.data.apellidoPaterno} ${a.data.apellidoMaterno}`}).catch(a=>{console.error("Error al obtener datos del DNI:",a)})},ul=Tl(()=>Oe.value.slice(0,6)),nl=()=>{console.log(ve.value),x.post("https://thtbackend-production.up.railway.app/api/v1/banks/create",ve.value,{...m}).then(a=>{console.log("Datos guardados exitosamente:",a.data),Ae(),M(),E.success(a.data.message)}).catch(a=>{console.error("Error al guardar los datos:",a)})},pl=()=>{x.post("https://thtbackend-production.up.railway.app/api/v1/providers/create",ee.value,{...m}).then(a=>{console.log("Datos guardados exitosamente:",a.data),ol(),oe(),E.success(a.data.message)}).catch(a=>{console.error("Error al guardar los datos:",a)})},f=()=>{console.log(A.value);const a=document.querySelector(".typecliente-select select");if(a){const r=a.selectedIndex,t=r.toString();a.options[r].text,A.value.type_client=t,console.log("Label seleccionado:",A.value.type_client),console.log("Índice seleccionado como cadena:",t)}else console.log("No se ha seleccionado ninguna opción.");const c=document.querySelector(".typedocument-select select");if(a){const r=c.selectedIndex,t=c.options[r].text;A.value.typedocument_id=r,A.value.typeDocument=t,console.log("Id & Label seleccionado:",A.value.type_client)}else console.log("No se ha seleccionado ninguna opción.");x.post("https://thtbackend-production.up.railway.app/api/v1/clients/create",A.value,{...m}).then(r=>{console.log("Datos guardados exitosamente:",r.data),Ke(),q(),E.success(r.data.message)}).catch(r=>{console.error("Error al guardar los datos:",r)})},p=()=>{const a=document.querySelector(".oficinaprincipal-select select");if(a){const d=a.selectedIndex,j=a.options[d].text;O.value.branchoffice_id=d,console.log("Label seleccionado:",d,j)}else console.log("No se ha seleccionado ninguna opción.");const c=document.querySelector(".typeaccount-select select");if(a){const d=c.selectedIndex,j=c.options[d].text;O.value.typeaccount_id=d,console.log("Label seleccionado:",d,j)}else console.log("No se ha seleccionado ninguna opción.");const r=document.querySelector(".banck-select select");if(a){const d=r.selectedIndex,j=r.options[d].text;O.value.bank_id=d,console.log("Label seleccionado:",d,j)}else console.log("No se ha seleccionado ninguna opción.");const t=document.querySelector(".money-select select");if(a){const d=t.selectedIndex,j=t.options[d].text;O.value.currency_id=d,console.log("Label seleccionado:",d,j)}else console.log("No se ha seleccionado ninguna opción.");console.log(O.value),x.post("https://thtbackend-production.up.railway.app/api/v1/accountbanks/create",O.value,{...m}).then(d=>{console.log("Datos guardados exitosamente:",d.data),dl(),V(),E.success(d.data.message)}).catch(d=>{console.error("Error al guardar los datos:",d)})};k(()=>ye.value,(a,c)=>{}),k(()=>Fe.value,(a,c)=>{}),k(()=>Ve.value,(a,c)=>{}),k(()=>$e.value,(a,c)=>{}),k(()=>he.value,(a,c)=>{}),k(()=>ze.value,(a,c)=>{}),k(()=>ge.value,(a,c)=>{}),k(()=>Le.value,(a,c)=>{}),k(()=>ke.value,(a,c)=>{}),k(()=>xe.value,(a,c)=>{}),k(()=>Be.value,(a,c)=>{}),k(Me,(a,c)=>{const r=document.querySelector(".emisor-select select");if(r){const t=r.selectedIndex,d=r.options[t].text;console.log("Label seleccionado:",t,d)}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>_e.value,(a,c)=>{if(document.querySelector(".district-select select")){const t=a.toString().padStart(6,"0");console.log("Id seleccionado:",t),A.value.district_id=t,ee.value.district_id=t}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>D.value,(a,c)=>{if(document.querySelector(".province-select select")){const t=a.toString().padStart(4,"0");console.log("Id seleccionado:",t),A.value.province_id=t,ee.value.province_id=t}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>ne.value,(a,c)=>{if(document.querySelector(".department-select select")){const t=a.toString().padStart(2,"0");console.log("Id seleccionado:",t),A.value.department_id=t,ee.value.department_id=t}else console.log("No se ha seleccionado ninguna opción.")});const F=u("N° DNI"),n=u("RENIEC");return k(()=>de.value,a=>{const c=document.querySelector(".typedocument-select select");if(c){const r=c.selectedIndex,t=c.options[r],d=c.options[r].text;A.value.typedocument_id=r,A.value.typeDocument=d,F.value=`N° ${t.textContent}`,n.value=a==="1"?"RENIEC":a==="2"?"SUNAT":"Validar",console.log(A.value.typeDocument)}else console.log("No se ha encontrado el elemento del selector.")}),k(()=>ie.value,(a,c)=>{const r=document.querySelector(".sexo-select select");if(r){const t=r.selectedIndex,d=r.options[t].text;A.value.sex=d,console.log("Label seleccionado:",A.value.sex)}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>Ee.value,(a,c)=>{const r=document.querySelector(".state-select select");if(r){const t=r.selectedIndex,d=r.options[t].text;A.value.status=d,console.log("Label seleccionado:",A.value.status)}else console.log("No se ha seleccionado ninguna opción.")}),Cl(async()=>{try{await Ie(),await V(),await oe(),await M(),await q(),await fe(),await se(),await L()}catch(a){console.error("Error al realizar llamadas a la API:",a)}}),(a,c)=>{const r=U("flat-pickr");return h(),y("div",null,[e(l(pe),{activeModal:l($).addmodal3,onClose:l($).closeModal3,title:"Registrar Nuevo Egreso - Caja General.A",centered:""},{default:s(()=>[o("form",{onSubmit:I(Xe,["prevent"]),class:"space-y-4"},[o("div",_s,[e(l(i),{name:"d1",error:l(Ue)},{default:s(()=>[e(l(_),{label:"Caja aperturada",options:Ye,modelValue:Fe.value,"onUpdate:modelValue":c[0]||(c[0]=t=>Fe.value=t),disabled:"",class:"cajonci-select"},null,8,["modelValue"])]),_:1},8,["error"]),e(l(i),{label:"Descripción egreso",name:"d2"},{default:s(()=>[e(l(C),{type:"text",placeholder:"Descripción egreso",modelValue:w.value.gloss,"onUpdate:modelValue":c[1]||(c[1]=t=>w.value.gloss=t),modelModifiers:{trim:!0}},null,8,["modelValue"]),le("gloss")?P("",!0):(h(),y("span",ys,"Por favor ingrese descripción"))]),_:1})]),o("div",xs,[e(l(i),{name:"d3"},{default:s(()=>[e(l(_),{label:"Receptor (opcional)",options:re,modelValue:Me.value,"onUpdate:modelValue":c[2]||(c[2]=t=>Me.value=t),class:"emisor-select"},null,8,["modelValue"])]),_:1}),e(l(i),{name:"d4"},{default:s(()=>[e(l(_),{label:"Concepto egreso",options:Ge.value,modelValue:Ve.value,"onUpdate:modelValue":c[3]||(c[3]=t=>Ve.value=t),class:"concept-select",placeholder:"Seleccione concepto"},null,8,["options","modelValue"]),Ve.value?P("",!0):(h(),y("span",Vs,"Por favor selecciona un concepto"))]),_:1})]),o("div",Cs,[Me.value==="clients"?(h(),y("div",ks,[e(l(i),{label:"Clientes",class:"flex-1"},{default:s(()=>[e(l(_),{options:ul.value,modelValue:ye.value,"onUpdate:modelValue":c[4]||(c[4]=t=>ye.value=t),class:"client-select"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:Qe,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):Me.value==="providers"?(h(),y("div",ws,[e(l(i),{label:"Proveedores",class:"flex-1"},{default:s(()=>[e(l(_),{options:Se.value,modelValue:he.value,"onUpdate:modelValue":c[5]||(c[5]=t=>he.value=t),class:"provider-select"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:cl,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):Me.value==="employees"?(h(),y("div",$s,[e(l(i),{label:"Empleados",class:"flex-1"},{default:s(()=>[e(l(_),{options:Te.value,modelValue:xe.value,"onUpdate:modelValue":c[6]||(c[6]=t=>xe.value=t),class:"employee-select"},null,8,["options","modelValue"])]),_:1})])):P("",!0),e(l(Vl),{label:"Incluye Comprobante",modelValue:Re.value,"onUpdate:modelValue":c[7]||(c[7]=t=>Re.value=t)},null,8,["modelValue"]),Re.value?(h(),y("div",Es,[e(l(i),{label:"Tipo de Comprobante"},{default:s(()=>[e(l(_),{options:G.value,modelValue:we.value,"onUpdate:modelValue":c[8]||(c[8]=t=>we.value=t)},null,8,["options","modelValue"])]),_:1}),e(l(i),{label:"N° de Comprobante"},{default:s(()=>[e(l(C),{type:"text",modelValue:w.value.nro_voucher_external,"onUpdate:modelValue":c[9]||(c[9]=t=>w.value.nro_voucher_external=t),placeholder:"Ingrese N° de Comprobante"},null,8,["modelValue"])]),_:1})])):P("",!0)]),e(l(pe),{title:"Registrar nuevo Cliente",label:"Modal title",activeModal:b.value,onClose:c[24]||(c[24]=t=>b.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[o("form",Ms,[o("div",Is,[o("div",null,[e(l(i),{label:"Tipo de cliente"},{default:s(()=>[e(l(_),{options:el,modelValue:Ce.value,"onUpdate:modelValue":c[10]||(c[10]=t=>Ce.value=t),class:"typecliente-select",placeholder:"Selccione Cliente"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Tipo documento"},{default:s(()=>[e(l(_),{options:H,modelValue:de.value,"onUpdate:modelValue":c[11]||(c[11]=t=>de.value=t),class:"typedocument-select"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"N° Documento"},{default:s(()=>[e(l(qe),{type:"text",placeholder:F.value,modelValue:A.value.document,"onUpdate:modelValue":c[12]||(c[12]=t=>A.value.document=t)},{append:s(()=>[e(l(N),{text:n.value,btnClass:"btn-outline-dark",onClick:I(vl,["prevent"])},null,8,["text"])]),_:1},8,["placeholder","modelValue"])]),_:1})])]),o("div",Ss,[o("div",Us,[e(l(i),{label:"Nombre ó Razón Social"},{default:s(()=>[e(l(C),{type:"text",id:"client_fullname",modelValue:A.value.fullname,"onUpdate:modelValue":c[13]||(c[13]=t=>A.value.fullname=t),modelModifiers:{trim:!0},placeholder:"Ingrese Nombre ó Razón Social "},null,8,["modelValue"])]),_:1})]),Ds]),o("div",Ts,[o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:J.value,label:"Departamento",modelValue:l(ne),"onUpdate:modelValue":c[14]||(c[14]=t=>W(ne)?ne.value=t:ne=t),class:"department-select",onChange:ll,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Q.value,label:"Provincias",modelValue:l(D),"onUpdate:modelValue":c[15]||(c[15]=t=>W(D)?D.value=t:D=t),class:"province-select",onChange:Ne,placeholder:""},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Y.value,label:"Distritos",modelValue:l(_e),"onUpdate:modelValue":c[16]||(c[16]=t=>W(_e)?_e.value=t:_e=t),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),o("div",Ns,[o("div",Ps,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(C),{type:"text",modelValue:A.value.address,"onUpdate:modelValue":c[17]||(c[17]=t=>A.value.address=t),modelModifiers:{trim:!0},placeholder:"Ingrese Direción"},null,8,["modelValue"])]),_:1})]),Ls]),o("div",Rs,[o("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(C),{type:"text",modelValue:A.value.cellphone,"onUpdate:modelValue":c[18]||(c[18]=t=>A.value.cellphone=t),modelModifiers:{trim:!0},placeholder:"Ingrese N° de celular"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Teléfono fijo"},{default:s(()=>[e(l(C),{type:"text",modelValue:A.value.telephone,"onUpdate:modelValue":c[19]||(c[19]=t=>A.value.telephone=t),modelModifiers:{trim:!0},placeholder:"Ingrese N° de telefono fijo"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(C),{type:"email",modelValue:A.value.email,"onUpdate:modelValue":c[20]||(c[20]=t=>A.value.email=t),modelModifiers:{trim:!0},placeholder:"Ingrese correo electrónico"},null,8,["modelValue"])]),_:1})])]),o("div",As,[o("div",null,[e(l(i),{label:"Fecha de nacimiento"},{default:s(()=>[e(r,{modelValue:A.value.date_birthday,"onUpdate:modelValue":c[21]||(c[21]=t=>A.value.date_birthday=t),class:"form-control",id:"date_birthday",placeholder:"yyyy, dd M",config:{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d"}},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:al,label:"Estado",modelValue:l(Ee),"onUpdate:modelValue":c[22]||(c[22]=t=>W(Ee)?Ee.value=t:Ee=t),class:"state-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:B,label:"Sexo",modelValue:l(ie),"onUpdate:modelValue":c[23]||(c[23]=t=>W(ie)?ie.value=t:ie=t),class:"sexo-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})])]),o("div",js,[qs,o("div",Os,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(Ke,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(f,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(pe),{title:"Registrar nuevo Proveedor",label:"Modal title",activeModal:S.value,onClose:c[35]||(c[35]=t=>S.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[o("form",Bs,[o("div",Fs,[o("div",null,[e(l(i),{label:"N° RUC"},{default:s(()=>[e(l(qe),{type:"text",placeholder:"RUC",modelValue:ee.value.document,"onUpdate:modelValue":c[25]||(c[25]=t=>ee.value.document=t),modelModifiers:{trim:!0}},{append:s(()=>[e(l(N),{text:"SUNAT",btnClass:"btn-outline-dark ",onClick:I(rl,["prevent"])})]),_:1},8,["modelValue"])]),_:1})]),o("div",Gs,[e(l(i),{label:"Razón social del proveedor"},{default:s(()=>[e(l(C),{modelValue:ee.value.fullname,"onUpdate:modelValue":c[26]||(c[26]=t=>ee.value.fullname=t),modelModifiers:{trim:!0},placeholder:"Razón social del proveedor",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Nombre comercial"},{default:s(()=>[e(l(C),{modelValue:ee.value.tradename,"onUpdate:modelValue":c[27]||(c[27]=t=>ee.value.tradename=t),modelModifiers:{trim:!0},placeholder:"Nombre comercial",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",zs,[o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:J.value,label:"Departamento",modelValue:l(ne),"onUpdate:modelValue":c[28]||(c[28]=t=>W(ne)?ne.value=t:ne=t),class:"department-select",onChange:ll,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Q.value,label:"Provincias",modelValue:l(D),"onUpdate:modelValue":c[29]||(c[29]=t=>W(D)?D.value=t:D=t),class:"province-select",onChange:Ne,placeholder:""},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Y.value,label:"Distritos",modelValue:l(_e),"onUpdate:modelValue":c[30]||(c[30]=t=>W(_e)?_e.value=t:_e=t),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(C),{modelValue:ee.value.address,"onUpdate:modelValue":c[31]||(c[31]=t=>ee.value.address=t),modelModifiers:{trim:!0},placeholder:"Dirección",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",Hs,[o("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(C),{modelValue:ee.value.cellphone,"onUpdate:modelValue":c[32]||(c[32]=t=>ee.value.cellphone=t),modelModifiers:{trim:!0},placeholder:"Celular","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Teléfono"},{default:s(()=>[e(l(C),{modelValue:ee.value.telephone,"onUpdate:modelValue":c[33]||(c[33]=t=>ee.value.telephone=t),modelModifiers:{trim:!0},placeholder:"Teléfono","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(C),{modelValue:ee.value.email,"onUpdate:modelValue":c[34]||(c[34]=t=>ee.value.email=t),modelModifiers:{trim:!0},placeholder:"Correo electrónico",type:"email",class:"w-full"},null,8,["modelValue"])]),_:1})])]),o("div",Js,[Ys,o("div",Qs,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(ol,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(pl,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(pe),{title:"Registrar cuenta bancaria",label:"Modal title",activeModal:T.value,onClose:c[47]||(c[47]=t=>T.value=!1)},{default:s(()=>[o("form",Ks,[o("div",Ws,[o("div",null,[e(l(i),{label:"Sucursal",class:"block"},{default:s(()=>[e(l(_),{modelValue:Be.value,"onUpdate:modelValue":c[36]||(c[36]=t=>Be.value=t),options:Pe,required:"",class:"oficinaprincipal-select"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Tipo de cuenta",class:"block"},{default:s(()=>[e(l(_),{modelValue:Le.value,"onUpdate:modelValue":c[37]||(c[37]=t=>Le.value=t),options:ae,required:"",class:"typeaccount-select"},null,8,["modelValue"])]),_:1})])]),o("div",Zs,[o("div",Xs,[e(l(i),{label:"Banco",class:"flex-1"},{default:s(()=>[e(l(_),{options:Ze.value,modelValue:ke.value,"onUpdate:modelValue":c[38]||(c[38]=t=>ke.value=t),class:"banck-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:I(te,["prevent"]),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),o("div",null,[e(l(i),{label:"Moneda",class:"block"},{default:s(()=>[e(l(_),{modelValue:$e.value,"onUpdate:modelValue":c[39]||(c[39]=t=>$e.value=t),options:ce,required:"",class:"money-select"},null,8,["modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Nombre cuenta",class:"block"},{default:s(()=>[e(l(C),{modelValue:O.value.name,"onUpdate:modelValue":c[40]||(c[40]=t=>O.value.name=t),modelModifiers:{trim:!0},placeholder:"Nombre cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",ed,[o("div",null,[e(l(i),{label:"N° de cuenta",class:"block"},{default:s(()=>[e(l(C),{modelValue:O.value.number_account,"onUpdate:modelValue":c[41]||(c[41]=t=>O.value.number_account=t),modelModifiers:{trim:!0},placeholder:"N° de cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"N° CCI (Código interbancario)",class:"block"},{default:s(()=>[e(l(C),{modelValue:O.value.cci_account,"onUpdate:modelValue":c[42]||(c[42]=t=>O.value.cci_account=t),modelModifiers:{trim:!0},placeholder:"N° CCI",required:""},null,8,["modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Titular cuenta",class:"block"},{default:s(()=>[e(l(C),{modelValue:O.value.headline,"onUpdate:modelValue":c[43]||(c[43]=t=>O.value.headline=t),modelModifiers:{trim:!0},placeholder:"Titular cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Descripción",class:"block"},{default:s(()=>[e(l($l),{modelValue:O.value.description,"onUpdate:modelValue":c[44]||(c[44]=t=>O.value.description=t),modelModifiers:{trim:!0},placeholder:"Descripción"},null,8,["modelValue"])]),_:1})]),o("div",ld,[od,o("div",td,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(dl,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(p,["prevent"])})])])]),e(l(pe),{title:"Registrar banco",label:"Modal title",activeModal:z.value,onClose:c[46]||(c[46]=t=>z.value=!1)},{default:s(()=>[o("form",ad,[e(l(C),{label:"Nombre",name:"pn",type:"text",placeholder:"Ingresar nombre ",modelValue:ve.value.description,"onUpdate:modelValue":c[45]||(c[45]=t=>ve.value.description=t)},null,8,["modelValue"]),o("div",nd,[sd,o("div",dd,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(Ae,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(nl,["prevent"])})])])])]),_:1},8,["activeModal"])]),_:1},8,["activeModal"]),o("div",cd,[e(l(i),{name:"d5",class:"mt-1"},{default:s(()=>[id,e(l(_),{id:"payment-type",options:il,modelValue:ze.value,"onUpdate:modelValue":c[48]||(c[48]=t=>ze.value=t),class:"pago-select mt-2"},null,8,["modelValue"])]),_:1}),ze.value==="account_deposit"?(h(),y(ue,{key:0},[o("div",rd,[e(l(i),{label:"Cuenta destino",class:"flex-1"},{default:s(()=>[e(l(_),{options:He.value,modelValue:ge.value,"onUpdate:modelValue":c[49]||(c[49]=t=>ge.value=t),class:"cuentadestino-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:X,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),e(l(i),{label:"N° de Operación"},{default:s(()=>[e(l(C),{type:"text",placeholder:"Ingrese N° de Operación",modelValue:w.value.reference_operation,"onUpdate:modelValue":c[50]||(c[50]=t=>w.value.reference_operation=t),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})],64)):P("",!0),e(l(i),{label:"Monto",name:"d6"},{default:s(()=>[e(l(C),{type:"text",placeholder:"Monto",modelValue:w.value.amount,"onUpdate:modelValue":c[51]||(c[51]=t=>w.value.amount=t),modelModifiers:{trim:!0}},null,8,["modelValue"]),le("amount")?P("",!0):(h(),y("span",ud,"Por favor ingrese monto"))]),_:1})]),o("div",pd,[o("div",md,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:Z}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:We})])])],32)]),_:1},8,["activeModal","onClose"])])}}},gd={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},bd={key:0,class:"text-red-500"},fd={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},hd={key:0,class:"text-red-500"},_d={class:"grid lg:grid-cols-1 gap-4 grid-cols-1"},yd={key:0,class:"flex items-center"},xd={key:1,class:"flex items-center"},Vd={key:2,class:"flex items-center"},Cd={key:3,class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},kd={name:"client_form",id:"client_form",autocomplete:"off",class:"mx-auto space-y-4"},wd={class:"grid grid-cols-3 lg:grid-cols-3 gap-4"},$d={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Ed={class:"lg:col-span-3"},Md=o("div",{class:"lg:hidden"},null,-1),Id={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Sd={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Ud={class:"lg:col-span-3"},Dd=o("div",{class:"lg:hidden"},null,-1),Td={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Nd={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Pd={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Ld=o("div",{class:"lg:col-span-1"},null,-1),Rd={class:"lg:col-span-3 flex justify-end"},Ad={name:"providerForm",id:"providerForm",autocomplete:"off",class:"space-y-4"},jd={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},qd={class:"md:col-span-1 lg:col-span-2"},Od={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Bd={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Fd={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Gd=o("div",{class:"lg:col-span-3"},null,-1),zd={class:"lg:col-span-1 flex justify-end"},Hd={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},Jd={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Yd={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Qd={class:"flex items-center"},Kd={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Wd={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Zd=o("div",{class:"lg:col-span-3"},null,-1),Xd={class:"lg:col-span-1 flex justify-end"},ec={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},lc={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},oc=o("div",{class:"lg:col-span-3"},null,-1),tc={class:"lg:col-span-1 flex justify-end"},ac={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},nc=o("label",{for:"payment-type",class:"block text-sm font-medium text-gray-700 flex items-center"},[be(" Método de pago "),o("span",{class:"text-red-500 ml-1"},"*")],-1),sc={class:"flex items-center"},dc={class:"flex items-center"},cc={class:"flex-1"},ic={key:0,class:"text-red-500"},rc={class:"ml-2 flex items-center"},uc={class:"form-group col-lg-12 form__footerBtn mt-4"},pc={class:"text-right"},mc={__name:"ClientEditModal-Egreso-A",props:{activeModal:Boolean,egresoData:Object},emits:["close","updateEgresoList"],setup(g,{emit:m}){const $=je().headers();ml();const E=me(),b=u(!1),S=u(!1),T=u(!1),z=u(!1),J=u(!1),Y=u([]),Q=u([]),Z=u([]),w=g,se=m,q=()=>{se("close")},Ie=()=>{q()},M=u({receptor_module:"",receptor_fullname:"",receptor_document:"",is_paycredit:"",available_edit:"",user_id:"",branchoffice_id:"",moneybox_id:"",concept_id:"",paymentmethod_id:"",currency_id:"",voucher_id:"",client_id:"",provider_id:"",employee_id:"",accountbank_id:"",date_movement:"",amount:"",text_amount:"",gloss:"",reference_operation:"",nro_voucher:"",serie:"",correlative:"",billing_external_id:"",billing_hash:"",motive_cancelled:"",billing_cancelled:"",date_repayment:"",repaymentmovement_id:"",dischargedocument_id:"",is_voucher_external:"",voucher_external:"",nro_voucher_external:"",booking_id:"",commision_id:"",observation:"",is_visible:""}),L=async()=>{try{const t=await x.get("https://thtbackend-production.up.railway.app/api/v1/ubigeo/departments",$);Y.value=t.data.data.map(d=>({value:d.id,label:d.name}))}catch(t){console.error("Error fetching departments:",t)}},V=async()=>{try{const t=await x.get("https://thtbackend-production.up.railway.app/api/v1/clients/list",$);ye.value=t.data.data.map(d=>({value:d.id,label:d.fullname}))}catch(t){console.error("Error fetching departments:",t)}},oe=async()=>{try{const t=await x.get("https://thtbackend-production.up.railway.app/api/v1/moneys/expense-concepts",$);rl.value=t.data.data.map(d=>({value:d.id,label:d.description}))}catch(t){console.error("Error fetching departments:",t)}},fe=async()=>{try{const t=await x.get("https://thtbackend-production.up.railway.app/api/v1/banks/list",$);el.value=t.data.data.map(d=>({value:d.id,label:d.description}))}catch(t){console.error("Error fetching departments:",t)}},ce=async()=>{try{const t=await x.get("https://thtbackend-production.up.railway.app/api/v1/typevouchers/list",$);Ye.value=t.data.data.map(d=>({value:d.id,label:d.description}))}catch(t){console.error("Error fetching departments:",t)}},Se=async()=>{try{const t=await x.get("https://thtbackend-production.up.railway.app/api/v1/accountbanks/list",$);B.value=t.data.data.map(d=>({value:d.id,label:d.name}))}catch(t){console.error("Error fetching departments:",t)}},Te=async()=>{try{const t=await x.get("https://thtbackend-production.up.railway.app/api/v1/providers/list",$);O.value=t.data.data.map(d=>({value:d.id,label:d.fullname}))}catch(t){console.error("Error fetching departments:",t)}},G=async()=>{try{const t=await x.get("https://thtbackend-production.up.railway.app/api/v1/employees/list",$);Oe.value=t.data.data.map(d=>({value:d.id,label:d.fullname}))}catch(t){console.error("Error fetching departments:",t)}},ve=[{value:501,label:"SOL"},{value:502,label:"DÓLAR"},{value:503,label:"EURO"}],O=u([]),Oe=u([]),Ye=u([]),Pe=u({description:""}),ae=u({branchoffice_id:"",bank_id:"",typeaccount_id:"",currency_id:"",name:"",number_account:"",cci_account:"",balance:"",headline:"",description:""}),ye=u([]),he=[{value:1,label:"Caja Principal"}],xe=[{value:500,label:"Oficina Principal"}],Ve=[{value:504,label:"CUENTA SIMPLE"},{value:505,label:"CUENTA CORRIENTE"},{value:506,label:"TARJETA DE CRÉDITO"}],ge=u(null),ke=u(null),we=u(null),$e=u(null),Le=u(null),Be=u(null),Fe=u(null),Xe=u(ve[0].value),Qe=u(Ve[0].value),Re=u(xe[0].value),Ke=u(he[0].value),ol=()=>{console.log()},dl=()=>{b.value=!b.value},Ae=u(!1),cl=()=>{b.value=!1},X=()=>{S.value=!1},We=()=>{T.value=!1},te=()=>{z.value=!1},ee=()=>{S.value=!S.value},ze=()=>{const t=document.querySelector(".cajonci-select select");if(t){const Je=t.selectedIndex,hl=t.options[Je].text;M.value.branchoffice_id=Je,M.value.branchbox=hl,console.log("Label seleccionado:",Je,hl)}else console.log("No se ha seleccionado ninguna opción.");const d=document.querySelector(".pago-select select");if(t){const Je=d.selectedIndex,hl=d.options[Je].text;M.value.paymentmethod_id=Je,M.value.paymethod=hl,console.log("Label seleccionado:",Je,hl)}else console.log("No se ha seleccionado ninguna opción.");const j=ge.value;M.value.client_id=j;const v=ke.value;M.value.provider_id=v;const R=we.value;M.value.employee_id=R;const De=$e.value;M.value.concept_id=De;const ql=Le.value;M.value.accountbank_id=ql,M.value.voucher_external=Fe.value,M.value.is_voucher_external=Ae.value,Ae.value||(M.value.nro_voucher_external=null,M.value.voucher_external=null),console.log(M.value),x.post(`https://thtbackend-production.up.railway.app/api/v1/moneys/edit/${M.value.id}`,M.value,{...$}).then(Je=>{console.log("Datos guardados exitosamente:",Je.data),se("updateEgresoList"),q(),E.success(Je.data.message)}).catch(Je=>{console.error("Error al guardar los datos:",Je)})},Ze=u(!1),tl=()=>{z.value=!z.value},le=u({typedocument_id:"",document:"",department_id:"",province_id:"",district_id:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:""}),He=u("cash"),el=u([]),H=t=>!!M.value[t],al=t=>H(t),B=u([]),A=[{value:1,label:"Natural"},{value:2,label:"Jurídico"}],Ce=[{value:1,label:"DNI"},{value:2,label:"RUC"},{value:3,label:"PASAPORTE"}],de=[{id:1,label:"Soltero"},{id:2,label:"Casado"},{id:2,label:"Viudo"},{id:2,label:"Divorciado"}],ne=[{id:1,label:"Masculino"},{id:2,label:"Femenino"}],D=u({typedocument_id:"",department_id:"",province_id:"",district_id:"",type_client:"",fullname:"",document:"",tradename:"",address:"",email:"",telephone:"",cellphone:"",date_birthday:"",sex:"",status:"",typeDocument:""}),_e=u(A[0].value),Ee=u(Ce[0].value);let ie=u(null),Ue=u(null),re=u(null),Me=u(null),Ge=u(null),il="";const ll=[{value:"clients",label:"Clientes"},{value:"providers",label:"Proveedores"},{value:"employees",label:"Empleados"}],Ne=u(ll[0].value),rl=u([]),vl=[{value:1,label:"Efectivo"},{value:2,label:"Visa"},{value:3,label:"Cheque"},{value:4,label:"Depósito a cuenta"}],ul=async()=>{try{const t=await x.get(`https://thtbackend-production.up.railway.app/api/v1/ubigeo/provinces/${D.value.department_id}`,$);Z.value=t.data.data.map(d=>({value:d.id,label:d.name}))}catch(t){console.error("Error fetching provinces:",t)}},nl=async()=>{try{const t=await x.get(`https://thtbackend-production.up.railway.app/api/v1/ubigeo/districts/${D.value.province_id}`,$);Q.value=t.data.data.map(d=>({value:d.id,label:d.name}))}catch(t){console.error("Error fetching provinces:",t)}},pl=()=>{x.get(`https://thtbackend-production.up.railway.app/api/v1/apiruc/${le.value.document}`).then(t=>{console.log("Respuesta de la API RUC:",t.data),le.value.fullname=t.data.razonSocial}).catch(t=>{console.error("Error al obtener datos del RUC:",t)})},f=()=>{x.get(`https://thtbackend-production.up.railway.app/api/v1/apidni/${D.value.document}`).then(t=>{console.log("Respuesta de la API DNI:",t.data),D.value.fullname=`${t.data.nombres} ${t.data.apellidoPaterno} ${t.data.apellidoMaterno}`}).catch(t=>{console.error("Error al obtener datos del DNI:",t)})},p=()=>{console.log(Pe.value),x.post("https://thtbackend-production.up.railway.app/api/v1/banks/create",Pe.value,{...$}).then(t=>{console.log("Datos guardados exitosamente:",t.data),te(),fe(),E.success(t.data.message)}).catch(t=>{console.error("Error al guardar los datos:",t)})},F=()=>{x.post("https://thtbackend-production.up.railway.app/api/v1/providers/create",le.value,{...$}).then(t=>{console.log("Datos guardados exitosamente:",t.data),X(),Te(),E.success(t.data.message)}).catch(t=>{console.error("Error al guardar los datos:",t)})},n=()=>{console.log(D.value);const t=document.querySelector(".typecliente-select select");if(t){const j=t.selectedIndex,v=j.toString();t.options[j].text,D.value.type_client=v,console.log("Label seleccionado:",D.value.type_client),console.log("Índice seleccionado como cadena:",v)}else console.log("No se ha seleccionado ninguna opción.");const d=document.querySelector(".typedocument-select select");if(t){const j=d.selectedIndex,v=d.options[j].text;D.value.typedocument_id=j,D.value.typeDocument=v,console.log("Id & Label seleccionado:",D.value.type_client)}else console.log("No se ha seleccionado ninguna opción.");x.post("https://thtbackend-production.up.railway.app/api/v1/clients/create",D.value,{...$}).then(j=>{console.log("Datos guardados exitosamente:",j.data),cl(),V(),E.success(j.data.message)}).catch(j=>{console.error("Error al guardar los datos:",j)})},a=()=>{const t=document.querySelector(".oficinaprincipal-select select");if(t){const R=t.selectedIndex,De=t.options[R].text;ae.value.branchoffice_id=R,console.log("Label seleccionado:",R,De)}else console.log("No se ha seleccionado ninguna opción.");const d=document.querySelector(".typeaccount-select select");if(t){const R=d.selectedIndex,De=d.options[R].text;ae.value.typeaccount_id=R,console.log("Label seleccionado:",R,De)}else console.log("No se ha seleccionado ninguna opción.");const j=document.querySelector(".banck-select select");if(t){const R=j.selectedIndex,De=j.options[R].text;ae.value.bank_id=R,console.log("Label seleccionado:",R,De)}else console.log("No se ha seleccionado ninguna opción.");const v=document.querySelector(".money-select select");if(t){const R=v.selectedIndex,De=v.options[R].text;ae.value.currency_id=R,console.log("Label seleccionado:",R,De)}else console.log("No se ha seleccionado ninguna opción.");console.log(ae.value),x.post("https://thtbackend-production.up.railway.app/api/v1/accountbanks/create",ae.value,{...$}).then(R=>{console.log("Datos guardados exitosamente:",R.data),We(),Se(),E.success(R.data.message)}).catch(R=>{console.error("Error al guardar los datos:",R)})};k(()=>ge.value,(t,d)=>{}),k(()=>Ke.value,(t,d)=>{}),k(()=>$e.value,(t,d)=>{}),k(()=>Xe.value,(t,d)=>{}),k(()=>ke.value,(t,d)=>{}),k(()=>He.value,(t,d)=>{}),k(()=>Le.value,(t,d)=>{}),k(()=>Qe.value,(t,d)=>{}),k(()=>Be.value,(t,d)=>{}),k(()=>we.value,(t,d)=>{}),k(()=>Re.value,(t,d)=>{}),k(Ne,(t,d)=>{const j=document.querySelector(".emisor-select select");if(j){const v=j.selectedIndex,R=j.options[v].text;console.log("Label seleccionado:",v,R)}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>re.value,(t,d)=>{if(document.querySelector(".district-select select")){const v=t.toString().padStart(6,"0");console.log("Id seleccionado:",v),D.value.district_id=v,le.value.district_id=v}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>Ue.value,(t,d)=>{if(document.querySelector(".province-select select")){const v=t.toString().padStart(4,"0");console.log("Id seleccionado:",v),D.value.province_id=v,le.value.province_id=v}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>ie.value,(t,d)=>{if(document.querySelector(".department-select select")){const v=t.toString().padStart(2,"0");console.log("Id seleccionado:",v),D.value.department_id=v,le.value.department_id=v}else console.log("No se ha seleccionado ninguna opción.")});const c=u("N° DNI"),r=u("RENIEC");return k(()=>Ee.value,t=>{const d=document.querySelector(".typedocument-select select");if(d){const j=d.selectedIndex,v=d.options[j],R=d.options[j].text;D.value.typedocument_id=j,D.value.typeDocument=R,c.value=`N° ${v.textContent}`,r.value=t==="1"?"RENIEC":t==="2"?"SUNAT":"Validar",console.log(D.value.typeDocument)}else console.log("No se ha encontrado el elemento del selector.")}),k(()=>Ge.value,(t,d)=>{const j=document.querySelector(".sexo-select select");if(j){const v=j.selectedIndex,R=j.options[v].text;D.value.sex=R,console.log("Label seleccionado:",D.value.sex)}else console.log("No se ha seleccionado ninguna opción.")}),k(()=>Me.value,(t,d)=>{const j=document.querySelector(".state-select select");if(j){const v=j.selectedIndex,R=j.options[v].text;D.value.status=R,console.log("Label seleccionado:",D.value.status)}else console.log("No se ha seleccionado ninguna opción.")}),Cl(async()=>{try{await oe(),await Se(),await Te(),await fe(),await V(),await G(),await L(),await ce()}catch(t){console.error("Error al realizar llamadas a la API:",t)}}),k(()=>w.egresoData,t=>{t&&(ge.value=null,we.value=null,ke.value=null,t.client_id?(Ne.value="clients",ge.value=t.client_id):t.employee_id?(Ne.value="employees",we.value=t.employee_id):t.provider_id&&(Ne.value="providers",ke.value=t.provider_id),M.value.id=t.id,M.value.gloss=t.gloss,M.value.nro_voucher_external=t.nro_voucher_external,M.value.reference_operation=t.reference_operation,$e.value=t.concept_id,He.value=t.paymentmethod_id,Le.value=t.accountbank_id,M.value.amount=t.amount,Ae.value=t.is_voucher_external===1,Fe.value=t.voucher_external,J.value=t.paymentmethod_id===4,console.log(Ae.value))}),(t,d)=>{const j=U("flat-pickr");return h(),y("div",null,[e(l(pe),{activeModal:w.activeModal,onClose:q,title:"Actualizar Registro de Egreso",centered:""},{default:s(()=>[o("form",{onSubmit:I(ol,["prevent"]),class:"space-y-4"},[o("div",gd,[e(l(i),{name:"d1",error:l(il)},{default:s(()=>[e(l(_),{label:"Caja aperturada",options:he,modelValue:Ke.value,"onUpdate:modelValue":d[0]||(d[0]=v=>Ke.value=v),disabled:"",class:"cajonci-select"},null,8,["modelValue"])]),_:1},8,["error"]),e(l(i),{label:"Descripción egreso",name:"d2"},{default:s(()=>[e(l(C),{type:"text",placeholder:"Descripción egreso",modelValue:M.value.gloss,"onUpdate:modelValue":d[1]||(d[1]=v=>M.value.gloss=v),modelModifiers:{trim:!0}},null,8,["modelValue"]),al("gloss")?P("",!0):(h(),y("span",bd,"Por favor ingrese descripción"))]),_:1})]),o("div",fd,[e(l(i),{name:"d3"},{default:s(()=>[e(l(_),{label:"Emisor (opcional)",options:ll,modelValue:Ne.value,"onUpdate:modelValue":d[2]||(d[2]=v=>Ne.value=v),class:"emisor-select"},null,8,["modelValue"])]),_:1}),e(l(i),{name:"d4"},{default:s(()=>[e(l(_),{label:"Concepto egreso",options:rl.value,modelValue:$e.value,"onUpdate:modelValue":d[3]||(d[3]=v=>$e.value=v),class:"concept-select",placeholder:"Seleccione concepto"},null,8,["options","modelValue"]),$e.value?P("",!0):(h(),y("span",hd,"Por favor selecciona un concepto"))]),_:1})]),o("div",_d,[Ne.value==="clients"?(h(),y("div",yd,[e(l(i),{label:"Clientes",class:"flex-1"},{default:s(()=>[e(l(_),{options:ye.value,modelValue:ge.value,"onUpdate:modelValue":d[4]||(d[4]=v=>ge.value=v),class:"client-select"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:dl,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):Ne.value==="providers"?(h(),y("div",xd,[e(l(i),{label:"Proveedores",class:"flex-1"},{default:s(()=>[e(l(_),{options:O.value,modelValue:ke.value,"onUpdate:modelValue":d[5]||(d[5]=v=>ke.value=v),class:"provider-select"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:ee,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):Ne.value==="employees"?(h(),y("div",Vd,[e(l(i),{label:"Empleados",class:"flex-1"},{default:s(()=>[e(l(_),{options:Oe.value,modelValue:we.value,"onUpdate:modelValue":d[6]||(d[6]=v=>we.value=v),class:"employee-select"},null,8,["options","modelValue"])]),_:1})])):P("",!0),e(l(Vl),{label:"Incluye Comprobante",modelValue:Ae.value,"onUpdate:modelValue":d[7]||(d[7]=v=>Ae.value=v),checked:Ae.value},null,8,["modelValue","checked"]),Ae.value?(h(),y("div",Cd,[e(l(i),{label:"Tipo de Comprobante"},{default:s(()=>[e(l(_),{options:Ye.value,modelValue:Fe.value,"onUpdate:modelValue":d[8]||(d[8]=v=>Fe.value=v)},null,8,["options","modelValue"])]),_:1}),e(l(i),{label:"N° de Comprobante"},{default:s(()=>[e(l(C),{type:"text",modelValue:M.value.nro_voucher_external,"onUpdate:modelValue":d[9]||(d[9]=v=>M.value.nro_voucher_external=v),placeholder:"Ingrese N° de Comprobante"},null,8,["modelValue"])]),_:1})])):P("",!0)]),e(l(pe),{title:"Registrar nuevo Cliente",label:"Modal title",activeModal:b.value,onClose:d[24]||(d[24]=v=>b.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[o("form",kd,[o("div",wd,[o("div",null,[e(l(i),{label:"Tipo de cliente"},{default:s(()=>[e(l(_),{options:A,modelValue:_e.value,"onUpdate:modelValue":d[10]||(d[10]=v=>_e.value=v),class:"typecliente-select",placeholder:"Selccione Cliente"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Tipo documento"},{default:s(()=>[e(l(_),{options:Ce,modelValue:Ee.value,"onUpdate:modelValue":d[11]||(d[11]=v=>Ee.value=v),class:"typedocument-select"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"N° Documento"},{default:s(()=>[e(l(qe),{type:"text",placeholder:c.value,modelValue:D.value.document,"onUpdate:modelValue":d[12]||(d[12]=v=>D.value.document=v)},{append:s(()=>[e(l(N),{text:r.value,btnClass:"btn-outline-dark",onClick:I(f,["prevent"])},null,8,["text"])]),_:1},8,["placeholder","modelValue"])]),_:1})])]),o("div",$d,[o("div",Ed,[e(l(i),{label:"Nombre ó Razón Social"},{default:s(()=>[e(l(C),{type:"text",id:"client_fullname",modelValue:D.value.fullname,"onUpdate:modelValue":d[13]||(d[13]=v=>D.value.fullname=v),modelModifiers:{trim:!0},placeholder:"Ingrese Nombre ó Razón Social "},null,8,["modelValue"])]),_:1})]),Md]),o("div",Id,[o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Y.value,label:"Departamento",modelValue:l(ie),"onUpdate:modelValue":d[14]||(d[14]=v=>W(ie)?ie.value=v:ie=v),class:"department-select",onChange:ul,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Z.value,label:"Provincias",modelValue:l(Ue),"onUpdate:modelValue":d[15]||(d[15]=v=>W(Ue)?Ue.value=v:Ue=v),class:"province-select",onChange:nl,placeholder:""},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Q.value,label:"Distritos",modelValue:l(re),"onUpdate:modelValue":d[16]||(d[16]=v=>W(re)?re.value=v:re=v),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),o("div",Sd,[o("div",Ud,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(C),{type:"text",modelValue:D.value.address,"onUpdate:modelValue":d[17]||(d[17]=v=>D.value.address=v),modelModifiers:{trim:!0},placeholder:"Ingrese Direción"},null,8,["modelValue"])]),_:1})]),Dd]),o("div",Td,[o("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(C),{type:"text",modelValue:D.value.cellphone,"onUpdate:modelValue":d[18]||(d[18]=v=>D.value.cellphone=v),modelModifiers:{trim:!0},placeholder:"Ingrese N° de celular"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Teléfono fijo"},{default:s(()=>[e(l(C),{type:"text",modelValue:D.value.telephone,"onUpdate:modelValue":d[19]||(d[19]=v=>D.value.telephone=v),modelModifiers:{trim:!0},placeholder:"Ingrese N° de telefono fijo"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(C),{type:"email",modelValue:D.value.email,"onUpdate:modelValue":d[20]||(d[20]=v=>D.value.email=v),modelModifiers:{trim:!0},placeholder:"Ingrese correo electrónico"},null,8,["modelValue"])]),_:1})])]),o("div",Nd,[o("div",null,[e(l(i),{label:"Fecha de nacimiento"},{default:s(()=>[e(j,{modelValue:D.value.date_birthday,"onUpdate:modelValue":d[21]||(d[21]=v=>D.value.date_birthday=v),class:"form-control",id:"date_birthday",placeholder:"yyyy, dd M",config:{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d"}},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:de,label:"Estado",modelValue:l(Me),"onUpdate:modelValue":d[22]||(d[22]=v=>W(Me)?Me.value=v:Me=v),class:"state-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:ne,label:"Sexo",modelValue:l(Ge),"onUpdate:modelValue":d[23]||(d[23]=v=>W(Ge)?Ge.value=v:Ge=v),class:"sexo-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})])]),o("div",Pd,[Ld,o("div",Rd,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(cl,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(n,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(pe),{title:"Registrar nuevo Proveedor",label:"Modal title",activeModal:S.value,onClose:d[35]||(d[35]=v=>S.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[o("form",Ad,[o("div",jd,[o("div",null,[e(l(i),{label:"N° RUC"},{default:s(()=>[e(l(qe),{type:"text",placeholder:"RUC",modelValue:le.value.document,"onUpdate:modelValue":d[25]||(d[25]=v=>le.value.document=v),modelModifiers:{trim:!0}},{append:s(()=>[e(l(N),{text:"SUNAT",btnClass:"btn-outline-dark ",onClick:I(pl,["prevent"])})]),_:1},8,["modelValue"])]),_:1})]),o("div",qd,[e(l(i),{label:"Razón social del proveedor"},{default:s(()=>[e(l(C),{modelValue:le.value.fullname,"onUpdate:modelValue":d[26]||(d[26]=v=>le.value.fullname=v),modelModifiers:{trim:!0},placeholder:"Razón social del proveedor",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Nombre comercial"},{default:s(()=>[e(l(C),{modelValue:le.value.tradename,"onUpdate:modelValue":d[27]||(d[27]=v=>le.value.tradename=v),modelModifiers:{trim:!0},placeholder:"Nombre comercial",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",Od,[o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Y.value,label:"Departamento",modelValue:l(ie),"onUpdate:modelValue":d[28]||(d[28]=v=>W(ie)?ie.value=v:ie=v),class:"department-select",onChange:ul,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Z.value,label:"Provincias",modelValue:l(Ue),"onUpdate:modelValue":d[29]||(d[29]=v=>W(Ue)?Ue.value=v:Ue=v),class:"province-select",onChange:nl,placeholder:""},null,8,["options","modelValue"])]),_:1})]),o("div",null,[e(l(i),null,{default:s(()=>[e(l(_),{options:Q.value,label:"Distritos",modelValue:l(re),"onUpdate:modelValue":d[30]||(d[30]=v=>W(re)?re.value=v:re=v),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(C),{modelValue:le.value.address,"onUpdate:modelValue":d[31]||(d[31]=v=>le.value.address=v),modelModifiers:{trim:!0},placeholder:"Dirección",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",Bd,[o("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(C),{modelValue:le.value.cellphone,"onUpdate:modelValue":d[32]||(d[32]=v=>le.value.cellphone=v),modelModifiers:{trim:!0},placeholder:"Celular","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Teléfono"},{default:s(()=>[e(l(C),{modelValue:le.value.telephone,"onUpdate:modelValue":d[33]||(d[33]=v=>le.value.telephone=v),modelModifiers:{trim:!0},placeholder:"Teléfono","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(C),{modelValue:le.value.email,"onUpdate:modelValue":d[34]||(d[34]=v=>le.value.email=v),modelModifiers:{trim:!0},placeholder:"Correo electrónico",type:"email",class:"w-full"},null,8,["modelValue"])]),_:1})])]),o("div",Fd,[Gd,o("div",zd,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(X,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(F,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(pe),{title:"Registrar cuenta bancaria",label:"Modal title",activeModal:T.value,onClose:d[47]||(d[47]=v=>T.value=!1)},{default:s(()=>[o("form",Hd,[o("div",Jd,[o("div",null,[e(l(i),{label:"Sucursal",class:"block"},{default:s(()=>[e(l(_),{modelValue:Re.value,"onUpdate:modelValue":d[36]||(d[36]=v=>Re.value=v),options:xe,required:"",class:"oficinaprincipal-select"},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Tipo de cuenta",class:"block"},{default:s(()=>[e(l(_),{modelValue:Qe.value,"onUpdate:modelValue":d[37]||(d[37]=v=>Qe.value=v),options:Ve,required:"",class:"typeaccount-select"},null,8,["modelValue"])]),_:1})])]),o("div",Yd,[o("div",Qd,[e(l(i),{label:"Banco",class:"flex-1"},{default:s(()=>[e(l(_),{options:el.value,modelValue:Be.value,"onUpdate:modelValue":d[38]||(d[38]=v=>Be.value=v),class:"banck-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:I(tl,["prevent"]),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),o("div",null,[e(l(i),{label:"Moneda",class:"block"},{default:s(()=>[e(l(_),{modelValue:Xe.value,"onUpdate:modelValue":d[39]||(d[39]=v=>Xe.value=v),options:ve,required:"",class:"money-select"},null,8,["modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Nombre cuenta",class:"block"},{default:s(()=>[e(l(C),{modelValue:ae.value.name,"onUpdate:modelValue":d[40]||(d[40]=v=>ae.value.name=v),modelModifiers:{trim:!0},placeholder:"Nombre cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",Kd,[o("div",null,[e(l(i),{label:"N° de cuenta",class:"block"},{default:s(()=>[e(l(C),{modelValue:ae.value.number_account,"onUpdate:modelValue":d[41]||(d[41]=v=>ae.value.number_account=v),modelModifiers:{trim:!0},placeholder:"N° de cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"N° CCI (Código interbancario)",class:"block"},{default:s(()=>[e(l(C),{modelValue:ae.value.cci_account,"onUpdate:modelValue":d[42]||(d[42]=v=>ae.value.cci_account=v),modelModifiers:{trim:!0},placeholder:"N° CCI",required:""},null,8,["modelValue"])]),_:1})])]),o("div",null,[e(l(i),{label:"Titular cuenta",class:"block"},{default:s(()=>[e(l(C),{modelValue:ae.value.headline,"onUpdate:modelValue":d[43]||(d[43]=v=>ae.value.headline=v),modelModifiers:{trim:!0},placeholder:"Titular cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",null,[e(l(i),{label:"Descripción",class:"block"},{default:s(()=>[e(l($l),{modelValue:ae.value.description,"onUpdate:modelValue":d[44]||(d[44]=v=>ae.value.description=v),modelModifiers:{trim:!0},placeholder:"Descripción"},null,8,["modelValue"])]),_:1})]),o("div",Wd,[Zd,o("div",Xd,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(We,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(a,["prevent"])})])])]),e(l(pe),{title:"Registrar banco",label:"Modal title",activeModal:z.value,onClose:d[46]||(d[46]=v=>z.value=!1)},{default:s(()=>[o("form",ec,[e(l(C),{label:"Nombre",name:"pn",type:"text",placeholder:"Ingresar nombre ",modelValue:Pe.value.description,"onUpdate:modelValue":d[45]||(d[45]=v=>Pe.value.description=v)},null,8,["modelValue"]),o("div",lc,[oc,o("div",tc,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(te,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:I(p,["prevent"])})])])])]),_:1},8,["activeModal"])]),_:1},8,["activeModal"]),o("div",ac,[e(l(i),{name:"d5",class:"mt-1"},{default:s(()=>[nc,e(l(_),{id:"payment-type",options:vl,disabled:"",modelValue:He.value,"onUpdate:modelValue":d[48]||(d[48]=v=>He.value=v),class:"pago-select mt-2"},null,8,["modelValue"])]),_:1}),J.value?(h(),y(ue,{key:0},[o("div",sc,[e(l(i),{label:"Cuenta destino",class:"flex-1"},{default:s(()=>[e(l(_),{options:B.value,modelValue:Le.value,"onUpdate:modelValue":d[49]||(d[49]=v=>Le.value=v),disabled:"",class:"cuentadestino-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),e(l(i),{label:"N° de Operación"},{default:s(()=>[e(l(C),{type:"text",modelValue:M.value.reference_operation,"onUpdate:modelValue":d[50]||(d[50]=v=>M.value.reference_operation=v),modelModifiers:{trim:!0},placeholder:"Ingrese N° de Operación"},null,8,["modelValue"])]),_:1})],64)):P("",!0),o("div",dc,[o("div",cc,[e(l(i),{label:"Monto",name:"d6"},{default:s(()=>[e(l(C),{type:"text",placeholder:"Monto",modelValue:M.value.amount,"onUpdate:modelValue":d[51]||(d[51]=v=>M.value.amount=v),modelModifiers:{trim:!0},disabled:!Ze.value},null,8,["modelValue","disabled"]),al("amount")?P("",!0):(h(),y("span",ic,"Por favor ingrese monto"))]),_:1})]),o("div",rc,[e(l(Vl),{active:"",label:"Modificar",class:"font-bold",modelValue:Ze.value,"onUpdate:modelValue":d[52]||(d[52]=v=>Ze.value=v)},null,8,["modelValue"])])])]),o("div",uc,[o("div",pc,[e(l(N),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:I(Ie,["prevent"])}),e(l(N),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:ze})])])],32)]),_:1},8,["activeModal"])])}}},Il=je().headers(),xl=ml(),vc={components:{Card:_l,Icon:yl,Breadcrumb:Ol,ListIngresoEgreso:Fa,Switch:Jl,CajaHistorialA:ma,ClientAddModal:hs,ClientEditModal:Dl,ClientEditModalEgresoA:mc,ClientAddModalEgresoA:vd,TransferirCajaModal:Xa,ListEgreso:Wt,List:xt,ModalCierreCaja:Cn,VueTailwindDatePicker:jl,CityTouristicAddModal:dn,Swiper:Fl,SwiperSlide:Gl,Select:_,Button:N,Textinput:C},data(){return{id:"",summary_paymethods:[],moneybox:{},selected:2,activeIndex:null,monto:"2,447.700",cajaInicial:"",authStore:je(),applyForEntireMonth:!1,applyForHistory:!1,idBoxed:"1",showModalCierre:!1,cards:[{bg:"from-[#1EABEC] to-primary-500 ",cardNo:"****  ****  **** 3945"}],statistics:[{title:"Sales",count:"354",bg:"bg-warning-500",text:"text-primary-500",percent:"25.67% ",icon:"heroicons:arrow-trending-up",img:Pl,percentClass:"text-primary-500"},{title:"Revenue ",count:"$86,954",bg:"bg-info-500",text:"text-primary-500",percent:"8.67%",icon:"heroicons:arrow-trending-up",img:Ll,percentClass:"text-primary-500"},{title:"Conversion",count:"15%",bg:"bg-primary-500",text:"text-danger-500",percent:"1.67%  ",icon:"heroicons:arrow-trending-down",img:Rl,percentClass:"text-danger-500"},{title:"Leads",count:"654",bg:"bg-success-500",text:"text-primary-500",percent:"11.67%  ",icon:"heroicons:arrow-trending-up",img:Al,percentClass:"text-primary-500"}],boxesOptions:[{value:2,label:"Caja General.A"}]}},setup(){return{modules:[zl]}},props:{activeModal:Boolean},methods:{openBox(){xl.openProject()},handleVerDocumento(){x.get(`https://thtbackend-production.up.railway.app/api/v1/list-box-cuadre-akemy/${this.id}`).then(g=>{}).catch(g=>{console.error("Error al obtener la URL del PDF:",g),window.open(g.config.url,"_blank")})},openBoxClosed(){this.id=this.moneybox[0].id,this.monto=this.monto,console.log(this.monto),this.showModalCierre=!0},transferirCajaGeneral(){xl.openTransfer()},async fetchSummaryPaymethods(g){try{const m=await x.get(`https://thtbackend-production.up.railway.app/api/v1/moneyboxes-akemy/list/${g}`,Il);this.moneybox=[m.data.moneybox],this.id=this.moneybox[0].id,this.monto=this.moneybox[0].balance,this.cajaInicial=m.data.penultimate_amount_closing,this.summary_paymethods=m.data.summary_paymethods,console.log(this.moneybox)}catch(m){console.error("Error fetching summary_paymethods:",m)}},async fetchSummaryPaymethodsInit(){try{const g=await x.get("https://thtbackend-production.up.railway.app/api/v1/moneyboxes-akemy/list",Il);this.summary_paymethods=g.data.summary_paymethods,g.data.moneybox===!1?this.moneybox=[{date_opening:g.data.date}]:this.moneybox=[g.data.moneybox]}catch(g){console.error("Error fetching summary_paymethods:",g)}},handleGuardadoExitosoTransferCajaPrincipal(){location.reload(!0)},handleGuardadoExitoso(g){console.log("Datos guardados exitosamente en el componente padre:",g);const m=g.data.moneybox_id;this.id=m,this.fetchSummaryPaymethods(this.id),console.log("ID capturado:",m)},openProject(){xl.openProject2()},openEgreso(){xl.openProject3()},boldUpperCase(g){return g.toUpperCase()}},mounted(){x.get("https://thtbackend-production.up.railway.app/api/v1/moneyboxes-akemy/last-id-with-socia-owner",Il).then(g=>{const{last_id:m,has_null_date_closing:$}=g.data;this.id=m,console.log(this.id),$?this.fetchSummaryPaymethods(this.id):(this.id=null,this.fetchSummaryPaymethodsInit())}).catch(g=>{console.error("Error al obtener el último ID:",g),this.id=null,this.fetchSummaryPaymethodsInit()})},watch:{id(g,m){console.log("Nuevo valor de idBoxed:",g)}},computed:{authenticatedUser(){return je().user}}},gc={class:"flex justify-between flex-wrap items-center"},bc={class:"flex sm:space-x-4 space-x-2 sm:justify-end items-center md:mb-6 mb-4 rtl:space-x-reverse"},fc=o("span",{class:"input-group-prepend w-full bg-gray-200 bg-opacity-25 px-2 py-1 rounded-lg font-bold text-slate-600 dark:text-slate-300"}," Caja seleccionada ",-1),hc={class:"space-y-5 card-auto"},_c={class:"grid grid-cols-12 gap-5"},yc={class:"text-lg flex uppercase text-slate-500 dark:text-slate-300 mb-1 leading-[12px] items-center font-bold"},xc={key:0},Vc={class:"max-w-[90%] mx-auto mt-2"},Cc={class:"h-[150px] bg-gradient-to-r relative rounded-md z-[1] p-4 text-white from-teal-500 to-orange-300"},kc=o("div",{class:"font-bold text-lg mb-2"},"Caja abierta",-1),wc={class:"text-center mt-4"},$c={class:"font-bold text-4xl"},Ec=o("div",{class:"overlay absolute left-0 top-0 h-full w-full -z-[1]"},[o("img",{src:Hl,alt:"",class:"h-full w-full object-cover"})],-1),Mc={class:"flex justify-center mt-6"},Ic={class:"font-bold mr-5 text-slate-600 dark:text-slate-300"},Sc={class:"text-lg"},Uc=o("span",{class:"ml-2"},"Arquero",-1),Dc={class:"text-lg"},Tc=o("span",{class:"ml-2"},"Cerrar Caja",-1),Nc={class:"text-lg"},Pc=o("span",{class:"ml-2"},"Transferir a Caja Principal",-1),Lc={class:"text-lg flex uppercase text-slate-500 dark:text-slate-300 mb-1 leading-[12px] items-center font-bold"},Rc={key:0},Ac={class:"flex justify-center items-center mt-6"},jc={class:"text-8xl"},qc=o("div",{class:"text-center text-slate-500 dark:text-slate-300 mt-4 font-bold"}," Aún no tiene abierto la caja para la fecha actual ",-1),Oc={class:"flex justify-center mt-6"},Bc={class:"text-lg"},Fc=o("span",null,"Abrir Caja",-1),Gc={class:"lg:col-span-6 col-span-12"},zc={class:"grid xl:grid-cols-4 lg:grid-cols-2 col-span-1 gap-3"},Hc={class:"block mb-6 text-sm text-slate-900 dark:text-white font-bold"},Jc={class:"block mb- text-2xl text-slate-900 dark:text-white font-bold mb-14"},Yc={class:"flex space-x-2 rtl:space-x-reverse"},Qc={class:"flex-1 text-sm"},Kc=o("span",{class:"block mb-1 text-slate-600 dark:text-slate-300"},"N° transacciones",-1),Wc={class:"mt-3 flex justify-start items-start"},Zc={class:"mr-5"},Xc={class:"mb-2"},ei={class:"mt-3 flex justify-between items-start"},li={class:"w-full"};function oi(g,m,$,E,b,S){const T=U("Select"),z=U("Button"),J=U("Icon"),Y=U("swiper-slide"),Q=U("swiper"),Z=U("Card"),w=U("CityTouristicAddModal"),se=U("TransferirCajaModal"),q=U("ClientAddModal"),Ie=U("ClientEditModal"),M=U("ClientAddModalEgresoA"),L=U("ClientEditModalEgresoA"),V=U("ModalCierreCaja"),oe=U("Switch"),fe=U("List"),ce=U("ListEgreso"),Se=U("ListIngresoEgreso"),Te=U("CajaHistorialA");return h(),y("div",null,[o("div",gc,[o("div",bc,[fc,e(T,{options:b.boxesOptions,modelValue:b.selected,"onUpdate:modelValue":m[0]||(m[0]=G=>b.selected=G),class:"w-full rounded-lg shadow-md px-4 py-2 bg-white",placeholder:"Caja Seleccionada"},null,8,["options","modelValue"]),e(z,{icon:"heroicons-outline:plus",text:"Agregar Ingreso",btnClass:"btn-dark dark:bg-slate-800 h-min text-sm font-normal",iconClass:"text-lg",onClick:S.openProject},null,8,["onClick"]),e(z,{icon:"heroicons-outline:plus",text:"Agregar Egreso",btnClass:"btn-dark dark:bg-slate-800 h-min text-sm font-normal",iconClass:"text-lg",onClick:S.openEgreso},null,8,["onClick"])]),o("div",hc,[o("div",_c,[b.id?(h(!0),y(ue,{key:0},gl(b.moneybox,(G,ve)=>(h(),y("div",{class:"lg:col-span-6 col-span-12 space-y-5",key:ve},[e(Z,{title:G.date_opening},{header:s(()=>[o("span",yc,[S.authenticatedUser?(h(),y("span",xc,K(S.boldUpperCase(S.authenticatedUser.name)),1)):P("",!0),e(J,{icon:"heroicons-solid:user"})])]),default:s(()=>[o("div",Vc,[e(Q,{effect:"cards",grabCursor:!0,modules:E.modules,class:"mySwiper"},{default:s(()=>[e(Y,null,{default:s(()=>[o("div",Cc,[kc,o("div",wc,[o("div",$c," S/. "+K(b.monto),1)]),Ec])]),_:1}),e(Y)]),_:1},8,["modules"])]),o("div",Mc,[o("span",Ic,"Caja inicial S/ "+K(b.cajaInicial),1),o("button",{class:"inline-flex items-center justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-teal-500 hover:bg-teal-600 mr-5",onClick:m[1]||(m[1]=I(O=>S.handleVerDocumento(),["prevent"]))},[o("span",Sc,[e(J,{icon:"heroicons:arrow-down-tray"})]),Uc]),o("button",{class:"inline-flex items-center justify-center py-2 px-2 border border-transparent text-sm font-medium rounded-md text-white bg-orange-500 hover:bg-orange-600 mr-5",onClick:m[2]||(m[2]=I(O=>S.openBoxClosed(),["prevent"]))},[o("span",Dc,[e(J,{icon:"heroicons:lock-closed"})]),Tc]),o("button",{class:"inline-flex items-center justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-500 hover:bg-blue-600",onClick:m[3]||(m[3]=I(O=>S.transferirCajaGeneral(),["prevent"]))},[o("span",Nc,[e(J,{icon:"heroicons:currency-dollar"})]),Pc])])]),_:2},1032,["title"])]))),128)):(h(!0),y(ue,{key:1},gl(b.moneybox,(G,ve)=>(h(),y("div",{class:"lg:col-span-6 col-span-12 space-y-5",key:ve},[e(Z,{title:G.date_opening},{header:s(()=>[o("span",Lc,[S.authenticatedUser?(h(),y("span",Rc,K(S.boldUpperCase(S.authenticatedUser.name)),1)):P("",!0),e(J,{icon:"heroicons-solid:user"})])]),default:s(()=>[o("div",Ac,[o("span",jc,[e(J,{icon:"heroicons-solid:cube"})])]),qc,o("div",Oc,[o("button",{class:"invocie-btn inline-flex btn btn-sm whitespace-nowrap space-x-1 cursor-pointer bg-green-900 dark:bg-green-700 btn-md h-min text-sm font-normal text-white rtl:space-x-reverse",onClick:m[4]||(m[4]=I(O=>S.openBox(),["prevent"]))},[o("span",Bc,[e(J,{icon:"heroicons:lock-open"})]),Fc])])]),_:2},1032,["title"])]))),128)),o("div",Gc,[e(Z,{title:"Especificaciones"},{default:s(()=>[o("div",zc,[(h(!0),y(ue,null,gl(b.summary_paymethods,(G,ve)=>(h(),y("div",{key:ve,class:bl([G.bg,"rounded-md p-4 bg-opacity-[0.15] dark:bg-opacity-25 relative z-[1]"])},[(h(!0),y(ue,null,gl(b.statistics,(O,Oe)=>(h(),y("div",{class:"overlay absolute left-0 top-0 w-full h-full z-[-1]",key:Oe}))),128)),o("span",Hc,K(G.title),1),o("span",Jc,"S/. "+K(G.count),1),o("div",Yc,[o("div",{class:bl(["flex-none text-xl",G.text])},[e(J,{icon:G.icon},null,8,["icon"])],2),o("div",Qc,[o("span",{class:bl(["block mb-[2px]",G.percentClass])},K(G.percent),3),Kc])])],2))),128))])]),_:1})])])]),e(w,{onGuardadoExitoso:S.handleGuardadoExitoso},null,8,["onGuardadoExitoso"]),e(se,{id:b.id,onGuardadoExitoso:S.handleGuardadoExitosoTransferCajaPrincipal},null,8,["id","onGuardadoExitoso"]),e(q),e(Ie),e(M),e(L),e(V,{activeModal:b.showModalCierre,id:b.id,monto:b.monto,onClose:m[5]||(m[5]=G=>b.showModalCierre=!1)},null,8,["activeModal","id","monto"])]),o("div",Wc,[o("div",Zc,[e(oe,{label:"Ver Historial",modelValue:b.applyForHistory,"onUpdate:modelValue":m[6]||(m[6]=G=>b.applyForHistory=G),class:"mr-2"},null,8,["modelValue"])]),o("div",Xc,[e(oe,{label:"Ver todos los movimientos del mes",modelValue:b.applyForEntireMonth,"onUpdate:modelValue":m[7]||(m[7]=G=>b.applyForEntireMonth=G)},null,8,["modelValue"])])]),o("div",ei,[o("div",li,[!b.applyForEntireMonth&&!b.applyForHistory?(h(),sl(fe,{key:0})):P("",!0),!b.applyForEntireMonth&&!b.applyForHistory?(h(),sl(ce,{key:1,class:"mt-5"})):P("",!0),b.applyForEntireMonth?(h(),sl(Se,{key:2,class:"mt-5"})):P("",!0),b.applyForHistory?(h(),sl(Te,{key:3,class:"mt-5"})):P("",!0)])])])}const Oi=fl(vc,[["render",oi]]);export{Oi as default};
