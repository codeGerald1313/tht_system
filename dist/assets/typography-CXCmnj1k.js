import{I as X}from"./index-BcFOD9Ey.js";/* empty css                                              */import{B as M}from"./index-DCMPjbua.js";import{T as ie}from"./Table-CxPcO8df.js";import{q as u,u as Z,b as F,G as Y,o as c,d as p,e as t,h as C,f as l,w as B,j as o,p as _,F as J,m as K,J as D,c as H,t as O,i as ce,l as q,n as ae,H as de,K as ue,I as pe}from"./index-BLl1OigC.js";import{C as ee}from"./index-Hsd0Z0_R.js";import{F as Q}from"./index-I9bOp0dW.js";import{I as le}from"./index-DCC49QXr.js";import{u as se}from"./vee-validate.esm-CEUTxmiF.js";import{S as G}from"./index-DPFbVGd7.js";import{M as ne}from"./index-MSlXG-Ka.js";import{V as me}from"./VueSelect-DI5dOEtm.js";import{T as f}from"./index-BTHsGrD3.js";import{u as te}from"./project-DZP6XSnf.js";import"./VueSelect.vue_vue_type_style_index_0_lang-B1s-zvio.js";import{D as ve}from"./index-DFq5MbAK.js";import{P as ge}from"./index-vl95iEIB.js";import{P as he}from"./index-C66Q9vME.js";import{a as be}from"./basic-tablle-data-AN7MRnVF.js";import{_ as _e}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as fe}from"./menu-CM83wd2-.js";import{G as ye}from"./Projects-grid-Ce27NdcI.js";import"./vue-cleave.min-DAvglPmz.js";import"./transition-CNElC_4N.js";import"./focus-management-Dc3XsveG.js";import"./keyboard-9WePWYgZ.js";import"./use-outside-click-CPWvQZIF.js";import"./hidden-BR_kr5_G.js";import"./micro-task-CxIZtCgj.js";import"./open-closed-0CPOhxDd.js";import"./av-2-D6_jNZbn.js";import"./v4-D8aEg3BZ.js";import"./user-1-Dmhlt7-s.js";import"./user-4-_9lLfOE2.js";import"./user-6-Bk4CTUVR.js";import"./use-resolve-button-type-BwPomRAb.js";const xe={class:"grid lg:grid-cols-3 gap-4"},Ce={key:0,class:"ml-auto text-red-500"},Ve={key:0,class:"ml-auto text-red-500"},ke={key:0,class:"ml-auto text-red-500"},we={class:"grid lg:grid-cols-2 gap-4"},Ae={class:"grid lg:grid-cols-2 gap-4"},Te={key:0,class:"text-red-500"},Se={class:"grid lg:grid-cols-2 gap-4"},$e={class:"mt-3"},Ee={class:"border-b px-4 border-slate-100 dark:border-slate-700 pt-4 pb-3 flex justify-between items-center"},Me={class:"flex items-center"},Ue=l("h6",{class:"card-title mb-0"},"Tarifas de habitación",-1),He={key:0,class:"text-red-500 ml-2"},Ie={class:"flex items-center"},Pe={class:"flex-grow mr-2"},Be={class:"p-6"},Re={class:"flex justify-between items-end space-x-5"},je={class:"flex-none relative"},Le=["onClick"],Ne={class:"form-group col-lg-12 form__footerBtn"},Oe={class:"text-right"},De={__name:"AddProject",setup(V){let h=te();const m=u(null),j=Z().headers(),g=F(),S=[{value:1,label:"TARAPOTO"},{value:2,label:"MOYOBAMBA"},{value:3,label:"SAUCE"}];u(!0);const I=u(null),y=()=>{const b=document.querySelector(".city-select .vs__selected-options");if(b){const n=b.textContent.trim(),s=S.find(r=>r.label===n);s?(m.value=s.value,i.value.tourismcitie_id=s.value,console.log("Ciudad seleccionada - Valor:",m.value),console.log("Ciudad seleccionada - Etiqueta:",s.label)):console.log("No se ha seleccionado ninguna ciudad.")}else console.log("No se ha seleccionado ninguna ciudad.");const d=document.querySelector(".category-select .vs__selected-options");if(d){const n=d.textContent.trim();I.value=n,i.value.category=I.value,console.log("Categoría seleccionada:",i.value.category)}else console.log("No se ha seleccionado ninguna categoría.");i.value.hotelprices.forEach(n=>{const s=n.price_sale,r=n.price_corporate;console.log("Precio normal:",s),console.log("Precio corporativo:",r)}),D.post("https://thtbackend-production.up.railway.app/api/v1/hotels/create-asing",i.value,{...j}).then(n=>{console.log("Hotel guardado exitosamente:",n.data),w(),g.success(n.data.message)}).catch(n=>{console.error("Error al guardar el hotel:",n)})},w=()=>{h.closeModal()},$=()=>{D.get(`https://thtbackend-production.up.railway.app/api/v1/apiruc/${i.value.document}`).then(b=>{console.log("Respuesta de la API RUC:",b.data),i.value.fullname=b.data.razonSocial,i.value.address=b.data.direccion}).catch(b=>{console.error("Error al obtener datos del RUC:",b)})},A=u(!0),L=["Sin asignar","1 estrella","2 estrellas","3 estrellas","4 estrellas","5 estrellas"],N=[{id:1,label:"HAB. SIMPLE"},{id:2,label:"HAB. SIMPLE (AC)"},{id:3,label:"HAB. MATRIMONIAL"},{id:4,label:"HAB. MATRIMONIAL (AC)"},{id:5,label:"HAB. DOBLE"},{id:6,label:"HAB. DOBLE (AC)"},{id:7,label:"HAB. TRIPLE"},{id:8,label:"HAB. TRIPLE (AC)"},{id:9,label:"HAB. GRUPAL"},{id:10,label:"HAB. GRUPAL (AC)"}],i=u({tourismcitie_id:null,document:"",tradename:"",rucNumber:"",fullname:"",category:"",cellphone:"",telephone:"",email:"",address:"",hotelprices:[{typebedroom_id:null,price_sale:"",price_corporate:"",description:""}]}),E=u([]),k=u(""),e=u(!1),v=u(null),T=b=>{const d=b.target.value,n=N.find(s=>s.label===d);n?(k.value=n.label,v.value=n.id,console.log("Valor seleccionado:",k.value),console.log("ID seleccionado:",v.value),e.value=!0,A.value=!1):(k.value="",v.value=null,e.value=!1)},P=()=>{const b={key:E.value.length+1,roomType:k.value,typebedroom_id:v.value,price_sale:"",price_corporate:"",description:k.value};E.value.push(b),(E.value.length>0||i.value.hotelprices.length===0)&&(i.value.hotelprices=E.value),e.value=E.value.length>0,k.value="",v.value=null,console.log("Hotel prices:",i.value.hotelprices)},R=b=>{E.value.splice(b,1)},z=u(!1);u("");const W=()=>{z.value=i.value.inputValue.length!==11};return se({initialValues:{links:["https://github.com/logaretm"]}}),Y(()=>m.value,(b,d)=>{i.value.tourismcitie_id=m.value,console.log(i.value.tourismcitie_id)}),(b,d)=>(c(),p("div",null,[t(o(ne),{activeModal:o(h).addmodal,onClose:o(h).closeModal,title:"Registrar nuevo Hotel",sizeClass:"max-w-5xl",centered:""},{default:C(()=>[l("form",{onSubmit:B(y,["prevent"]),class:"space-y-4"},[l("div",xe,[t(o(Q),{label:"Ciudad turística"},{default:C(()=>[t(o(G),{options:S,ref:"citySelect",modelValue:m.value,"onUpdate:modelValue":d[0]||(d[0]=n=>m.value=n),placeholder:"Seleccione ciudad",class:"city-select"},null,8,["modelValue"]),m.value?_("",!0):(c(),p("span",Ce,"Este campo es obligatorio."))]),_:1}),l("div",null,[t(o(f),{label:"Nombre del hotel",required:"",type:"text",placeholder:"Nombre del hotel",modelValue:i.value.tradename,"onUpdate:modelValue":d[1]||(d[1]=n=>i.value.tradename=n),modelModifiers:{trim:!0}},null,8,["modelValue"]),i.value.tradename?_("",!0):(c(),p("span",Ve,"Este campo es obligatorio."))]),l("div",null,[t(o(Q),{label:"N° RUC"},{default:C(()=>[t(o(le),{type:"text",placeholder:"RUC",modelValue:i.value.document,"onUpdate:modelValue":d[2]||(d[2]=n=>i.value.document=n),onInput:W},{append:C(()=>[t(o(M),{text:"SUNAT",btnClass:"btn-outline-dark ",onClick:B($,["prevent"])})]),_:1},8,["modelValue"])]),_:1}),z.value?(c(),p("span",ke,"* Debe tener 11 dígitos")):_("",!0)])]),l("div",we,[t(o(f),{label:"Razón social",type:"text",placeholder:"Razón social",modelValue:i.value.fullname,"onUpdate:modelValue":d[3]||(d[3]=n=>i.value.fullname=n),modelModifiers:{trim:!0}},null,8,["modelValue"]),t(o(me),{label:"Categoría",options:L,modelValue:i.value.category,"onUpdate:modelValue":d[4]||(d[4]=n=>i.value.category=n),class:"category-select"},null,8,["modelValue"])]),l("div",Ae,[l("div",null,[t(o(f),{label:"Celular",type:"text",placeholder:"Celular",modelValue:i.value.cellphone,"onUpdate:modelValue":d[5]||(d[5]=n=>i.value.cellphone=n),modelModifiers:{trim:!0}},null,8,["modelValue"]),i.value.cellphone?_("",!0):(c(),p("span",Te,"Este campo es obligatorio."))]),t(o(f),{label:"Teléfono fijo",type:"text",placeholder:"Teléfono fijo",modelValue:i.value.telephone,"onUpdate:modelValue":d[6]||(d[6]=n=>i.value.telephone=n),modelModifiers:{trim:!0}},null,8,["modelValue"])]),l("div",Se,[t(o(f),{label:"Correo electrónico",type:"email",placeholder:"Correo electrónico",modelValue:i.value.email,"onUpdate:modelValue":d[7]||(d[7]=n=>i.value.email=n),modelModifiers:{trim:!0}},null,8,["modelValue"]),t(o(f),{label:"Dirección",placeholder:"Dirección",modelValue:i.value.address,"onUpdate:modelValue":d[8]||(d[8]=n=>i.value.address=n),modelModifiers:{trim:!0}},null,8,["modelValue"])]),l("div",$e,[t(o(ee),{bodyClass:"p-0 mt-7"},{default:C(()=>[l("header",Ee,[l("div",Me,[Ue,A.value&&!k.value?(c(),p("span",He,"Requerido")):_("",!0)]),l("div",Ie,[l("div",Pe,[t(o(G),{options:N,placeholder:"Seleccionar Tipo",class:"w-full",onChange:T})]),t(o(M),{icon:"heroicons-outline:plus",btnClass:"btn-outline-dark h-[45px] w-[45px]",onClick:B(P,["prevent"])})])]),l("div",Be,[l("form",{onSubmit:d[9]||(d[9]=B((...n)=>b.onSubmit&&b.onSubmit(...n),["prevent"])),novalidate:""},[e.value?(c(!0),p(J,{key:0},K(E.value,(n,s)=>(c(),p("div",{key:n.key,class:"lg:grid-cols-3 md:grid-cols-2 grid-cols-1 grid gap-5 mb-5 last:mb-0"},[t(o(f),{modelValue:n.roomType,"onUpdate:modelValue":r=>n.roomType=r,class:"room-type-input",label:"Habitación",type:"text",placeholder:"Tipo de Habitación"},null,8,["modelValue","onUpdate:modelValue"]),t(o(f),{modelValue:n.price_sale,"onUpdate:modelValue":r=>n.price_sale=r,label:"Precio Normal",type:"text",name:`name[${s}]`,placeholder:"S/",class:"priceSaleInput"},null,8,["modelValue","onUpdate:modelValue","name"]),l("div",Re,[t(o(f),{modelValue:n.price_corporate,"onUpdate:modelValue":r=>n.price_corporate=r,label:"Precio Corporativo",type:"text",name:`name[${s}]`,placeholder:"S/",class:"priceCorporateInput"},null,8,["modelValue","onUpdate:modelValue","name"]),l("div",je,[l("button",{type:"button",class:"inline-flex items-center justify-center h-10 w-10 bg-danger-500 text-lg border rounded border-danger-500 text-white",onClick:r=>R(s)},[t(o(X),{icon:"heroicons-outline:trash"})],8,Le)])])]))),128)):_("",!0)],32)])]),_:1})]),l("div",Ne,[l("div",Oe,[t(o(M),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:w}),t(o(M),{text:"Guardar",btnClass:"btn-dark",onCick:y})])])],32)]),_:1},8,["activeModal","onClose"])]))}},Ge={class:"grid lg:grid-cols-3 gap-4"},ze={key:0,class:"ml-auto text-red-500"},qe={key:0,class:"ml-auto text-red-500"},Fe={key:0,class:"ml-auto text-red-500"},Ye={class:"grid lg:grid-cols-2 gap-4"},Je={class:"grid lg:grid-cols-2 gap-4"},Ke={key:0,class:"text-red-500"},Qe={class:"grid lg:grid-cols-2 gap-4"},We={class:"mt-3"},Xe={class:"border-b px-4 border-slate-100 dark:border-slate-700 pt-4 pb-3 flex justify-between items-center"},Ze=l("div",{class:"flex items-center"},[l("h6",{class:"card-title mb-0"},"Tarifas de habitación")],-1),el={class:"flex items-center"},ll={class:"flex-grow mr-2"},tl={class:"p-6"},ol={class:"flex justify-between items-end space-x-5"},al={class:"flex-none relative"},sl=["onClick"],nl={class:"form-group col-lg-12 form__footerBtn"},rl={class:"text-right"},re={__name:"EditProject",props:{activeModal:Boolean,hotelData:Object},emits:["close","updateHotelList"],setup(V,{emit:h}){te();const m=u(null),j=Z().headers(),g=F(),S=V,I=h,y=()=>{I("close")},w=[{value:1,label:"TARAPOTO"},{value:2,label:"MOYOBAMBA"},{value:3,label:"SAUCE"}];u(!0);const $=u(null),A=()=>{const s=document.querySelector(".city-select .vs__selected-options");if(s){const a=s.textContent.trim(),x=w.find(U=>U.label===a);x?(m.value=x.value,e.value.tourismcitie_id=x.value,console.log("Ciudad seleccionada - Valor:",m.value),console.log("Ciudad seleccionada - Etiqueta:",x.label)):console.log("No se ha seleccionado ninguna ciudad.")}else console.log("No se ha seleccionado ninguna ciudad.");const r=document.querySelector(".category-select .vs__selected-options");if(r){const a=r.textContent.trim();$.value=a,e.value.category=$.value,console.log("Categoría seleccionada:",e.value.category)}else console.log("No se ha seleccionado ninguna categoría.");e.value.hotelprices.forEach(a=>{const x=a.price_sale,U=a.price_corporate;console.log("Precio normal:",x),console.log("Precio corporativo:",U)}),D.post(`https://thtbackend-production.up.railway.app/api/v1/hotels/${e.value.id}/update-asing`,e.value,{...j}).then(a=>{console.log("Hotel guardado exitosamente:",a.data),I("updateHotelList"),y(),g.success(a.data.message)}).catch(a=>{console.error("Error al guardar el hotel:",a)})},L=()=>{y()},N=()=>{D.get(`https://thtbackend-production.up.railway.app/api/v1/apiruc/${e.value.document}`).then(s=>{console.log("Respuesta de la API RUC:",s.data),e.value.fullname=s.data.razonSocial,e.value.address=s.data.direccion}).catch(s=>{console.error("Error al obtener datos del RUC:",s)})},i=u(!0),E=[{value:"Sin asignar",label:"Sin asignar"},{value:"1 estrella",label:"1 estrella"},{value:"2 estrellas",label:"2 estrellas"},{value:"3 estrellas",label:"3 estrellas"},{value:"4 estrellas",label:"4 estrellas"},{value:"5 estrellas",label:"5 estrellas"}],k=[{id:1,label:"HAB. SIMPLE"},{id:2,label:"HAB. SIMPLE (AC)"},{id:3,label:"HAB. MATRIMONIAL"},{id:4,label:"HAB. MATRIMONIAL (AC)"},{id:5,label:"HAB. DOBLE"},{id:6,label:"HAB. DOBLE (AC)"},{id:7,label:"HAB. TRIPLE"},{id:8,label:"HAB. TRIPLE (AC)"},{id:9,label:"HAB. GRUPAL"},{id:10,label:"HAB. GRUPAL (AC)"}],e=u({id:"",tourismcitie_id:null,document:"",tradename:"",rucNumber:"",fullname:"",category:"",cellphone:"",telephone:"",email:"",address:"",hotelprices:[{typebedroom_id:null,price_sale:"",price_corporate:"",description:""}]}),v=u([]),T=u(""),P=u(!1),R=u(null),z=s=>{const r=s.target.value,a=k.find(x=>x.label===r);a?(T.value=a.label,R.value=a.id,console.log("Valor seleccionado:",T.value),console.log("ID seleccionado:",R.value),P.value=!0,i.value=!1):(T.value="",R.value=null,P.value=!1)},W=()=>{const s={key:v.value.length+1,roomType:T.value,typebedroom_id:R.value,price_sale:"",price_corporate:"",description:T.value};v.value.push(s),(v.value.length>0||e.value.hotelprices.length===0)&&(e.value.hotelprices=v.value),P.value=v.value.length>0,T.value="",R.value=null,console.log("Hotel prices:",e.value.hotelprices)},b=s=>{v.value.splice(s,1)},d=u(!1);u("");const n=()=>{d.value=e.value.inputValue.length!==11};return se({initialValues:{links:["https://github.com/logaretm"]}}),Y(()=>m.value,(s,r)=>{e.value.tourismcitie_id=m.value,console.log(e.value.tourismcitie_id)}),Y(()=>S.hotelData,s=>{if(s){if(m.value=s.tourismcitie_id,e.value.document=s.document,e.value.tradename=s.tradename,e.value.rucNumber=s.rucNumber,e.value.fullname=s.fullname,e.value.category=s.category,e.value.cellphone=s.cellphone,e.value.telephone=s.telephone,e.value.email=s.email,e.value.address=s.address,e.value.id=s.id,s.hotel_prices&&s.hotel_prices.length>0){const r=s.hotel_prices.map(a=>({typebedroom_id:a.typebedroom_id,price_sale:a.price_sale,price_corporate:a.price_corporate,description:k.find(x=>x.id===a.typebedroom_id).label}));e.value.hotelprices=r,v.value=r.map((a,x)=>({key:x+1,roomType:a.description,typebedroom_id:a.typebedroom_id,price_sale:a.price_sale,price_corporate:a.price_corporate,description:a.description})),P.value=!0}else P.value=!1;console.log(e.value.id)}}),(s,r)=>(c(),p("div",null,[t(o(ne),{activeModal:S.activeModal,onClose:y,title:"Actualizar Registro Hotel",sizeClass:"max-w-5xl",centered:""},{default:C(()=>[l("form",{onSubmit:B(A,["prevent"]),class:"space-y-4"},[l("div",Ge,[t(o(Q),{label:"Ciudad turística"},{default:C(()=>[t(o(G),{options:w,ref:"citySelect",modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=a=>m.value=a),placeholder:"Seleccione ciudad",class:"city-select"},null,8,["modelValue"]),m.value?_("",!0):(c(),p("span",ze,"Este campo es obligatorio."))]),_:1}),l("div",null,[t(o(f),{label:"Nombre del hotel",required:"",type:"text",placeholder:"Nombre del hotel",modelValue:e.value.tradename,"onUpdate:modelValue":r[1]||(r[1]=a=>e.value.tradename=a),modelModifiers:{trim:!0}},null,8,["modelValue"]),e.value.tradename?_("",!0):(c(),p("span",qe,"Este campo es obligatorio."))]),l("div",null,[t(o(Q),{label:"N° RUC"},{default:C(()=>[t(o(le),{type:"text",placeholder:"RUC",modelValue:e.value.document,"onUpdate:modelValue":r[2]||(r[2]=a=>e.value.document=a),onInput:n},{append:C(()=>[t(o(M),{text:"SUNAT",btnClass:"btn-outline-dark ",onClick:B(N,["prevent"])})]),_:1},8,["modelValue"])]),_:1}),d.value?(c(),p("span",Fe,"* Debe tener 11 dígitos")):_("",!0)])]),l("div",Ye,[t(o(f),{label:"Razón social",type:"text",placeholder:"Razón social",modelValue:e.value.fullname,"onUpdate:modelValue":r[3]||(r[3]=a=>e.value.fullname=a),modelModifiers:{trim:!0}},null,8,["modelValue"]),t(o(G),{label:"Categoría",options:E,modelValue:e.value.category,"onUpdate:modelValue":r[4]||(r[4]=a=>e.value.category=a),class:"category-select"},null,8,["modelValue"])]),l("div",Je,[l("div",null,[t(o(f),{label:"Celular",type:"text",placeholder:"Celular",modelValue:e.value.cellphone,"onUpdate:modelValue":r[5]||(r[5]=a=>e.value.cellphone=a),modelModifiers:{trim:!0}},null,8,["modelValue"]),e.value.cellphone?_("",!0):(c(),p("span",Ke,"Este campo es obligatorio."))]),t(o(f),{label:"Teléfono fijo",type:"text",placeholder:"Teléfono fijo",modelValue:e.value.telephone,"onUpdate:modelValue":r[6]||(r[6]=a=>e.value.telephone=a),modelModifiers:{trim:!0}},null,8,["modelValue"])]),l("div",Qe,[t(o(f),{label:"Correo electrónico",type:"email",placeholder:"Correo electrónico",modelValue:e.value.email,"onUpdate:modelValue":r[7]||(r[7]=a=>e.value.email=a),modelModifiers:{trim:!0}},null,8,["modelValue"]),t(o(f),{label:"Dirección",placeholder:"Dirección",modelValue:e.value.address,"onUpdate:modelValue":r[8]||(r[8]=a=>e.value.address=a),modelModifiers:{trim:!0}},null,8,["modelValue"])]),l("div",We,[t(o(ee),{bodyClass:"p-0 mt-7"},{default:C(()=>[l("header",Xe,[Ze,l("div",el,[l("div",ll,[t(o(G),{options:k,placeholder:"Seleccionar Tipo",class:"w-full",onChange:z})]),t(o(M),{icon:"heroicons-outline:plus",btnClass:"btn-outline-dark h-[45px] w-[45px]",onClick:B(W,["prevent"])})])]),l("div",tl,[l("form",{onSubmit:r[9]||(r[9]=B((...a)=>s.onSubmit&&s.onSubmit(...a),["prevent"])),novalidate:""},[P.value?(c(!0),p(J,{key:0},K(v.value,(a,x)=>(c(),p("div",{key:a.key,class:"lg:grid-cols-3 md:grid-cols-2 grid-cols-1 grid gap-5 mb-5 last:mb-0"},[t(o(f),{modelValue:a.roomType,"onUpdate:modelValue":U=>a.roomType=U,class:"room-type-input",label:"Habitación",type:"text",placeholder:"Tipo de Habitación"},null,8,["modelValue","onUpdate:modelValue"]),t(o(f),{modelValue:a.price_sale,"onUpdate:modelValue":U=>a.price_sale=U,label:"Precio Normal",type:"text",name:`name[${x}]`,placeholder:"S/",class:"priceSaleInput"},null,8,["modelValue","onUpdate:modelValue","name"]),l("div",ol,[t(o(f),{modelValue:a.price_corporate,"onUpdate:modelValue":U=>a.price_corporate=U,label:"Precio Corporativo",type:"text",name:`name[${x}]`,placeholder:"S/",class:"priceCorporateInput"},null,8,["modelValue","onUpdate:modelValue","name"]),l("div",al,[l("button",{type:"button",class:"inline-flex items-center justify-center h-10 w-10 bg-danger-500 text-lg border rounded border-danger-500 text-white",onClick:U=>b(x)},[t(o(X),{icon:"heroicons-outline:trash"})],8,sl)])])]))),128)):_("",!0)],32)])]),_:1})]),l("div",nl,[l("div",rl,[t(o(M),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:B(L,["prevent"])}),t(o(M),{text:"Guardar",btnClass:"btn-dark",onCick:A})])])],32)]),_:1},8,["activeModal"])]))}},oe=Z().headers(),il={components:{Button:M,InputGroup:le,Pagination:ge,Dropdown:ve,Icon:X,MenuItem:fe,EditProject:re,Card:ee,ProgressBar:he},data(){return{searchTerm:"",hotelData:{},showEditModal:!1,advancedTable:be,current:1,perpage:10,pageRange:10,actions:[{name:"edit",icon:"heroicons:pencil-square",doit:V=>{console.log(V),this.hotelData=V,this.showEditModal=!0}},{name:"delete",icon:"heroicons-outline:trash",doit:async V=>{try{await D.delete(`https://thtbackend-production.up.railway.app/api/v1/hotels/delete/${V.id}`,oe),F().success("Hotel eliminado correctamente",{timeout:1500}),this.listarHoteles()}catch(h){console.error("Error al eliminar empleado:",h)}}}],columns:[{label:"Nombre Hotel",field:"tradename"},{label:"Ciudad",field:"citie_turistic.description"},{label:"Celular",field:"cellphone"},{label:"Teléfono",field:"telephone"},{label:"Action",field:"action"}],projects:[]}},methods:{async reloadCrmTable(){try{await this.listarHoteles()}catch(V){console.error("Error al recargar la tabla de hoteles:",V)}},async listarHoteles(){try{const V=await D.get("https://thtbackend-production.up.railway.app/api/v1/hotels/list",oe);this.projects=V.data.data,F().success("Hoteles listados correctamente",{timeout:1500}),console.log(this.projects)}catch(V){console.error("Error al obtener los datos de los empleados:",V)}}},mounted(){this.listarHoteles()}},cl={class:"md:flex justify-between pb-6 md:space-y-0 space-y-3 items-center"},dl=l("h5",null,"Todos los Hoteles",-1),ul={class:"flex items-center space-x-3"},pl={key:0},ml={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},vl={class:"flex-none"},gl={class:"h-10 w-10 rounded-full text-sm bg-[#E0EAFF] dark:bg-slate-700 flex flex-col items-center justify-center font-medium -tracking-[1px]"},hl={class:"flex-1 font-medium text-sm leading-4 whitespace-nowrap"},bl={key:1,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},_l={key:2,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},fl={key:3,class:"block w-full"},yl={class:"flex justify-end sm:justify-start lg:justify-end xl:justify-start -space-x-1 rtl:space-x-reverse"},xl=["src","alt"],Cl=l("div",{class:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-300 text-xs ring-2 ring-slate-100 dark:ring-slate-700 rounded-full h-6 w-6 flex flex-col justify-center items-center"}," +2 ",-1),Vl={key:4,class:"min-w-[220px] block"},kl={class:"flex justify-between text-xs text-slate-500 dark:text-slate-400 mb-1 font-medium mt-3"},wl=l("span",{class:"font-normal"},"12/15 Task Completed",-1),Al={key:5,class:"action-btn text-end mr-3"},Tl={class:"text-xl"},Sl=["onClick"],$l={class:"text-base"},El={class:"py-4 px-3"};function Ml(V,h,m,j,g,S){const I=H("Button"),y=H("InputGroup"),w=H("ProgressBar"),$=H("Icon"),A=H("MenuItem"),L=H("Dropdown"),N=H("Pagination"),i=H("vue-good-table"),E=H("EditProject"),k=H("Card");return c(),p("div",null,[t(k,{noborder:""},{default:C(()=>[l("div",cl,[dl,l("div",ul,[t(I,{icon:"heroicons-outline:arrows-up-down",btnClass:"btn-outline-secondary text-slate-600 dark:border-slate-700 dark:text-slate-300 font-normal btn-sm",iconClass:"text-lg",onClick:S.reloadCrmTable},null,8,["onClick"]),t(y,{modelValue:g.searchTerm,"onUpdate:modelValue":h[0]||(h[0]=e=>g.searchTerm=e),placeholder:"Buscar Hotel",type:"text",prependIcon:"heroicons-outline:search",merged:""},null,8,["modelValue"])])]),t(i,{class:"-mx-6",columns:g.columns,styleClass:" vgt-table  table-head   v-middle striped  listview",rows:this.projects,"pagination-options":{enabled:!0,perPage:g.perpage},"search-options":{enabled:!0,externalQuery:g.searchTerm},"sort-options":{enabled:!1}},{"table-row":C(e=>[e.column.field=="name"?(c(),p("span",pl,[l("div",ml,[l("div",vl,[l("div",gl,O(e.row.name.charAt(0)+e.row.name.charAt(e.row.name.length-1)),1)]),l("div",hl,O(e.row.name.length>20?e.row.name.substring(0,20)+"...":e.row.name),1)])])):_("",!0),e.column.field=="startDate"?(c(),p("span",bl,O(e.row.startDate),1)):_("",!0),e.column.field=="endDate"?(c(),p("span",_l,O(e.row.endDate),1)):_("",!0),e.column.field=="assignto"?(c(),p("span",fl,[l("div",yl,[(c(!0),p(J,null,K(e.row.assignto,(v,T)=>(c(),p("div",{class:"h-6 w-6 rounded-full ring-1 ring-slate-100",key:T},[l("img",{src:v.image,alt:v.title,class:"w-full h-full rounded-full"},null,8,xl)]))),128)),Cl])])):_("",!0),e.column.field=="progress"?(c(),p("span",Vl,[t(w,{value:e.row.progress,barColor:"bg-primary-500"},null,8,["value"]),l("span",kl,[wl,ce(" "+O(e.row.progress)+"% ",1)])])):_("",!0),e.column.field=="action"?(c(),p("div",Al,[t(L,{classMenuItems:" w-[140px]"},{menus:C(()=>[(c(!0),p(J,null,K(g.actions,(v,T)=>(c(),q(A,{key:T},{default:C(()=>[l("div",{onClick:P=>v.doit(e.row),class:ae(`
                
                  ${v.name==="delete"?"bg-danger-500 text-danger-500 bg-opacity-30  hover:bg-opacity-100 hover:text-white":"hover:bg-slate-900 hover:text-white"}
                   w-full border-b border-b-gray-500 border-opacity-10 px-4 py-2 text-sm  last:mb-0 cursor-pointer first:rounded-t last:rounded-b flex  space-x-2 items-center `)},[l("span",$l,[t($,{icon:v.icon},null,8,["icon"])]),l("span",null,O(v.name),1)],10,Sl)]),_:2},1024))),128))]),default:C(()=>[l("div",Tl,[t($,{icon:"heroicons-outline:dots-vertical"})])]),_:2},1024)])):_("",!0)]),"pagination-bottom":C(e=>[l("div",El,[t(N,{total:g.projects.length,current:g.current,"per-page":g.perpage,pageRange:g.pageRange,onPageChanged:h[1]||(h[1]=v=>g.current=v),pageChanged:e.pageChanged,perPageChanged:e.perPageChanged,enableSearch:"",enableSelect:""},null,8,["total","current","per-page","pageRange","pageChanged","perPageChanged"])])]),_:1},8,["columns","rows","pagination-options","search-options"]),t(E,{activeModal:g.showEditModal,onClose:h[2]||(h[2]=e=>g.showEditModal=!1),hotelData:g.hotelData,title:"Actualizar Datos Empleado",onUpdateHotelList:S.listarHoteles},null,8,["activeModal","hotelData","onUpdateHotelList"])]),_:1})])}const Ul=_e(il,[["render",Ml]]),Hl={class:"flex flex-wrap justify-between items-center mb-4"},ht={__name:"typography",setup(V){const h=te();let m=u("list");const j=()=>{h.openProject()},g=u(0),S=()=>{g.value=window.innerWidth};de(()=>{window.addEventListener("resize",S),S()});const I=ue(()=>h.projects),y=u(!0),w=u(!1);return setTimeout(()=>{y.value=!1},1e3),Y(m,($,A)=>{$!==A&&($==="list"?(y.value=!0,w.value=!1):(y.value=!1,w.value=!0),setTimeout(()=>{y.value=!1,w.value=!1},1e3))}),($,A)=>(c(),p("div",null,[l("div",Hl,[l("div",{class:ae(["md:flex md:space-x-4 md:justify-end items-center rtl:space-x-reverse",g.value<768?"space-x-rb":""])},[t(o(M),{icon:"heroicons:list-bullet",text:"Vista de lista",btnClass:`${o(m)==="list"?"bg-slate-900 dark:bg-slate-700  text-white":" bg-white dark:bg-slate-800 dark:text-slate-300"}   h-min text-sm font-normal`,iconClass:" text-lg",onClick:A[0]||(A[0]=L=>pe(m)?m.value="list":m="list"),isLoading:y.value,isDisabled:y.value},null,8,["btnClass","isLoading","isDisabled"]),t(o(M),{icon:"heroicons-outline:plus",text:"Agregar Hotel",btnClass:"btn-dark dark:bg-slate-800  h-min text-sm font-normal",iconClass:" text-lg",onClick:j,isLoading:o(h).isLoading},null,8,["isLoading"])],2)]),y.value?(c(),q(o(ie),{key:0,count:I.value.length},null,8,["count"])):_("",!0),o(m)==="grid"&&!w.value?(c(),q(o(ye),{key:1})):_("",!0),o(m)==="list"&&!y.value?(c(),q(o(Ul),{key:2})):_("",!0),t(o(De)),t(o(re))]))}};export{ht as default};
