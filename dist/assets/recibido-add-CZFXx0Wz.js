import{B as N}from"./index-DCMPjbua.js";import{C as F}from"./index-Hsd0Z0_R.js";import{F as z}from"./index-I9bOp0dW.js";import{I as U}from"./index-BcFOD9Ey.js";import{u as B,J as f,b as k,d,f as s,e as i,h as g,c as u,o as c,L as D,i as T,t as h,p as m,w as O,z as G,A as q}from"./index-BLl1OigC.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{T as J}from"./index-BTHsGrD3.js";import{C as X}from"./index-lgafHr2M.js";import{I as K}from"./index-DCC49QXr.js";import{S as Q}from"./index-DPFbVGd7.js";import{_ as W,C as Y,A as Z,E as $}from"./ModalAddReserve-Skdiss-h.js";import{D as ee}from"./index-DFq5MbAK.js";import{P as oe}from"./index-C66Q9vME.js";import{u as te}from"./project-DZP6XSnf.js";import{V as le}from"./VueSelect-DI5dOEtm.js";import{M as se}from"./index-MSlXG-Ka.js";import{a as ie}from"./basic-tablle-data-AN7MRnVF.js";import{w as R}from"./widget-bg-2-DZ1m5zGG.js";import{b as ne}from"./menu-CM83wd2-.js";import"./vue-cleave.min-DAvglPmz.js";import"./index-B_wjOnuw.js";/* empty css                                              */import"./TotalTable-Da2l-zhh.js";import"./index-CwPxZwdQ.js";import"./av-2-D6_jNZbn.js";import"./v4-D8aEg3BZ.js";import"./VueSelect.vue_vue_type_style_index_0_lang-B1s-zvio.js";import"./transition-CNElC_4N.js";import"./focus-management-Dc3XsveG.js";import"./keyboard-9WePWYgZ.js";import"./use-outside-click-CPWvQZIF.js";import"./hidden-BR_kr5_G.js";import"./micro-task-CxIZtCgj.js";import"./open-closed-0CPOhxDd.js";import"./user-1-Dmhlt7-s.js";import"./user-4-_9lLfOE2.js";import"./user-6-Bk4CTUVR.js";import"./use-resolve-button-type-BwPomRAb.js";const _=B().headers(),ae={components:{Dropdown:ee,Select:Q,Button:N,widgetBg2:R,FromGroup:z,EditProject:W,ComisionarModal:Y,AmortizarModal:Z,EditProject2:$,Textinput:J,Modal:se,Checkbox:X,InputGroup:K,Icon:U,VueSelect:le,MenuItem:ne,Card:F,ProgressBar:oe},data(){return{idRecibied:null,advancedTable:ie,idsReservesHotels:[],commissionIds:[],moneyIds:[],searchTerm:"",fullNameAgency:null,widgetBg2:R,showEditModal:!1,showReserveModal:!1,selectedTour:null,store:null,formattedTotal:"S/.0.00",formattedTotalHotel:"S/.0.00",totalHotelValue:"0.00",reservasHotel:[],projects:[],filteredRows:[],includeBreakfast:!1,book:{is_breakfast:!1,nro_breakfast:"",start_breakfast:"",end_breakfast:""},originsbooking:[],originsReserve:[{value:1,label:"Sin Asignar"},{value:2,label:"Aeropuerto"},{value:3,label:"Terminar Terrestre"},{value:4,label:"Otros"}],toursOptions:[],customerOptions:[],showReferences:!1,nro_pax_childs:"",nro_pax_adults:"",nro_pax_olds:"",current:1,basicTableData:[{codigo:"HRS2024-000231",nombreHotel:"HOTEL POSADA LODGE (TARAPOTO)",detallehotel:"HAB. TRIPLE (AC) (2 hab. x 6 noches)",contacto:"Cel: 963122673"}],client:{document:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:"",date_birthday:""},tour:{esAbierto:null,tourDescription:null,vehiculo:null,turno:null,nPasajseros:null,fechaTour:null,observacion:null,realizado:null,totalTour:"0.00"},booking:{clients:null,agency_id:null,phoneNumber:null,originReserve:null,numPassengers:null,referenciar:!1,numChildren:null,numAdults:null,numSeniors:null,dateTimeArrival:null,dateArrival:null,timeArrival:null,arrivalBy:null,placeArrivalReference:null,voucherReference:null,emergencyContact:null,emergencyPhone:null,observations:null,isFavorite:!1,includeBreakfast:!1,numBreakfasts:null,startDate:null,endDate:null,total:null},perpage:3,idCliente:null,show:!1,showEdit:!1,showAmortizar:!1,showComisionar:!1,show2:!1,realizado:"--",pageRange:10,actions:[{name:"edit",icon:"heroicons:pencil-square",doit:o=>{this.openModalEdit(o)}},{name:"delete",icon:"heroicons-outline:trash",doit:o=>{this.removeProject(o)}}],vehiculos:[{value:1,label:"Compartido"},{value:2,label:"Privado"}],turnos:[{value:1,label:"Full Day"},{value:2,label:"Mañana"},{value:3,label:"Tarde"},{value:4,label:"Noche"}],columns:[{label:"¿Es Abierto?",field:"abierto"},{label:"Tours Turístico",field:"tour"},{label:"Vehículo",field:"vehiculo"},{label:"Turno",field:"turno"},{label:"N° pax",field:"pasajero"},{label:"Fecha",field:"fecha"},{label:"Observación",field:"observation"},{label:"Realizado",field:"realizado"},{label:"Action",field:"action"}],columnsReservaHotelExpense:[{label:"Habitacion",field:"habitacion"},{label:"N° PAX	",field:"pasajeross"},{label:"Cant. HAB",field:"cantidad"},{label:"Check-In",field:"checkin"},{label:"Check-out",field:"checkout"},{label:"#Noches",field:"noches"},{label:"Precio",field:"precio"},{label:"Descuento",field:"descuento"},{label:"Adicional",field:"adicional"},{label:"Observación",field:"observacion"},{label:"Subtotal",field:"subtotal"},{label:"",field:"action"}],selectedTourDescription:"",tourOptions:[],totalBooking:null,bedroomOptions:[],rows:[{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"}],columnsReservasAlojamiento:[{label:"Código",field:"code",type:"text",html:!0,width:"100px"},{label:"Nombre del Hotel",field:"nombreHotel",type:"text",html:!0,width:"150px"},{label:"Detalle del Hotel",field:"detallehotel",type:"text",html:!0,width:"250px"},{label:"Acciones",field:"action",type:"text",html:!0,width:"120px"}]}},watch:{selectedTour(o,e){o!==e&&(this.projects.find(p=>p.id===o)?k().warning("¡Este tour ya está seleccionado!"):f.get(`https://thtbackend-production.up.railway.app/api/v1/tours/description/${o}`,_).then(p=>{const t={id:o,description:p.data.data,esAbierto:null,vehiculo:null,turno:null,nPasajseros:null,fechaTour:null,observacion:null,realizado:null,totalTour:null};this.projects.push(t),console.log(this.projects)}).catch(p=>{console.error("Error al obtener la descripción del tour:",p)}))},"booking.clients":function(o,e){this.idCliente=o,console.log(this.idCliente),f.get(`https://thtbackend-production.up.railway.app/api/v1/clients/cellphone&telephone/${o}`,_).then(n=>{console.log(n),this.booking.phoneNumber=n.data.contact_numbers}).catch(n=>{console.error("Error al obtener la descripción del tour:",n)})},"booking.dateTimeArrival"(o){if(o){const[e,n]=o.split(" ");this.booking.dateArrival=e,this.booking.timeArrival=n,console.log(this.booking.dateArrival),console.log(this.booking.timeArrival)}else this.booking.dateArrival=null,this.booking.timeArrival=null},"tour.totalTour":function(o){const e=parseFloat(o);(!isNaN(e)||o==="")&&(this.formattedTotal="S/."+(o===""?"0.00":e.toFixed(2)))},totalHotelValue(o){const e=parseFloat(o);(!isNaN(e)||o==="")&&(this.formattedTotalHotel="S/."+(o===""?"0.00":e.toFixed(2)))}},async created(){await this.fetchClients()},computed:{totalReserva(){const o=isNaN(parseFloat(this.formattedTotal.substring(3)))?0:parseFloat(this.formattedTotal.substring(3)),e=isNaN(parseFloat(this.formattedTotalHotel.substring(3)))?0:parseFloat(this.formattedTotalHotel.substring(3)),n=o+e,p=n.toFixed(2);return this.booking.total=p,console.log(this.booking.total),"S/."+n.toFixed(2)},limitedCustomerOptions(){return this.customerOptions.slice(0,6)}},methods:{capturarDatos(){console.log(this.projects)},fetchAgencies(){f.get("https://thtbackend-production.up.railway.app/api/v1/agencies/list",_).then(o=>{this.originsbooking=o.data.data.map(e=>({value:e.id,label:e.fullname})),console.log(o)}).catch(o=>{console.error("Error al obtener las agencias:",o)})},handleCommissionProcessed(o){const n=[o.data.data.id];this.commissionIds=n,console.log("ID de la comisión:",this.commissionIds)},handleFormSubmitted(o){const n=[o.data.id];this.moneyIds=n,console.log("ID del ingreso amortización:",this.moneyIds)},deleteProject(o){this.projects.splice(o,1),console.log(this.projects)},deleteItem(o,e){window.confirm("¿Estás seguro de que deseas eliminar este elemento?")?f.delete(`https://thtbackend-production.up.railway.app/api/v1/hotelsbookings/destroy/${o}`,_).then(n=>{console.log("El elemento con ID:",o,"se ha eliminado correctamente en el backend"),this.reservasHotel.splice(e,1),k().success("Elemento eliminado con éxito",{position:"top-right"})}).catch(n=>{console.error("Error al eliminar el elemento:",n),k().error("Error al eliminar el elemento",{position:"top-right"})}):console.log("El usuario ha cancelado la eliminación del elemento con ID:",o)},handlePostComplete(o){const e=o.data;Array.isArray(e)?e.forEach(t=>{this.reservasHotel.push(t)}):this.reservasHotel.push(e);const n=this.reservasHotel.map(t=>parseFloat(t.total)),p=this.reservasHotel.map(t=>t.id);this.totalHotelValue=n.reduce((t,r)=>t+r,0),this.idsReservesHotels=p,console.log(this.idsReservesHotels)},handleAction(o){o.name==="edit"&&this.openModalEdit()},saveReserva(){const o={bookingorigin_id:this.booking.originReserve,client_id:this.booking.clients,agency_id:this.idRecibied,arrivalplace_id:this.booking.arrivalBy,arrival_place:this.booking.placeArrivalReference,date_arrival:this.booking.dateArrival,time_arrival:this.booking.timeArrival,nro_pax:this.booking.numPassengers,is_reference_pax:this.booking.referenciar,nro_pax_childs:this.booking.numChildren,nro_pax_adults:this.booking.numAdults,nro_pax_olds:this.booking.numSeniors,reference_voucher:this.booking.voucherReference,observations:this.booking.observations,contact_emergency:this.booking.emergencyContact,telephone_emergency:this.booking.emergencyPhone,subtotal_tour:this.tour.totalTour,subtotal_hotel:this.totalHotelValue,total:this.booking.total,is_favorite:this.booking.isFavorite,is_breakfast:this.booking.includeBreakfast,nro_breakfast:this.booking.numBreakfasts,start_breakfast:this.booking.startDate,end_breakfast:this.booking.endDate,tours:this.projects.map(e=>({id:e.id,vehicle_tour:e.vehiculo,shift_tour:e.turno,quantity:e.nPasajseros,date_assigned:e.date_assigned,observation:e.observacion,is_open:e.esAbierto})),hotelsbooking_ids:this.idsReservesHotels,commission_ids:this.commissionIds,money_ids:this.moneyIds};console.log(o),f.post("https://thtbackend-production.up.railway.app/api/v1/bookings/create-recivied",o,{..._}).then(e=>{const n=k();console.log(e.data),n.success(e.data.message,{duration:3e3})}).catch(e=>{k().error("Error al enviar los datos al backend",{duration:3e3})})},toggleReferences(){this.showReferences=!this.showReferences},openModal(){this.showEditModal=!0},openModalEdit(){this.showEdit=!this.showEdit},openModalComisionar(){this.showComisionar=!0},openModalAmortizar(){this.idCliente=this.idCliente,this.totalBooking=this.booking.total,this.showAmortizar=!0,console.log(this.idCliente)},handleComisionEnviada(o){console.log("Datos de la comisión recibidos en el componente padre:",o)},openModalReservaHotel(){this.showReserveModal=!0},async fetchClients(){console.log("Fetching clients...");try{const o=await f.get("https://thtbackend-production.up.railway.app/api/v1/clients/list",_);this.customerOptions=o.data.data.map(e=>({value:e.id,label:e.fullname}))}catch(o){console.error("Error fetching departments:",o)}},async fetchHotelsBooking(){console.log("Fetching HotelsBooking...");try{const o=await f.get("https://thtbackend-production.up.railway.app/api/v1/clients/list",_);this.customerOptions=o.data.data.map(e=>({value:e.id,label:e.fullname}))}catch(o){console.error("Error fetching departments:",o)}},async fetchTours(){console.log("Fetching tours...");try{const o=await f.get("https://thtbackend-production.up.railway.app/api/v1/tours/list",_);console.log(o),this.tourOptions=o.data.data.map(e=>({value:e.id,label:e.description})),console.log(this.projects)}catch(o){console.error("Error fetching tours:",o)}}},created(){this.store=te();const o=this.$route.params.id,e=this.$route.params.fullname;this.idRecibied=o,this.fullNameAgency=e,console.log("ID:",this.idRecibied),console.log("Fullname:",e)},mounted(){this.fetchClients(),this.fetchTours(),this.fetchAgencies()}},b=o=>(G("data-v-b7eda183"),o=o(),q(),o),re={class:"flex justify-end space-x-4 mb-3"},de={class:"text-lg"},ce=b(()=>s("span",null,"Comisionar",-1)),ue={class:"text-lg"},me=b(()=>s("span",null,"Amortizar(Total)",-1)),pe={class:"grid grid-cols-1 lg:grid-cols-1 gap-5"},he={class:"grid grid-cols-2 gap-5"},be={class:"my-custom-design"},ge={class:"grid grid-cols-1 lg:grid-cols-1 gap-4"},fe={class:"lg:col-span-1"},_e={class:"flex flex-col justify-center items-center h-full"},ve={class:"text-2xl font-medium text-white mb-2 text-center"},xe={class:"block"},ke={class:"flex items-center"},ye={class:"grid grid-cols-3 gap-5"},Ce={key:0},we={class:"flex items-center"},Ae={class:"grid grid-cols-1"},Ve={class:"flex flex-col"},Te={class:"border-b border-slate-100 dark:border-slate-700 pb-3 flex justify-between items-center"},je=b(()=>s("div",{class:"flex items-center"},[s("h6",{class:"card-title mb-0"},"Datos de Tours turístico")],-1)),Re={class:"flex items-center"},Pe={class:"flex-grow mr-2"},He={key:0},Ie={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Me={key:1,class:"text-slate-500 dark:text-slate-400 block min-w-[208px]"},Ee={key:2,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},Se={key:3,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},Ne={key:4,class:"block w-full"},Fe={key:5},ze={key:6},Ue={key:7},Be={key:8,class:"action-btn text-end mr-3"},De=["onClick"],Oe={class:"mt-5 self-end"},Ge={class:"grid grid-cols-1"},qe={class:"flex flex-col"},Le={class:"md:flex pb-6 items-center"},Je=b(()=>s("h6",{class:"flex-1 md:mb-0 mb-3"},"Reservas de Alojamiento",-1)),Xe={class:"md:flex md:space-x-3 items-center flex-none rtl:space-x-reverse"},Ke={key:0,class:"text-blue-900 font-bold"},Qe={key:1,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},We={class:"font-bold"},Ye=b(()=>s("br",null,null,-1)),Ze={key:2,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},$e={key:3,class:"action-btn text-end mr-3"},eo={class:"text-xl"},oo={class:"mt-5 self-end"},to={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},lo=b(()=>s("div",{class:"lg:col-span-1"},null,-1)),so={class:"lg:col-span-3 flex justify-end"},io={class:"flex justify-center"},no={class:"flex justify-center"},ao={class:"w-full"},ro=b(()=>s("th",null,"Total tours",-1)),co=b(()=>s("th",null,"Total hotel",-1)),uo=b(()=>s("tr",null,[s("td",{colspan:"2"},[s("hr",{class:"book__summary__hrdivider"})])],-1)),mo=b(()=>s("th",{class:"text-primary bold text-uppercase f-s-15"},"Total reserva",-1)),po={class:"text-primary bold f-s-15"};function ho(o,e,n,p,t,r){const y=u("Icon"),C=u("Select"),A=u("FromGroup"),v=u("Textinput"),x=u("InputGroup"),w=u("Card"),P=u("Checkbox"),H=u("flat-pickr"),j=u("vue-good-table"),V=u("Button"),I=u("EditProject"),M=u("EditProject2"),E=u("ComisionarModal"),S=u("AmortizarModal");return c(),d("div",null,[s("div",re,[s("button",{class:"invoice-btn inline-flex btn btn-sm whitespace-nowrap space-x-1 cursor-pointer bg-white dark:bg-slate-800 dark:text-slate-300 btn-md h-min text-sm font-normal text-slate-900 rtl:space-x-reverse",onClick:e[0]||(e[0]=l=>r.openModalComisionar())},[s("span",de,[i(y,{icon:"heroicons-solid:cash"})]),ce]),s("button",{class:"invoice-btn inline-flex btn btn-sm whitespace-nowrap space-x-1 cursor-pointer bg-white dark:bg-slate-800 dark:text-slate-300 btn-md h-min text-sm font-normal text-slate-900 rtl:space-x-reverse",onClick:e[1]||(e[1]=l=>r.openModalAmortizar())},[s("span",ue,[i(y,{icon:"heroicons-solid:banknotes"})]),me])]),i(w,{title:"Recibir Reserva - Datos Generales"},{default:g(()=>[s("div",pe,[s("div",he,[s("div",be,[s("div",ge,[s("div",fe,[s("div",{class:"bg-no-repeat bg-cover bg-center p-5 rounded-[6px] relative",style:D({backgroundImage:"url("+t.widgetBg2+")",height:"100px"})},[s("div",_e,[s("div",null,[s("h4",ve,[s("span",xe,[T("Agencia: "),s("strong",null,h(t.fullNameAgency),1)])])])])],4)])])]),s("div",ke,[i(A,{label:"Clientes",class:"flex-1"},{default:g(()=>[i(C,{options:r.limitedCustomerOptions,modelValue:t.booking.clients,"onUpdate:modelValue":e[2]||(e[2]=l=>t.booking.clients=l),class:"client-select"},null,8,["options","modelValue"])]),_:1}),s("button",{onClick:e[3]||(e[3]=(...l)=>r.openModal&&r.openModal(...l)),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])]),s("div",ye,[s("div",null,[i(v,{label:"Tel. emergencia",type:"text",placeholder:"Tel. emergencia",modelValue:t.booking.emergencyPhone,"onUpdate:modelValue":e[4]||(e[4]=l=>t.booking.emergencyPhone=l)},null,8,["modelValue"])]),t.booking.referenciar?(c(),d("div",Ce,[i(A,{label:"Referencia de pasajeros:",class:"flex-1"},{default:g(()=>[s("div",we,[i(x,{name:"nro_pax_childs",type:"text",placeholder:"N° niños",modelValue:t.booking.numChildren,"onUpdate:modelValue":e[5]||(e[5]=l=>t.booking.numChildren=l),prepend:"#Niños"},null,8,["modelValue"]),i(x,{name:"nro_pax_adults",type:"text",placeholder:"N° adultos",modelValue:t.booking.numAdults,"onUpdate:modelValue":e[6]||(e[6]=l=>t.booking.numAdults=l),prepend:"#Adultos"},null,8,["modelValue"]),i(x,{name:"nro_pax_olds",type:"text",placeholder:"N° ancianos",modelValue:t.booking.numSeniors,"onUpdate:modelValue":e[7]||(e[7]=l=>t.booking.numSeniors=l),prepend:"#Ancianos"},null,8,["modelValue"])])]),_:1})])):m("",!0),i(v,{label:"N° Pax",type:"text",placeholder:"N° pax",modelValue:t.booking.numPassengers,"onUpdate:modelValue":e[8]||(e[8]=l=>t.booking.numPassengers=l)},null,8,["modelValue"]),i(A,{label:"Observaciones"},{default:g(()=>[i(v,{type:"text",placeholder:"Observaciones",modelValue:t.booking.observations,"onUpdate:modelValue":e[9]||(e[9]=l=>t.booking.observations=l)},null,8,["modelValue"])]),_:1})])])]),_:1}),i(w,{class:"mt-4",noborder:""},{default:g(()=>[s("div",Ae,[s("div",Ve,[s("header",Te,[je,s("div",Re,[s("div",Pe,[i(C,{options:t.tourOptions,modelValue:t.selectedTour,"onUpdate:modelValue":e[10]||(e[10]=l=>t.selectedTour=l),placeholder:"Seleccionar Tipo",class:"w-full"},null,8,["options","modelValue"])])])]),i(j,{class:"-mx-6 mb-5",columns:t.columns,styleClass:" vgt-table  table-head   v-middle striped lesspadding2 listview",rows:t.projects,"pagination-options":{enabled:!1,perPage:t.perpage},"sort-options":{enabled:!1}},{"table-row":g(l=>[l.column.field=="abierto"?(c(),d("span",He,[s("div",Ie,[i(P,{modelValue:t.projects[l.index].esAbierto,"onUpdate:modelValue":a=>t.projects[l.index].esAbierto=a},null,8,["modelValue","onUpdate:modelValue"])])])):m("",!0),l.column.field=="tour"?(c(),d("span",Me,h(l.row.description),1)):m("",!0),l.column.field=="vehiculo"?(c(),d("span",Ee,[i(C,{options:t.vehiculos,modelValue:t.projects[l.index].vehiculo,"onUpdate:modelValue":a=>t.projects[l.index].vehiculo=a},null,8,["options","modelValue","onUpdate:modelValue"])])):m("",!0),l.column.field=="turno"?(c(),d("span",Se,[i(C,{options:t.turnos,modelValue:t.projects[l.index].turno,"onUpdate:modelValue":a=>t.projects[l.index].turno=a},null,8,["options","modelValue","onUpdate:modelValue"])])):m("",!0),l.column.field=="pasajero"?(c(),d("span",Ne,[i(v,{type:"text",placeholder:"N° pax",modelValue:t.projects[l.index].nPasajseros,"onUpdate:modelValue":a=>t.projects[l.index].nPasajseros=a},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),l.column.field=="fecha"?(c(),d("span",Fe,[i(H,{class:"form-control",id:"d1",placeholder:"yyyy, dd M",modelValue:t.projects[l.index].date_assigned,"onUpdate:modelValue":a=>t.projects[l.index].date_assigned=a},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),l.column.field=="observation"?(c(),d("span",ze,[i(v,{type:"text",placeholder:"Observación",modelValue:t.projects[l.index].observacion,"onUpdate:modelValue":a=>t.projects[l.index].observacion=a},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),l.column.field=="realizado"?(c(),d("span",Ue,[i(v,{type:"text",placeholder:"-",modelValue:t.projects[l.index].realizado,"onUpdate:modelValue":a=>t.projects[l.index].realizado=a,disabled:""},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),l.column.field=="action"?(c(),d("div",Be,[s("div",{class:"text-xl",onClick:a=>r.deleteProject(l.index)},[i(y,{icon:"heroicons-outline:trash",class:"text-danger-500"})],8,De)])):m("",!0)]),_:1},8,["columns","rows","pagination-options"]),s("div",Oe,[i(x,{label:"T. TOURS S/. ",class:"append",name:"hi_Fullname",modelValue:t.tour.totalTour,"onUpdate:modelValue":e[11]||(e[11]=l=>t.tour.totalTour=l),type:"text",placeholder:"",horizontal:"",appendIcon:"heroicons-outline:cash",classInput:"text-right"},null,8,["modelValue"])])])])]),_:1}),i(w,{class:"mt-4",noborder:""},{default:g(()=>[s("div",Ge,[s("div",qe,[s("div",Le,[Je,s("div",Xe,[i(V,{icon:"heroicons-outline:plus-sm",text:"Agregar Reserva",btnClass:" btn-dark font-normal btn-sm ",iconClass:"text-lg",onClick:O(r.openModalReservaHotel,["prevent"])},null,8,["onClick"])])]),i(j,{class:"-mx-6",columns:t.columnsReservasAlojamiento,styleClass:" vgt-table  table-head   v-middle striped  listview",rows:this.reservasHotel,"sort-options":{enabled:!1}},{"table-row":g(l=>[l.column.field=="code"?(c(),d("span",Ke,h(l.row.code),1)):m("",!0),l.column.field=="nombreHotel"?(c(),d("span",Qe,[s("span",We,h(l.row.hotel.tradename),1),T("("+h(l.row.hotel.citie_turistic.description)+") ",1),Ye,T(" Cell: "+h(l.row.hotel.cellphone),1)])):m("",!0),l.column.field=="detallehotel"?(c(),d("span",Ze,h(l.row.typebedrooms.map(a=>`${a.typebedroom.description} (${a.quantity} hab. x
                ${a.nights} noches)`).join(", ")),1)):m("",!0),l.column.field==="action"?(c(),d("div",$e,[s("div",eo,[i(y,{icon:"heroicons-outline:trash",class:"text-danger-500",onClick:a=>r.deleteItem(l.row.id)},null,8,["onClick"])])])):m("",!0)]),_:1},8,["columns","rows"]),s("div",oo,[i(x,{label:"T. HOTEL S/. ",class:"append",name:"hi_Fullname",modelValue:t.totalHotelValue,"onUpdate:modelValue":e[12]||(e[12]=l=>t.totalHotelValue=l),type:"text",placeholder:"",horizontal:"",appendIcon:"heroicons-outline:cash",classInput:"text-right"},null,8,["modelValue"])])])])]),_:1}),s("div",to,[lo,s("div",so,[i(V,{text:"Cancelar",btnClass:"btn-light mr-2",onClick:e[13]||(e[13]=l=>o.closeModal())}),i(V,{type:"submit",text:"Guardar Reserva",onClick:e[14]||(e[14]=l=>r.saveReserva()),btnClass:"btn-dark"})])]),s("div",io,[i(w,{class:"mb-0 book__summary max-w-md"},{default:g(()=>[s("div",no,[s("table",ao,[s("tr",null,[ro,s("td",null,h(t.formattedTotal),1)]),s("tr",null,[co,s("td",null,h(t.formattedTotalHotel),1)]),uo,s("tr",null,[mo,s("td",po,h(r.totalReserva),1)])])])]),_:1})]),i(I,{activeModal:t.showEditModal,onClose:e[15]||(e[15]=l=>t.showEditModal=!1),title:"Actualizar Registro de Colaborador",onUpdateClientList:r.fetchClients},null,8,["activeModal","onUpdateClientList"]),i(M,{activeModal:t.showReserveModal,title:"Actualizar Registro de Colaborador",onPostComplete:r.handlePostComplete,onClose:e[16]||(e[16]=l=>t.showReserveModal=!1)},null,8,["activeModal","onPostComplete"]),i(E,{activeModal:t.showComisionar,title:"Actualizar Registro de Colaborador",onCommissionProcessed:r.handleCommissionProcessed,onClose:e[17]||(e[17]=l=>t.showComisionar=!1)},null,8,["activeModal","onCommissionProcessed"]),i(S,{activeModal:t.showAmortizar,title:"Actualizar Registro de Colaborador",onFormSubmitted:r.handleFormSubmitted,idCliente:t.idCliente,totalBooking:t.booking.total,onClose:e[18]||(e[18]=l=>t.showAmortizar=!1)},null,8,["activeModal","onFormSubmitted","idCliente","totalBooking"])])}const $o=L(ae,[["render",ho],["__scopeId","data-v-b7eda183"]]);export{$o as default};
