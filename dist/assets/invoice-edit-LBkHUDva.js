import{B as G}from"./index-DCMPjbua.js";import{C as L}from"./index-Hsd0Z0_R.js";import{F as J}from"./index-I9bOp0dW.js";import{I as W}from"./index-BcFOD9Ey.js";import{u as X,J as x,b as A,d as u,e as n,h as b,f as i,c as g,o as d,p,L as D,n as H,i as T,t as v,F as Y,l as P,w as S,z as K,A as Q}from"./index-BLl1OigC.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{T as $}from"./index-BTHsGrD3.js";import{C as ee}from"./index-lgafHr2M.js";import{I as oe}from"./index-DCC49QXr.js";import{S as te}from"./index-DPFbVGd7.js";import{_ as le,C as se,A as ie,E as ne}from"./ModalAddReserve-Skdiss-h.js";import{D as ae}from"./index-DFq5MbAK.js";import{P as re}from"./index-C66Q9vME.js";import{u as de}from"./project-DZP6XSnf.js";import{V as ce}from"./VueSelect-DI5dOEtm.js";import{M as ue}from"./index-MSlXG-Ka.js";import{a as me}from"./basic-tablle-data-AN7MRnVF.js";import{b as pe}from"./menu-CM83wd2-.js";import"./vue-cleave.min-DAvglPmz.js";import"./index-B_wjOnuw.js";/* empty css                                              */import"./TotalTable-Da2l-zhh.js";import"./index-CwPxZwdQ.js";import"./av-2-D6_jNZbn.js";import"./v4-D8aEg3BZ.js";import"./VueSelect.vue_vue_type_style_index_0_lang-B1s-zvio.js";import"./transition-CNElC_4N.js";import"./focus-management-Dc3XsveG.js";import"./keyboard-9WePWYgZ.js";import"./use-outside-click-CPWvQZIF.js";import"./hidden-BR_kr5_G.js";import"./micro-task-CxIZtCgj.js";import"./open-closed-0CPOhxDd.js";import"./user-1-Dmhlt7-s.js";import"./user-4-_9lLfOE2.js";import"./user-6-Bk4CTUVR.js";import"./use-resolve-button-type-BwPomRAb.js";const y=X().headers(),he={components:{Dropdown:ae,Select:te,Button:G,FromGroup:J,EditProject:le,ComisionarModal:se,AmortizarModal:ie,EditProject2:ne,Textinput:$,id:null,otherData:null,Modal:ue,Checkbox:ee,InputGroup:oe,Icon:W,VueSelect:ce,MenuItem:pe,Card:L,ProgressBar:re},data(){return{advancedTable:me,idsReservesHotels:[],commissionIds:[],moneyIds:[],searchTerm:"",showEditModal:!1,showReserveModal:!1,selectedTour:null,store:null,formattedTotal:"S/.0.00",formattedTotalHotel:"S/.0.00",totalHotelValue:"0.00",reservasHotel:[],projects:[],filteredRows:[],includeBreakfast:!1,book:{is_breakfast:!1,nro_breakfast:"",start_breakfast:"",end_breakfast:""},originsbooking:[{value:1,label:"Oficina"},{value:2,label:"Colaboradores"},{value:3,label:"Facebook"},{value:4,label:"Whatsapp"},{value:5,label:"Instagram"},{value:6,label:"Página web"}],originsReserve:[{value:5,label:"Sin Asignar"},{value:1,label:"Aeropuerto"},{value:2,label:"Terminar Terrestre"},{value:3,label:"Otros"}],toursOptions:[],customerOptions:[],showReferences:!1,nro_pax_childs:"",nro_pax_adults:"",nro_pax_olds:"",current:1,basicTableData:[{codigo:"HRS2024-000231",nombreHotel:"HOTEL POSADA LODGE (TARAPOTO)",detallehotel:"HAB. TRIPLE (AC) (2 hab. x 6 noches)",contacto:"Cel: 963122673"}],client:{document:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:"",date_birthday:""},tour:{esAbierto:null,tourDescription:null,vehiculo:null,turno:null,nPasajseros:null,fechaTour:null,observacion:null,realizado:null,totalTour:"0.00"},booking:{clients:null,phoneNumber:null,originReserve:null,numPassengers:null,referenciar:!1,numChildren:null,reference_location:null,numAdults:null,numSeniors:null,dateTimeArrival:null,dateArrival:null,timeArrival:null,arrivalBy:null,placeArrivalReference:null,voucherReference:null,emergencyContact:null,emergencyPhone:null,observations:null,isFavorite:!1,includeBreakfast:!1,numBreakfasts:null,startDate:null,endDate:null,total:null},perpage:3,idCliente:null,show:!1,showEdit:!1,showAmortizar:!1,showComisionar:!1,show2:!1,realizado:"--",pageRange:10,actions:[{name:"edit",icon:"heroicons:pencil-square",doit:l=>{this.openModalEdit(l)}},{name:"delete",icon:"heroicons-outline:trash",doit:l=>{this.removeProject(l)}}],vehiculos:[{value:1,label:"Compartido"},{value:2,label:"Privado"}],turnos:[{value:1,label:"Full Day"},{value:2,label:"Mañana"},{value:3,label:"Tarde"},{value:4,label:"Noche"}],columns:[{label:"¿Es Abierto?",field:"abierto"},{label:"Tours Turístico",field:"tour"},{label:"Vehículo",field:"vehiculo"},{label:"Turno",field:"turno"},{label:"N° pax",field:"pasajero"},{label:"Fecha",field:"fecha"},{label:"Observación",field:"observation"},{label:"Realizado",field:"realizado"},{label:"Action",field:"action"}],columnsReservaHotelExpense:[{label:"Habitacion",field:"habitacion"},{label:"N° PAX	",field:"pasajeross"},{label:"Cant. HAB",field:"cantidad"},{label:"Check-In",field:"checkin"},{label:"Check-out",field:"checkout"},{label:"#Noches",field:"noches"},{label:"Precio",field:"precio"},{label:"Descuento",field:"descuento"},{label:"Adicional",field:"adicional"},{label:"Observación",field:"observacion"},{label:"Subtotal",field:"subtotal"},{label:"",field:"action"}],showDeleteButton:!0,idBooking:null,code:null,selectedTourDescription:"",tourOptions:[],totalBooking:null,bedroomOptions:[],rows:[{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"}],columnsReservasAlojamiento:[{label:"Código",field:"code",type:"text",html:!0,width:"100px"},{label:"Nombre del Hotel",field:"nombreHotel",type:"text",html:!0,width:"150px"},{label:"Detalle del Hotel",field:"detallehotel",type:"text",html:!0,width:"250px"},{label:"Acciones",field:"action",type:"text",html:!0,width:"120px"}]}},watch:{selectedTour(l,t){l!==t&&(this.projects.find(s=>s.id===l)?A().warning("¡Este tour ya está seleccionado!"):x.get(`https://thtbackend-production.up.railway.app/api/v1/tours/description/${l}`,y).then(s=>{const e={id:l,description:s.data.data,esAbierto:null,vehiculo:null,turno:null,nPasajseros:null,fechaTour:null,observacion:null,realizado:null,totalTour:null};this.projects.push(e)}).catch(s=>{console.error("Error al obtener la descripción del tour:",s)}))},"booking.clients":function(l,t){this.idCliente=l,x.get(`https://thtbackend-production.up.railway.app/api/v1/clients/cellphone&telephone/${l}`,y).then(a=>{console.log(a),this.booking.phoneNumber=a.data.contact_numbers}).catch(a=>{console.error("Error al obtener la descripción del tour:",a)})},"booking.dateTimeArrival"(l){if(l){const[t,a]=l.split(" ");this.booking.dateArrival=t,this.booking.timeArrival=a}else this.booking.dateArrival=null,this.booking.timeArrival=null},"tour.totalTour":function(l){const t=parseFloat(l);(!isNaN(t)||l==="")&&(this.formattedTotal="S/."+(l===""?"0.00":t.toFixed(2)))},totalHotelValue(l){const t=parseFloat(l);(!isNaN(t)||l==="")&&(this.formattedTotalHotel="S/."+(l===""?"0.00":t.toFixed(2)))},$route:{immediate:!0,handler(l,t){const a=l.params.id;this.idBooking=a;const s=JSON.parse(l.query.otherData);console.log(s),this.booking.clients=s.client_id,this.booking.originReserve=s.bookingorigin_id,this.booking.numPassengers=s.nro_pax,this.booking.referenciar=s.is_reference_pax===1,this.booking.numChildren=s.nro_pax_childs,this.booking.numAdults=s.nro_pax_adults,this.booking.numSeniors=s.nro_pax_olds,this.booking.dateTimeArrival=s.date_arrival+" "+s.time_arrival,this.booking.dateArrival=s.date_arrival,this.booking.timeArrival=s.time_arrival,this.booking.arrivalBy=s.arrivalplace_id,this.booking.placeArrivalReference=s.arrival_place,this.booking.voucherReference=s.reference_voucher,this.booking.emergencyContact=s.contact_emergency,this.booking.emergencyPhone=s.telephone_emergency,this.booking.observations=s.observations,this.booking.reference_location=s.reference_location,this.booking.isFavorite=s.is_favorite===1,this.booking.includeBreakfast=s.is_breakfast===1,this.booking.numBreakfasts=s.nro_breakfast,this.booking.startDate=s.start_breakfast,this.booking.endDate=s.end_breakfast,this.booking.total=s.total,this.tour.totalTour=s.subtotal_tour,this.totalHotelValue=s.subtotal_hotel,this.projects=s.tours.map(e=>({id:e.id,esAbierto:e.pivot.is_open===1,description:e.description,vehiculo:e.pivot.vehicle_tour,turno:e.pivot.shift_tour,nPasajseros:e.pivot.quantity,date_assigned:e.pivot.date_assigned,observacion:e.pivot.observation,realizado:e.pivot.is_realized})),this.reservasHotel=s.hotelsbookings.map(e=>{var r,h,f,m;return{id:e.id,code:e.code,total:e.total,hotel:{tradename:((r=e.hotel)==null?void 0:r.tradename)||"",citie_turistic:{description:((f=(h=e.hotel)==null?void 0:h.citie_turistic)==null?void 0:f.description)||""},cellphone:((m=e.hotel)==null?void 0:m.cellphone)||""},detailbedrooms:e.detailbedrooms.map(k=>{var _;return{quantity:k.quantity,nights:k.nights,description:((_=k.typebedroom)==null?void 0:_.description)||""}})}})}}},async created(){await this.fetchClients()},computed:{totalReserva(){const l=isNaN(parseFloat(this.formattedTotal.substring(3)))?0:parseFloat(this.formattedTotal.substring(3)),t=isNaN(parseFloat(this.formattedTotalHotel.substring(3)))?0:parseFloat(this.formattedTotalHotel.substring(3)),a=l+t,s=a.toFixed(2);return this.booking.total=s,console.log(this.booking.total),"S/."+a.toFixed(2)},limitedCustomerOptions(){return this.customerOptions.slice(0,6)}},methods:{capturarDatos(){console.log(this.projects)},handleCommissionProcessed(l){const a=[l.data.data.id];this.commissionIds=a,console.log("ID de la comisión:",this.commissionIds)},handleFormSubmitted(l){const a=[l.data.id];this.moneyIds=a,console.log("ID del ingreso amortización:",this.moneyIds)},deleteProject(l){this.projects.splice(l,1),console.log(this.projects)},deleteItem(l,t){window.confirm("¿Estás seguro de que deseas eliminar este elemento?")?x.delete(`https://thtbackend-production.up.railway.app/api/v1/hotelsbookings/destroy/${l}`,y).then(a=>{console.log("El elemento con ID:",l,"se ha eliminado correctamente en el backend"),this.reservasHotel.splice(t,1);let s=0;this.reservasHotel.forEach(r=>{s+=parseFloat(r.total)}),this.totalHotelValue=s,A().success("Elemento eliminado con éxito",{position:"top-right"})}).catch(a=>{console.error("Error al eliminar el elemento:",a),A().error("Error al eliminar el elemento",{position:"top-right"})}):console.log("El usuario ha cancelado la eliminación del elemento con ID:",l)},handlePostComplete(l){let t=0;if(Array.isArray(l.data))l.data.forEach(s=>{this.reservasHotel.push(this.formatReserva(s)),t+=parseFloat(s.total);const e=s.id;this.idsReservesHotels.includes(e)||this.idsReservesHotels.push(e)});else{this.reservasHotel.push(this.formatReserva(l.data)),t+=parseFloat(l.data.total);const s=l.data.id;this.idsReservesHotels.includes(s)||this.idsReservesHotels.push(s)}let a=parseFloat(t);this.totalHotelValue=parseFloat(this.totalHotelValue)+a,console.log(this.totalHotelValue)},calcularTotalHotelValue(){let l=0;this.reservasHotel.forEach(t=>{l+=parseFloat(t.total)}),this.totalHotelValue=l,console.log(this.totalHotelValue)},formatReserva(l){var t,a,s,e;return{code:l.code,hotel:{tradename:((t=l.hotel)==null?void 0:t.tradename)||"",citie_turistic:{description:((s=(a=l.hotel)==null?void 0:a.citie_turistic)==null?void 0:s.description)||""},cellphone:((e=l.hotel)==null?void 0:e.cellphone)||""},detailbedrooms:l.typebedrooms.map(r=>{var h;return{quantity:r.quantity,nights:r.nights,description:((h=r.typebedroom)==null?void 0:h.description)||""}})}},handleAction(l){l.name==="edit"&&this.openModalEdit()},saveReserva(){const l=this.booking.voucherReference?1:0,t=this.booking.includeBreakfast?1:0,a=this.booking.isFavorite?1:0,s={bookingorigin_id:this.booking.originReserve,client_id:this.booking.clients,agency_id:this.booking.agency_id,arrivalplace_id:this.booking.arrivalBy,arrival_place:this.booking.placeArrivalReference,date_arrival:this.booking.dateArrival!=="null"?this.booking.dateArrival:null,time_arrival:this.booking.timeArrival!=="null"?this.booking.timeArrival:null,nro_pax:this.booking.numPassengers,is_reference_pax:this.booking.referenciar,nro_pax_childs:this.booking.numChildren,nro_pax_adults:this.booking.numAdults,nro_pax_olds:this.booking.numSeniors,reference_voucher:this.booking.voucherReference,is_voucher_external:l,observations:this.booking.observations,contact_emergency:this.booking.emergencyContact,telephone_emergency:this.booking.emergencyPhone,reference_location:this.booking.reference_location,subtotal_tour:this.tour.totalTour,subtotal_hotel:this.totalHotelValue,total:this.booking.total,is_favorite:a,is_breakfast:t,nro_breakfast:this.booking.numBreakfasts,start_breakfast:this.booking.startDate,end_breakfast:this.booking.endDate,tours:this.projects.map(e=>({id:e.id,vehicle_tour:e.vehiculo,shift_tour:e.turno,quantity:e.nPasajseros,date_assigned:e.date_assigned,observation:e.observacion,is_open:e.esAbierto})),hotelsbooking_ids:this.idsReservesHotels,commission_ids:this.commissionIds,money_ids:this.moneyIds};console.log(s),x.post(`https://thtbackend-production.up.railway.app/api/v1/bookings/edit/${this.idBooking}`,s,{...y}).then(e=>{const r=A();console.log(e.data),r.success(e.data.message,{duration:3e3});const h=e.data.data.id;setTimeout(()=>{this.$router.push({name:"reserve-preview",params:{id:h}})},3e3)}).catch(e=>{A().error("Error al enviar los datos al backend",{duration:3e3})})},toggleReferences(){this.showReferences=!this.showReferences},openModal(){this.showEditModal=!0},openModalEdit(){this.showEdit=!this.showEdit},openModalComisionar(){this.showComisionar=!0},openModalAmortizar(){this.idCliente=this.idCliente,this.totalBooking=this.booking.total,this.showAmortizar=!0,console.log(this.idCliente)},handleComisionEnviada(l){console.log("Datos de la comisión recibidos en el componente padre:",l)},openModalReservaHotel(){this.showReserveModal=!0,this.showDeleteButton=!1},async fetchClients(){try{const l=await x.get("https://thtbackend-production.up.railway.app/api/v1/clients/list",y);this.customerOptions=l.data.data.map(t=>({value:t.id,label:t.fullname}))}catch(l){console.error("Error fetching departments:",l)}},async fetchHotelsBooking(){console.log("Fetching HotelsBooking...");try{const l=await x.get("https://thtbackend-production.up.railway.app/api/v1/clients/list",y);this.customerOptions=l.data.data.map(t=>({value:t.id,label:t.fullname}))}catch(l){console.error("Error fetching departments:",l)}},fetchData(){const l=this.$route.params.id;x.get(`https://thtbackend-production.up.railway.app/api/v1/bookings/record/${l}`,y).then(t=>{const a=t.data.data;this.code=a.book.code}).catch(t=>{console.error("Error fetching invoice data:",t)})},async fetchTours(){console.log("Fetching tours...");try{const l=await x.get("https://thtbackend-production.up.railway.app/api/v1/tours/list",y);console.log(l),this.tourOptions=l.data.data.map(t=>({value:t.id,label:t.description}))}catch(l){console.error("Error fetching tours:",l)}}},created(){this.store=de()},mounted(){this.fetchData(),this.fetchClients(),this.fetchTours()}},V=l=>(K("data-v-10981882"),l=l(),Q(),l),be={class:"grid grid-cols-1 lg:grid-cols-1 gap-5"},ge={class:"grid grid-cols-3 gap-5"},fe={class:"flex items-center"},ve={class:"grid grid-cols-3 gap-5"},ke={style:{display:"flex","align-items":"center"}},_e={key:0},xe={class:"flex items-center"},ye={class:"grid grid-cols-4 gap-5"},Ve={class:"grid grid-cols-3 gap-5"},Ce={key:0,class:"form-group col-lg-9"},Ae={class:"flex"},we={class:"flex flex-col w-1/2 mr-4"},Re={class:"flex flex-col w-1/2"},Te={class:"flex flex-col w-1/2"},je={class:"grid grid-cols-1"},He={class:"flex flex-col"},Pe={class:"border-b border-slate-100 dark:border-slate-700 pb-3 flex justify-between items-center"},Ee=V(()=>i("div",{class:"flex items-center"},[i("h6",{class:"card-title mb-0"},"Datos de Tours turístico")],-1)),Ie={class:"flex items-center"},Fe={class:"flex-grow mr-2"},Ue={key:0},Be={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Me={key:4,class:"block w-full"},De={key:5},Se={key:6,class:"block w-full"},Ne={key:7},ze={key:0,style:{position:"relative"}},Oe={key:8,class:"action-btn text-end mr-3"},qe=["onClick"],Ge={class:"mt-5 self-end"},Le={class:"grid grid-cols-1"},Je={class:"flex flex-col"},We={class:"md:flex pb-6 items-center"},Xe=V(()=>i("h6",{class:"flex-1 md:mb-0 mb-3"},"Reservas de Alojamiento",-1)),Ye={class:"md:flex md:space-x-3 items-center flex-none rtl:space-x-reverse"},Ke={key:0,class:"text-blue-900 font-bold"},Qe={key:1,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},Ze={class:"font-bold"},$e=V(()=>i("br",null,null,-1)),eo={key:2,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},oo={key:3,class:"action-btn text-end mr-3"},to={class:"text-xl"},lo={class:"mt-5 self-end"},so={class:"grid grid-cols-1 lg:grid-cols-1 gap-5"},io={class:"grid grid-cols-3 gap-5"},no={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},ao=V(()=>i("div",{class:"lg:col-span-1"},null,-1)),ro={class:"lg:col-span-3 flex justify-end"},co={class:"flex justify-center"},uo={class:"flex justify-center"},mo={class:"w-full"},po=V(()=>i("th",null,"Total tours",-1)),ho=V(()=>i("th",null,"Total hotel",-1)),bo=V(()=>i("tr",null,[i("td",{colspan:"2"},[i("hr",{class:"book__summary__hrdivider"})])],-1)),go=V(()=>i("th",{class:"text-primary bold text-uppercase f-s-15"},"Total reserva",-1)),fo={class:"text-primary bold f-s-15"};function vo(l,t,a,s,e,r){const h=g("Select"),f=g("FromGroup"),m=g("Textinput"),k=g("Checkbox"),_=g("InputGroup"),w=g("flat-pickr"),C=g("Card"),E=g("Icon"),I=g("vue-good-table"),j=g("Button"),N=g("EditProject"),z=g("EditProject2"),O=g("ComisionarModal"),q=g("AmortizarModal");return d(),u("div",null,[n(C,{title:"Datos Generales"},{default:b(()=>[i("div",be,[i("div",ge,[i("div",fe,[n(f,{label:"Clientes",class:"flex-1"},{default:b(()=>[n(h,{options:r.limitedCustomerOptions,modelValue:e.booking.clients,"onUpdate:modelValue":t[0]||(t[0]=o=>e.booking.clients=o),class:"client-select"},null,8,["options","modelValue"])]),_:1}),i("button",{onClick:t[1]||(t[1]=(...o)=>r.openModal&&r.openModal(...o)),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),n(m,{label:"Número teléfono",type:"text",placeholder:"Tel 1",modelValue:e.booking.phoneNumber,"onUpdate:modelValue":t[2]||(t[2]=o=>e.booking.phoneNumber=o)},null,8,["modelValue"]),n(f,{label:"Origen de Reserva",class:"flex-1"},{default:b(()=>[n(h,{options:e.originsbooking,modelValue:e.booking.originReserve,"onUpdate:modelValue":t[3]||(t[3]=o=>e.booking.originReserve=o),class:"client-select"},null,8,["options","modelValue"])]),_:1})]),i("div",ve,[i("div",ke,[n(m,{label:"N° Pax",type:"text",placeholder:"N° pax",modelValue:e.booking.numPassengers,"onUpdate:modelValue":t[4]||(t[4]=o=>e.booking.numPassengers=o)},null,8,["modelValue"]),n(k,{label:"¿Referenciar?",checked:e.booking.referenciar,onClick:r.toggleReferences,modelValue:e.booking.referenciar,"onUpdate:modelValue":t[5]||(t[5]=o=>e.booking.referenciar=o)},null,8,["checked","onClick","modelValue"])]),e.booking.referenciar?(d(),u("div",_e,[n(f,{label:"Referencia de pasajeros:",class:"flex-1"},{default:b(()=>[i("div",xe,[n(_,{name:"nro_pax_childs",type:"text",placeholder:"N° niños",modelValue:e.booking.numChildren,"onUpdate:modelValue":t[6]||(t[6]=o=>e.booking.numChildren=o),prepend:"#Niños"},null,8,["modelValue"]),n(_,{name:"nro_pax_adults",type:"text",placeholder:"N° adultos",modelValue:e.booking.numAdults,"onUpdate:modelValue":t[7]||(t[7]=o=>e.booking.numAdults=o),prepend:"#Adultos"},null,8,["modelValue"]),n(_,{name:"nro_pax_olds",type:"text",placeholder:"N° ancianos",modelValue:e.booking.numSeniors,"onUpdate:modelValue":t[8]||(t[8]=o=>e.booking.numSeniors=o),prepend:"#Ancianos"},null,8,["modelValue"])])]),_:1})])):p("",!0),n(f,{label:"Fecha y hora llegada"},{default:b(()=>[n(w,{modelValue:e.booking.dateTimeArrival,"onUpdate:modelValue":t[9]||(t[9]=o=>e.booking.dateTimeArrival=o),class:"form-control",placeholder:"Date & Time",id:"d2",config:{enableTime:!0,dateFormat:"Y-m-d H:i"}},null,8,["modelValue"])]),_:1}),n(f,{label:"Llegada por"},{default:b(()=>[n(h,{options:e.originsReserve,modelValue:e.booking.arrivalBy,"onUpdate:modelValue":t[10]||(t[10]=o=>e.booking.arrivalBy=o),class:"client-select"},null,8,["options","modelValue"])]),_:1}),n(m,{label:"Referencia lugar llegada",type:"text",placeholder:"Referencia lugar llegada",modelValue:e.booking.placeArrivalReference,"onUpdate:modelValue":t[11]||(t[11]=o=>e.booking.placeArrivalReference=o)},null,8,["modelValue"])]),i("div",ye,[n(m,{label:"N° ref. comprobante",type:"text",placeholder:"N° ref. comprobante",modelValue:e.booking.voucherReference,"onUpdate:modelValue":t[12]||(t[12]=o=>e.booking.voucherReference=o)},null,8,["modelValue"]),n(m,{label:"Contacto emergencia",type:"text",placeholder:"Contacto emergencia",modelValue:e.booking.emergencyContact,"onUpdate:modelValue":t[13]||(t[13]=o=>e.booking.emergencyContact=o)},null,8,["modelValue"]),n(m,{label:"Tel. emergencia",type:"text",placeholder:"Tel. emergencia",modelValue:e.booking.emergencyPhone,"onUpdate:modelValue":t[14]||(t[14]=o=>e.booking.emergencyPhone=o)},null,8,["modelValue"]),n(m,{label:"Observaciones",type:"text",placeholder:"Observaciones",modelValue:e.booking.observations,"onUpdate:modelValue":t[15]||(t[15]=o=>e.booking.observations=o)},null,8,["modelValue"])]),i("div",Ve,[i("div",null,[n(k,{label:"¿Es favorito (reserva)?",modelValue:e.booking.isFavorite,"onUpdate:modelValue":t[16]||(t[16]=o=>e.booking.isFavorite=o)},null,8,["modelValue"])]),i("div",null,[n(k,{label:"¿Incluye desayuno?",modelValue:e.booking.includeBreakfast,"onUpdate:modelValue":t[17]||(t[17]=o=>e.booking.includeBreakfast=o)},null,8,["modelValue"])]),e.booking.includeBreakfast?(d(),u("div",Ce,[i("div",Ae,[i("div",we,[n(m,{label:"N° Desayunos",type:"text",placeholder:"Ingrese número",modelValue:e.booking.numBreakfasts,"onUpdate:modelValue":t[18]||(t[18]=o=>e.booking.numBreakfasts=o)},null,8,["modelValue"])]),i("div",Re,[n(f,{label:"Fecha Inicio",name:"d1"},{default:b(()=>[n(w,{modelValue:e.booking.startDate,"onUpdate:modelValue":t[19]||(t[19]=o=>e.booking.startDate=o),class:"form-control",id:"d1",placeholder:"yyyy, dd M"},null,8,["modelValue"])]),_:1})]),i("div",Te,[n(f,{label:"Fecha Fin",name:"d1"},{default:b(()=>[n(w,{modelValue:e.booking.endDate,"onUpdate:modelValue":t[20]||(t[20]=o=>e.booking.endDate=o),class:"form-control",id:"d1",placeholder:"yyyy, dd M"},null,8,["modelValue"])]),_:1})])])])):p("",!0)])])]),_:1}),n(C,{class:"mt-4",noborder:""},{default:b(()=>[i("div",je,[i("div",He,[i("header",Pe,[Ee,i("div",Ie,[i("div",Fe,[n(h,{options:e.tourOptions,modelValue:e.selectedTour,"onUpdate:modelValue":t[21]||(t[21]=o=>e.selectedTour=o),placeholder:"Seleccionar Tipo",class:"w-full"},null,8,["options","modelValue"])])])]),n(I,{class:"-mx-6 mb-5",columns:e.columns,styleClass:"vgt-table table-head v-middle striped lesspadding2 listview",rows:e.projects,"pagination-options":{enabled:!1,perPage:e.perpage},"sort-options":{enabled:!1}},{"table-row":b(o=>[o.column.field=="abierto"?(d(),u("span",Ue,[i("div",Be,[n(k,{modelValue:e.projects[o.index].esAbierto,"onUpdate:modelValue":c=>e.projects[o.index].esAbierto=c,checked:e.projects[o.index].esAbierto},null,8,["modelValue","onUpdate:modelValue","checked"])])])):p("",!0),o.column.field=="tour"?(d(),u("span",{key:1,style:D({color:e.projects[o.index].esAbierto?"red":""}),class:H([{"text-underline-red":e.projects[o.index].esAbierto},"text-slate-500 dark:text-slate-400 block min-w-[208px]"])},[T(v(o.row.description)+" ",1),e.projects[o.index].esAbierto?(d(),u(Y,{key:0},[T(" (Estado abierto) ")],64)):p("",!0)],6)):p("",!0),o.column.field=="vehiculo"?(d(),u("span",{key:2,class:H([{"text-underline-red":e.projects[o.index].esAbierto&&o.column.field=="vehiculo"},"text-slate-500 dark:text-slate-400 block min-w-[108px]"])},[n(h,{options:e.vehiculos,modelValue:e.projects[o.index].vehiculo,"onUpdate:modelValue":c=>e.projects[o.index].vehiculo=c},null,8,["options","modelValue","onUpdate:modelValue"])],2)):p("",!0),o.column.field=="turno"?(d(),u("span",{key:3,class:H([{"text-underline-red":e.projects[o.index].esAbierto&&o.column.field=="turno"},"text-slate-500 dark:text-slate-400 block min-w-[108px]"])},[n(h,{options:e.turnos,modelValue:e.projects[o.index].turno,"onUpdate:modelValue":c=>e.projects[o.index].turno=c},null,8,["options","modelValue","onUpdate:modelValue"])],2)):p("",!0),o.column.field=="pasajero"?(d(),u("span",Me,[n(m,{type:"text",placeholder:"N° pax",modelValue:e.projects[o.index].nPasajseros,"onUpdate:modelValue":c=>e.projects[o.index].nPasajseros=c},null,8,["modelValue","onUpdate:modelValue"])])):p("",!0),o.column.field=="fecha"?(d(),u("span",De,[e.projects[o.index].esAbierto?(d(),P(m,{key:1,type:"text",placeholder:"Sin asignar Fecha",disabled:""})):(d(),P(w,{key:0,class:"form-control",id:"d1",placeholder:"yyyy, dd M",modelValue:e.projects[o.index].date_assigned,"onUpdate:modelValue":c=>e.projects[o.index].date_assigned=c},null,8,["modelValue","onUpdate:modelValue"]))])):p("",!0),o.column.field=="observation"?(d(),u("span",Se,[n(m,{type:"text",placeholder:"Observación",modelValue:e.projects[o.index].observacion,"onUpdate:modelValue":c=>e.projects[o.index].observacion=c},null,8,["modelValue","onUpdate:modelValue"])])):p("",!0),o.column.field=="realizado"?(d(),u("span",Ne,[e.projects[o.index].esAbierto?(d(),u("div",ze,[i("span",{style:D({color:e.projects[o.index].esAbierto?"red":""})},[n(m,{type:"text",class:"text-danger-500",placeholder:"---",modelValue:e.projects[o.index].realizado,"onUpdate:modelValue":c=>e.projects[o.index].realizado=c,disabled:""},null,8,["modelValue","onUpdate:modelValue"])],4)])):(d(),P(m,{key:1,type:"text",placeholder:"-",modelValue:e.projects[o.index].realizado,"onUpdate:modelValue":c=>e.projects[o.index].realizado=c,disabled:""},null,8,["modelValue","onUpdate:modelValue"]))])):p("",!0),o.column.field=="action"?(d(),u("div",Oe,[i("div",{class:"text-xl",onClick:c=>r.deleteProject(o.index)},[n(E,{icon:"heroicons-outline:trash",class:"text-danger-500"})],8,qe)])):p("",!0)]),_:1},8,["columns","rows","pagination-options"]),i("div",Ge,[n(_,{label:"T. TOURS S/. ",class:"append",name:"hi_Fullname",modelValue:e.tour.totalTour,"onUpdate:modelValue":t[22]||(t[22]=o=>e.tour.totalTour=o),type:"text",placeholder:"",horizontal:"",appendIcon:"heroicons-outline:cash",classInput:"text-right"},null,8,["modelValue"])])])])]),_:1}),n(C,{class:"mt-4",noborder:""},{default:b(()=>[i("div",Le,[i("div",Je,[i("div",We,[Xe,i("div",Ye,[n(j,{icon:"heroicons-outline:plus-sm",text:"Agregar Reserva",btnClass:" btn-dark font-normal btn-sm ",iconClass:"text-lg",onClick:S(r.openModalReservaHotel,["prevent"])},null,8,["onClick"])])]),n(I,{class:"-mx-6",columns:e.columnsReservasAlojamiento,styleClass:"vgt-table table-head v-middle striped listview",rows:e.reservasHotel,"sort-options":{enabled:!1}},{"table-row":b(o=>{var c,F,U,B,M;return[o.column.field=="code"?(d(),u("span",Ke,v(o.row.code),1)):p("",!0),o.column.field=="nombreHotel"?(d(),u("span",Qe,[i("span",Ze,v((c=o.row.hotel)==null?void 0:c.tradename),1),T("( "+v((U=(F=o.row.hotel)==null?void 0:F.citie_turistic)==null?void 0:U.description)+") ",1),$e,T(" Cell: "+v((B=o.row.hotel)==null?void 0:B.cellphone),1)])):p("",!0),o.column.field=="detallehotel"?(d(),u("span",eo,v((M=o.row.detailbedrooms)==null?void 0:M.map(R=>`${R.description} (${R.quantity} hab. x
                ${R.nights} noches)`).join(", ")),1)):p("",!0),o.column.field==="action"&&e.showDeleteButton?(d(),u("div",oo,[i("div",to,[n(E,{icon:"heroicons-outline:trash",class:"text-danger-500",onClick:S(R=>r.deleteItem(o.row.id),["prevent"])},null,8,["onClick"])])])):p("",!0)]}),_:1},8,["columns","rows"]),i("div",lo,[n(_,{label:"T. HOTEL S/. ",class:"append",name:"hi_Fullname",modelValue:e.totalHotelValue,"onUpdate:modelValue":t[23]||(t[23]=o=>e.totalHotelValue=o),type:"text",placeholder:"",horizontal:"",appendIcon:"heroicons-outline:cash",classInput:"text-right"},null,8,["modelValue"])])])])]),_:1}),n(C,{class:"mt-4",noborder:""},{default:b(()=>[i("div",so,[i("div",io,[n(m,{label:"Ubicación y referencias para recojo del turista",type:"text",placeholder:"Referencia lugar llegada",modelValue:e.booking.reference_location,"onUpdate:modelValue":t[24]||(t[24]=o=>e.booking.reference_location=o)},null,8,["modelValue"])])])]),_:1}),i("div",no,[ao,i("div",ro,[n(j,{text:"Cancelar",btnClass:"btn-light mr-2",onClick:t[25]||(t[25]=o=>l.closeModal())}),n(j,{type:"submit",text:"Guardar Reserva",onClick:t[26]||(t[26]=o=>r.saveReserva()),btnClass:"btn-dark"})])]),i("div",co,[n(C,{class:"mb-0 book__summary max-w-md"},{default:b(()=>[i("div",uo,[i("table",mo,[i("tr",null,[po,i("td",null,v(e.formattedTotal),1)]),i("tr",null,[ho,i("td",null,v(e.formattedTotalHotel),1)]),bo,i("tr",null,[go,i("td",fo,v(r.totalReserva),1)])])])]),_:1})]),n(N,{activeModal:e.showEditModal,onClose:t[27]||(t[27]=o=>e.showEditModal=!1),title:"Actualizar Registro de Colaborador",onUpdateClientList:r.fetchClients},null,8,["activeModal","onUpdateClientList"]),n(z,{activeModal:e.showReserveModal,title:"Actualizar Registro de Colaborador",onPostComplete:r.handlePostComplete,idCliente:e.idCliente,code:e.code,onClose:t[28]||(t[28]=o=>e.showReserveModal=!1)},null,8,["activeModal","onPostComplete","idCliente","code"]),n(O,{activeModal:e.showComisionar,title:"Actualizar Registro de Colaborador",onCommissionProcessed:r.handleCommissionProcessed,onClose:t[29]||(t[29]=o=>e.showComisionar=!1)},null,8,["activeModal","onCommissionProcessed"]),n(q,{activeModal:e.showAmortizar,title:"Actualizar Registro de Colaborador",onFormSubmitted:r.handleFormSubmitted,idCliente:e.idCliente,totalBooking:e.booking.total,onClose:t[30]||(t[30]=o=>e.showAmortizar=!1)},null,8,["activeModal","onFormSubmitted","idCliente","totalBooking"])])}const tt=Z(he,[["render",vo],["__scopeId","data-v-10981882"]]);export{tt as default};
