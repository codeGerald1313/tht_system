import{C as w}from"./index-Hsd0Z0_R.js";import{B as T}from"./index-B_wjOnuw.js";import{I as C}from"./index-BcFOD9Ey.js";import{T as A}from"./TotalTable-Da2l-zhh.js";import{M as D}from"./index-MSlXG-Ka.js";import{B as I}from"./index-DCMPjbua.js";import{u as k}from"./project-DZP6XSnf.js";import{u as N,J as g,d as l,f as e,e as n,h,c as b,o as i,n as O,t as o,p as u,w as P,i as _,F as p,m as S}from"./index-BLl1OigC.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                              */import"./transition-CNElC_4N.js";import"./focus-management-Dc3XsveG.js";import"./keyboard-9WePWYgZ.js";import"./use-outside-click-CPWvQZIF.js";import"./hidden-BR_kr5_G.js";import"./micro-task-CxIZtCgj.js";import"./open-closed-0CPOhxDd.js";import"./av-2-D6_jNZbn.js";import"./v4-D8aEg3BZ.js";k();const v=N().headers(),G={data(){return{show:!1,responseData:[],responseDataGroup:[],columnsTraspase:[{label:"N° pax",field:"pasajero"},{label:"Responsable y Código	",field:"responsablecode"},{label:"Porforma",field:"proforma"},{label:"Hotel / Ubicacion	",field:"hotelubi"},{label:"Teléfonos",field:"telephone"},{label:"Observaciones	",field:"observaciones"},{label:"Deuda	",field:"deuda"}],columnsTraspase2:[{label:"Nombre Tours",field:"tour"},{label:"N° PAX	",field:"pasajerosdetail"},{label:"Vehículo",field:"vehiculo"},{label:"Turno",field:"turno"},{label:"F. asignada",field:"fasignada"},{label:"Estado	",field:"estado"},{label:"F. realizada	",field:"frealizada"},{label:"Obs.	",field:"obs"}],columnsResumenTotal:[{label:"TOTAL TOURS	",field:"totaltours"},{label:"TOTAL HOTEL",field:"totalhotel"},{label:"TOTAL PAGAR",field:"totalpagar"},{label:"PAGADO",field:"pagado"},{label:"DEUDA",field:"deuda"},{label:"FACTURADO",field:"facturado"}],columnsReservasAlojamiento:[{label:"Código",field:"codigo"},{label:"Nombre Hotel",field:"nombreHotel"},{label:"Detalle Hab.	",field:"detallehotel"},{label:"Action",field:"action"}],columnsComprobantes:[{label:"Tipo comprobante	",field:"tipocomprobante"},{label:"N° comprobante	",field:"ncomprobante"},{label:"Fecha",field:"fecha"},{label:"Método pago	",field:"metodopago"},{label:"Pagado",field:"pagadoc"},{label:"",field:"filedocumentcomrobante"}],group:{destino:null,group_tour_id:null,tour_id:null,transport_id:null,guide:null,cellphoneGuide:null,cellPhoneTransport:null,trasnport:null,capacityTransport:null,placaTranport:null,date_departure:null,code:"",pasajerosSeleccionados:null,correlative:null,capacity_vehicle:null,capacity_selected:null,viatic_assigned:null,is_generated:!1,is_confirmed:!1,observations:"",group_is_confirmed:null},otherData2:{},columnsComisiones:[{label:"Nombre mototaxista",field:"mototaxista"},{label:"Empresa",field:"empresa"},{label:"Fecha",field:"fechacomision"},{label:"COMISIÓN HOTEL	",field:"comisionhotel"},{label:"COMISIÓN TOURS	",field:"comisiontours"},{label:"TOTAL COMISIÓN",field:"totalcomision"}],idGrupo:null}},components:{Card:w,Icon:C,Button:I,TotalTable:A,Modal:D,Breadcrumb:T},methods:{print(){window.print()},hasHotelInfo(a){return a.hotel_tradename||a.hotel_document||a.hotel_address},openModal(a){console.log("Booking ID:",a),this.$router.push({name:"reserve-preview",params:{id:a}})},editar(){this.$router.push({name:"grupo-edit",params:{group_id:this.idGrupo},query:{group_data:JSON.stringify(this.otherData2)}})},hasTourInformation(a){return a.tours&&Array.isArray(a.tours)&&a.tours.length>0},groupTourIdFromPivot(a){if(a.tours&&Array.isArray(a.tours)&&a.tours.length>0){const t=a.tours.find(m=>m.id===this.group.group_tour_id);return t?t.id:null}return null}},created(){this.store=k()},mounted(){const a=this.$route.params.group_id;this.idGrupo=a,console.log("ID del grupo:",a),g.get(`https://thtbackend-production.up.railway.app/api/v1/groups/record/${a}`,v).then(t=>{this.responseData=t.data.data.bookingTours,this.group.destino=t.data.data.group.tour_description,this.group.group_tour_id=t.data.data.group.group_tour_id,this.group.code=t.data.data.group.group_code,this.group.date_departure=t.data.data.groupCreatedAt,this.group.pasajerosSeleccionados=t.data.data.group.group_capacity_selected,this.group.cellphoneGuide=t.data.data.group.guide_cellphone,this.group.cellPhoneTransport=t.data.data.group.transport_cellphone,this.group.guide=t.data.data.group.guide_fullname,this.group.trasnport=t.data.data.group.transport_owner,this.group.placaTranport=t.data.data.group.transport_license_plate,this.group.capacityTransport=t.data.data.group.transport_capacity,this.group.observations=t.data.data.group.group_observations,this.group.group_is_confirmed=t.data.data.group.group_is_confirmed,console.log("Datos para la tabla :",t)}),g.get(`https://thtbackend-production.up.railway.app/api/v1/groups/record-edit-grupo/${a}`,v).then(t=>{this.otherData2=t.data.data}).catch(t=>{console.error("Error fetching invoice data:",t)})}},E={class:"lg:flex justify-end flex-wrap items-center"},F={class:"flex lg:justify-end items-center flex-wrap"},B={class:"invocie-btn inline-flex btn btn-sm whitespace-nowrap space-x-1 cursor-pointer bg-red-500 dark:bg-red-700 btn-md h-min text-sm font-normal text-white rtl:space-x-reverse"},M={class:"text-lg"},H=e("span",null,"Borrar",-1),L={class:"text-lg"},R=e("span",null,"Imprimir",-1),U={class:"text-lg"},V=e("span",null,"Editar",-1),z={class:"max-w-[980px] mx-auto shadow-base dark:shadow-none my-8 rounded-md overflow-x-auto mt-5"},q={class:"lg:col-span-4 col-span-12"},J={class:"grid grid-cols-3 gap-8"},X={class:"list space-y-8"},K={class:"flex space-x-3 rtl:space-x-reverse"},Q={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},W={class:"flex-1"},Y=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Destino ",-1),Z={class:"text-base text-slate-600 dark:text-slate-50 font-bold"},$={class:"list space-y-8"},ee={class:"flex space-x-3 rtl:space-x-reverse"},te={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},se={class:"flex-1"},oe=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Estado ",-1),ae={key:0,class:"text-base text-slate-600 dark:text-slate-50 bg-yellow-500 border border-yellow-500 px-3 py-1 rounded"},le={key:1,class:"text-base text-slate-600 dark:text-slate-50 bg-blue-500 border border-blue-500 px-3 py-1 rounded"},ie={class:"list space-y-8"},re={class:"flex space-x-3 rtl:space-x-reverse"},ne={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},de={class:"flex-1"},ce=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Codigo ",-1),ue={class:"text-base text-blue-900 dark:text-blue-300 font-bold"},pe={class:"list space-y-8"},_e={class:"flex space-x-3 rtl:space-x-reverse"},xe={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},he={class:"flex-1"},be=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Fecha de Salida ",-1),me={class:"text-base text-slate-600 dark:text-slate-50"},fe={class:"list space-y-8"},ge={class:"flex space-x-3 rtl:space-x-reverse"},ve={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},ke={class:"flex-1"},ye=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Guía de viaje ",-1),we={class:"text-base text-slate-600 dark:text-slate-50"},Te={class:"list space-y-8"},Ce={class:"flex space-x-3 rtl:space-x-reverse"},Ae={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},De={class:"flex-1"},Ie=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Transporte ",-1),Ne={class:"text-base text-slate-600 dark:text-slate-50"},Oe={class:"list space-y-8"},Pe={class:"flex space-x-3 rtl:space-x-reverse"},Se={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},je={class:"flex-1"},Ge=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Capacidad Transporte ",-1),Ee={class:"text-base text-slate-600 dark:text-slate-50"},Fe={class:"list space-y-8"},Be={class:"flex space-x-3 rtl:space-x-reverse"},Me={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},He={class:"flex-1"},Le=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Pasajeros ",-1),Re={class:"text-base text-slate-600 dark:text-slate-50 font-bold"},Ue={class:"list space-y-8"},Ve={class:"flex space-x-3 rtl:space-x-reverse"},ze={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},qe={class:"flex-1"},Je=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Observaciones ",-1),Xe={class:"text-base text-slate-600 dark:text-slate-50"},Ke={key:0},Qe={key:1,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},We={key:2,class:"block min-w-[208px]"},Ye={class:"flex flex-col"},Ze=["onClick"],$e={key:3},et={key:0},tt={key:1},st={key:4},ot=e("br",null,null,-1),at={key:5,class:"uppercase"},lt={key:6,class:"text-red-500 font-bold"};function it(a,t,m,rt,r,c){const d=b("Icon"),f=b("Card"),y=b("vue-good-table");return i(),l("div",null,[e("div",E,[e("div",F,[e("button",B,[e("span",M,[n(d,{icon:"heroicons:trash"})]),H]),e("button",{type:"button",onClick:t[0]||(t[0]=(...s)=>c.print&&c.print(...s)),class:"invocie-btn inline-flex btn btn-sm whitespace-nowrap space-x-1 cursor-pointer bg-white dark:bg-slate-800 dark:text-slate-300 btn-md h-min text-sm font-normal text-slate-900 rtl:space-x-reverse"},[e("span",L,[n(d,{icon:"heroicons:printer"})]),R]),e("button",{onClick:t[1]||(t[1]=(...s)=>c.editar&&c.editar(...s)),class:"invocie-btn inline-flex btn btn-sm whitespace-nowrap space-x-1 cursor-pointer bg-white dark:bg-slate-800 dark:text-slate-300 btn-md h-min text-sm font-normal text-slate-900 rtl:space-x-reverse"},[e("span",U,[n(d,{icon:"heroicons:pencil-square"})]),V])])]),n(f,{bodyClass:"p-0",noborder:""},{default:h(()=>[e("div",z,[e("div",q,[n(f,{title:"Detalle Grupo",class:O({"border  border-yellow-500":!r.group.group_is_confirmed,"border border-blue-500 ":r.group.group_is_confirmed})},{default:h(()=>[e("div",J,[e("div",null,[e("ul",X,[e("li",K,[e("div",Q,[n(d,{icon:"heroicons:paper-airplane"})]),e("div",W,[Y,e("div",Z,o(r.group.destino),1)])])])]),e("div",null,[e("ul",$,[e("li",ee,[e("div",te,[n(d,{icon:"heroicons:exclamation-circle"})]),e("div",se,[oe,r.group.group_is_confirmed===!1?(i(),l("div",ae," Pendiente ")):(i(),l("div",le," Confirmado "))])])])]),e("div",null,[e("ul",ie,[e("li",re,[e("div",ne,[n(d,{icon:"heroicons:map"})]),e("div",de,[ce,e("div",ue,o(r.group.code),1)])])])]),e("div",null,[e("ul",pe,[e("li",_e,[e("div",xe,[n(d,{icon:"heroicons:calendar"})]),e("div",he,[be,e("div",me,o(r.group.date_departure),1)])])])]),e("div",null,[e("ul",fe,[e("li",ge,[e("div",ve,[n(d,{icon:"bi:person-circle"})]),e("div",ke,[ye,e("div",we,o(r.group.guide)+" "+o(r.group.cellphoneGuide),1)])])])]),e("div",null,[e("ul",Te,[e("li",Ce,[e("div",Ae,[n(d,{icon:"heroicons:truck"})]),e("div",De,[Ie,e("div",Ne,o(r.group.trasnport)+" - CEL: "+o(r.group.cellPhoneTransport),1)])])])]),e("div",null,[e("ul",Oe,[e("li",Pe,[e("div",Se,[n(d,{icon:"heroicons-outline:cube"})]),e("div",je,[Ge,e("div",Ee,o(r.group.capacityTransport)+" - placa: "+o(r.group.placaTranport),1)])])])]),e("div",null,[e("ul",Fe,[e("li",Be,[e("div",Me,[n(d,{icon:"heroicons:user-group"})]),e("div",He,[Le,e("div",Re,o(r.group.pasajerosSeleccionados)+" Seleccionados ",1)])])])]),e("div",null,[e("ul",Ue,[e("li",Ve,[e("div",ze,[n(d,{icon:"heroicons:eye"})]),e("div",qe,[Je,e("div",Xe,o(r.group.observations),1)])])])])])]),_:1},8,["class"])])]),n(y,{class:"mt-5",columns:r.columnsTraspase,styleClass:" vgt-table  table-head   v-middle striped  listview",rows:this.responseData,"pagination-options":{enabled:!1},"sort-options":{enabled:!1}},{"table-row":h(s=>[s.column.field=="pasajero"?(i(),l("span",Ke,o(s.row.booking_nro_pax),1)):u("",!0),s.column.field=="proforma"?(i(),l("span",Qe,o(s.row.booking_reference_voucher),1)):u("",!0),s.column.field=="responsablecode"?(i(),l("span",We,[e("div",Ye,[e("div",null,o(s.row.client_fullname),1),e("div",{class:"text-blue-900 dark:text-blue-300 font-bold underline cursor-pointer",onClick:P(x=>c.openModal(s.row.booking_id),["prevent"])},o(s.row.booking_code),9,Ze)])])):u("",!0),s.column.field=="hotelubi"?(i(),l("span",$e,[c.hasHotelInfo(s.row)?(i(),l("div",et,[e("div",null,o(s.row.hotel_tradename),1),e("div",null,"N° Doc: "+o(s.row.hotel_document),1),e("div",null,o(s.row.hotel_address),1)])):(i(),l("div",tt," - No hay información disponible "))])):u("",!0),s.column.field=="telephone"?(i(),l("span",st,[_(o(s.row.client_telephone)+" ",1),ot,_(" "+o(s.row.client_cellphone),1)])):u("",!0),s.column.field=="observaciones"?(i(),l("span",at,[c.hasTourInformation(s.row)?(i(!0),l(p,{key:0},S(s.row.tours,x=>(i(),l(p,null,[x.id===c.groupTourIdFromPivot(s.row)?(i(),l(p,{key:0},[x.pivot.observation?(i(),l(p,{key:0},[_(o(x.pivot.observation),1)],64)):(i(),l(p,{key:1},[_(" - No hay información disponible ")],64))],64)):u("",!0)],64))),256)):(i(),l(p,{key:1},[_(" - No hay información disponible ")],64))])):u("",!0),s.column.field=="deuda"?(i(),l("span",lt," S/. "+o(s.row.deuda),1)):u("",!0)]),_:1},8,["columns","rows"])]),_:1})])}const Dt=j(G,[["render",it]]);export{Dt as default};
