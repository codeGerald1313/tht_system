import{B as O}from"./index-DOAnfiMc.js";import{C as q}from"./index-CoHYOsAq.js";import{F as G}from"./index-B8UWVO2a.js";import{I as L}from"./index-DxXSMpKh.js";import{u as J,B as v,b as C,d as u,e as n,g as p,f as i,c as b,o as d,q as m,n as B,p as j,h as R,t as f,F as W,l as H,w as D,D as X,E as Y}from"./index-CyQKzwXM.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{T as Q}from"./index-C6OqzQN-.js";import{C as Z}from"./index-2iT3jdVW.js";import{I as $}from"./index-BVBpVZEi.js";import{S as ee}from"./index-Jp7OXFH1.js";import{_ as oe,C as te,A as le,E as se}from"./ModalAddReserve-B6EPPdMy.js";import{D as ie}from"./index-Br1mhpyn.js";import{P as ne}from"./index-BrRQqvEE.js";import{u as ae}from"./project-7SCfM68f.js";import{V as re}from"./VueSelect-CeaoYkHk.js";import{M as de}from"./index-D1RHiM9F.js";import{a as ce}from"./basic-tablle-data-AN7MRnVF.js";import{b as ue}from"./menu-BlqYkBdn.js";import"./vue-cleave.min-BqMPJFk5.js";/* empty css                                              */import"./index-CHzOSQ-h.js";/* empty css                                              */import"./TotalTable-Cwp9GymN.js";import"./VueSelect.vue_vue_type_style_index_0_lang-XABNT5P5.js";import"./index-B-jw8vvV.js";import"./av-2-D6_jNZbn.js";import"./v4-D8aEg3BZ.js";import"./transition-BehYXQjK.js";import"./focus-management-DKnT3RdX.js";import"./keyboard-C8YEoqI_.js";import"./use-outside-click-WivoOT8p.js";import"./hidden-1JsWbmcm.js";import"./micro-task-CxIZtCgj.js";import"./open-closed-CLDwNzJK.js";import"./user-1-Dmhlt7-s.js";import"./user-4-_9lLfOE2.js";import"./user-6-Bk4CTUVR.js";import"./use-resolve-button-type-DXZUzXBT.js";const k=J().headers(),me={components:{Dropdown:ie,Select:ee,Button:O,FromGroup:G,EditProject:oe,ComisionarModal:te,AmortizarModal:le,EditProject2:se,Textinput:Q,id:null,otherData:null,Modal:de,Checkbox:Z,InputGroup:$,Icon:L,VueSelect:re,MenuItem:ue,Card:q,ProgressBar:ne},data(){return{advancedTable:ce,idsReservesHotels:[],commissionIds:[],moneyIds:[],searchTerm:"",showEditModal:!1,showReserveModal:!1,selectedTour:null,store:null,formattedTotal:"S/.0.00",formattedTotalHotel:"S/.0.00",totalHotelValue:"0.00",reservasHotel:[],projects:[],filteredRows:[],includeBreakfast:!1,book:{is_breakfast:!1,nro_breakfast:"",start_breakfast:"",end_breakfast:""},originsbooking:[{value:1,label:"Oficina"},{value:2,label:"Colaboradores"},{value:3,label:"Facebook"},{value:4,label:"Whatsapp"},{value:5,label:"Instagram"},{value:6,label:"Página web"}],originsReserve:[{value:5,label:"Sin Asignar"},{value:1,label:"Aeropuerto"},{value:2,label:"Terminar Terrestre"},{value:3,label:"Otros"}],toursOptions:[],customerOptions:[],showReferences:!1,nro_pax_childs:"",nro_pax_adults:"",nro_pax_olds:"",current:1,basicTableData:[{codigo:"HRS2024-000231",nombreHotel:"HOTEL POSADA LODGE (TARAPOTO)",detallehotel:"HAB. TRIPLE (AC) (2 hab. x 6 noches)",contacto:"Cel: 963122673"}],client:{document:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:"",date_birthday:""},tour:{esAbierto:null,tourDescription:null,vehiculo:null,turno:null,nPasajseros:null,fechaTour:null,observacion:null,realizado:null,totalTour:"0.00"},booking:{clients:null,phoneNumber:null,originReserve:null,numPassengers:null,referenciar:!1,numChildren:null,reference_location:null,numAdults:null,numSeniors:null,dateTimeArrival:null,dateArrival:null,timeArrival:null,arrivalBy:null,placeArrivalReference:null,voucherReference:null,emergencyContact:null,emergencyPhone:null,observations:null,isFavorite:!1,includeBreakfast:!1,numBreakfasts:null,startDate:null,endDate:null,total:null},perpage:3,idCliente:null,show:!1,showEdit:!1,showAmortizar:!1,showComisionar:!1,show2:!1,realizado:"--",pageRange:10,actions:[{name:"edit",icon:"heroicons:pencil-square",doit:l=>{this.openModalEdit(l)}},{name:"delete",icon:"heroicons-outline:trash",doit:l=>{this.removeProject(l)}}],vehiculos:[{value:1,label:"Compartido"},{value:2,label:"Privado"}],turnos:[{value:1,label:"Full Day"},{value:2,label:"Mañana"},{value:3,label:"Tarde"},{value:4,label:"Noche"}],columns:[{label:"¿Es Abierto?",field:"abierto"},{label:"Tours Turístico",field:"tour"},{label:"Vehículo",field:"vehiculo"},{label:"Turno",field:"turno"},{label:"N° pax",field:"pasajero"},{label:"Fecha",field:"fecha"},{label:"Observación",field:"observation"},{label:"Realizado",field:"realizado"},{label:"Action",field:"action"}],columnsReservaHotelExpense:[{label:"Habitacion",field:"habitacion"},{label:"N° PAX	",field:"pasajeross"},{label:"Cant. HAB",field:"cantidad"},{label:"Check-In",field:"checkin"},{label:"Check-out",field:"checkout"},{label:"#Noches",field:"noches"},{label:"Precio",field:"precio"},{label:"Descuento",field:"descuento"},{label:"Adicional",field:"adicional"},{label:"Observación",field:"observacion"},{label:"Subtotal",field:"subtotal"},{label:"",field:"action"}],showDeleteButton:!0,idBooking:null,code:null,selectedTourDescription:"",tourOptions:[],totalBooking:null,bedroomOptions:[],rows:[{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"}],columnsReservasAlojamiento:[{label:"Código",field:"code",type:"text",html:!0,width:"100px"},{label:"Nombre del Hotel",field:"nombreHotel",type:"text",html:!0,width:"150px"},{label:"Detalle del Hotel",field:"detallehotel",type:"text",html:!0,width:"250px"},{label:"Acciones",field:"action",type:"text",html:!0,width:"120px"}]}},watch:{selectedTour(l,t){l!==t&&(this.projects.find(s=>s.id===l)?C().warning("¡Este tour ya está seleccionado!"):v.get(`https://thtsystemv2.tech/public/api/v1/tours/description/${l}`,k).then(s=>{const e={id:l,description:s.data.data.description,esAbierto:null,vehiculo:1,turno:s.data.data.shift,nPasajseros:null,fechaTour:null,observacion:null,realizado:null,totalTour:null};this.projects.push(e)}).catch(s=>{console.error("Error al obtener la descripción del tour:",s)}))},"booking.clients":function(l,t){this.idCliente=l,v.get(`https://thtsystemv2.tech/public/api/v1/clients/cellphone&telephone/${l}`,k).then(a=>{this.booking.phoneNumber=a.data.contact_numbers}).catch(a=>{console.error("Error al obtener la descripción del tour:",a)})},"booking.dateTimeArrival"(l){if(l){const[t,a]=l.split(" ");this.booking.dateArrival=t,this.booking.timeArrival=a}else this.booking.dateArrival=null,this.booking.timeArrival=null},"tour.totalTour":function(l){const t=parseFloat(l);(!isNaN(t)||l==="")&&(this.formattedTotal="S/."+(l===""?"0.00":t.toFixed(2)))},totalHotelValue(l){const t=parseFloat(l);(!isNaN(t)||l==="")&&(this.formattedTotalHotel="S/."+(l===""?"0.00":t.toFixed(2)))},$route:{immediate:!0,handler(l,t){const a=l.params.id;this.idBooking=a;const s=JSON.parse(l.query.otherData);if(console.log(s),this.booking.clients=s.client_id,this.booking.originReserve=s.bookingorigin_id,this.booking.numPassengers=s.nro_pax,this.booking.referenciar=s.is_reference_pax===1,this.booking.numChildren=s.nro_pax_childs,this.booking.numAdults=s.nro_pax_adults,this.booking.numSeniors=s.nro_pax_olds,this.booking.dateTimeArrival=s.date_arrival+" "+s.time_arrival,this.booking.dateArrival=s.date_arrival,this.booking.timeArrival=s.time_arrival,this.booking.arrivalBy=s.arrivalplace_id,this.booking.placeArrivalReference=s.arrival_place2,this.booking.voucherReference=s.reference_voucher,this.booking.emergencyContact=s.contact_emergency,this.booking.emergencyPhone=s.telephone_emergency,this.booking.observations=s.observations,this.booking.reference_location=s.reference_location,this.booking.isFavorite=s.is_favorite===1,this.booking.includeBreakfast=s.is_breakfast===1,this.booking.numBreakfasts=s.nro_breakfast,this.booking.startDate=s.start_breakfast,this.booking.endDate=s.end_breakfast,this.booking.total=s.total,this.tour.totalTour=s.subtotal_tour,s.hotelsbookings&&s.hotelsbookings.length>0){const e=s.hotelsbookings.reduce((r,g)=>r+parseFloat(g.total)||0,0);this.totalHotelValue=e}else this.totalHotelValue=0;this.projects=s.tours.map(e=>({id:e.id,esAbierto:e.pivot.is_open===1,description:e.description,vehiculo:e.pivot.vehicle_tour,turno:e.pivot.shift_tour,nPasajseros:e.pivot.quantity,date_assigned:e.pivot.date_assigned,observacion:e.pivot.observation,realizado:e.pivot.is_realized})),s.hotelsbookings!=null&&s.hotelsbookings.length>0&&s.hotelsbookings.forEach(e=>{e.detailbedrooms&&e.detailbedrooms.length>0&&this.reservasHotel.push(...e.detailbedrooms)}),console.log(this.reservasHotel,"SDSDSDSDSD")}}},async created(){await this.fetchClients()},computed:{totalReserva(){const l=isNaN(parseFloat(this.formattedTotal.substring(3)))?0:parseFloat(this.formattedTotal.substring(3)),t=isNaN(parseFloat(this.formattedTotalHotel.substring(3)))?0:parseFloat(this.formattedTotalHotel.substring(3)),a=l+t,s=a.toFixed(2);return this.booking.total=s,"S/."+a.toFixed(2)},limitedCustomerOptions(){return this.customerOptions.slice(0,6)}},methods:{capturarDatos(){},handleCommissionProcessed(l){const a=[l.data.data.id];this.commissionIds=a},handleFormSubmitted(l){const a=[l.data.id];this.moneyIds=a},deleteProject(l){this.projects.splice(l,1)},deleteItem(l,t){window.confirm("¿Estás seguro de que deseas eliminar este elemento?")&&v.delete(`https://thtsystemv2.tech/public/api/v1/hotelsbookings/destroy/${l}`,k).then(a=>{this.reservasHotel.splice(t,1),console.log("1",this.reservasHotel);let s=0;this.reservasHotel.forEach(r=>{r.hotelsbooking&&r.hotelsbooking.total&&(console.log("ReservasHotel: "+r.hotelsbooking.total),s+=parseFloat(r.hotelsbooking.total))}),this.totalHotelValue=s,console.log("2",this.reservasHotel),C().success("Elemento eliminado con éxito",{position:"top-right"})}).catch(a=>{console.error("Error al eliminar el elemento:",a),C().error("Error al eliminar el elemento",{position:"top-right"})})},handlePostComplete(l){console.log(l);let t=0;if(Array.isArray(l.data))l.data.forEach(s=>{this.reservasHotel.push(this.formatReserva(s)),t+=parseFloat(s.total);const e=s.id;this.idsReservesHotels.includes(e)||this.idsReservesHotels.push(e)});else{this.reservasHotel.push(this.formatReserva(l.data)),t+=parseFloat(l.data.total);const s=l.data.id;this.idsReservesHotels.includes(s)||this.idsReservesHotels.push(s)}let a=parseFloat(t);this.totalHotelValue=parseFloat(this.totalHotelValue)+a},calcularTotalHotelValue(){let l=0;this.reservasHotel.forEach(t=>{l+=parseFloat(t.total)}),this.totalHotelValue=l},formatReserva(l){var t,a,s,e;return{code:l.code,hotel:{tradename:((t=l.hotel)==null?void 0:t.tradename)||"",citie_turistic:{description:((s=(a=l.hotel)==null?void 0:a.citie_turistic)==null?void 0:s.description)||""},cellphone:((e=l.hotel)==null?void 0:e.cellphone)||""},detailbedrooms:l.typebedrooms.map(r=>{var g;return{quantity:r.quantity,nights:r.nights,description:((g=r.typebedroom)==null?void 0:g.description)||""}})}},handleAction(l){l.name==="edit"&&this.openModalEdit()},saveReserva(){const l=this.booking.voucherReference?1:0,t=this.booking.includeBreakfast?1:0,a=this.booking.isFavorite?1:0,s={bookingorigin_id:this.booking.originReserve,client_id:this.booking.clients,agency_id:this.booking.agency_id,arrivalplace_id:this.booking.arrivalBy,arrival_place:this.booking.placeArrivalReference,date_arrival:this.booking.dateArrival!=="null"?this.booking.dateArrival:null,time_arrival:this.booking.timeArrival!=="null"?this.booking.timeArrival:null,nro_pax:this.booking.numPassengers,is_reference_pax:this.booking.referenciar,nro_pax_childs:this.booking.numChildren,nro_pax_adults:this.booking.numAdults,nro_pax_olds:this.booking.numSeniors,reference_voucher:this.booking.voucherReference,is_voucher_external:l,observations:this.booking.observations,contact_emergency:this.booking.emergencyContact,telephone_emergency:this.booking.emergencyPhone,reference_location:this.booking.reference_location,subtotal_tour:this.tour.totalTour,subtotal_hotel:this.totalHotelValue,total:this.booking.total,is_favorite:a,is_breakfast:t,nro_breakfast:this.booking.numBreakfasts,start_breakfast:this.booking.startDate,end_breakfast:this.booking.endDate,tours:this.projects.map(e=>({id:e.id,vehicle_tour:e.vehiculo,shift_tour:e.turno,quantity:e.nPasajseros,date_assigned:e.date_assigned,observation:e.observacion,is_open:e.esAbierto})),hotelsbooking_ids:this.idsReservesHotels,commission_ids:this.commissionIds,money_ids:this.moneyIds};v.post(`https://thtsystemv2.tech/public/api/v1/bookings/edit/${this.idBooking}`,s,{...k}).then(e=>{C().success(e.data.message,{duration:3e3});const g=e.data.data.id;setTimeout(()=>{this.$router.push({name:"reserve-preview",params:{id:g}})},3e3)}).catch(e=>{C().error("Error al enviar los datos al backend",{duration:3e3})})},toggleReferences(){this.showReferences=!this.showReferences},openModal(){this.showEditModal=!0},openModalEdit(){this.showEdit=!this.showEdit},openModalComisionar(){this.showComisionar=!0},openModalAmortizar(){this.idCliente=this.idCliente,this.totalBooking=this.booking.total,this.showAmortizar=!0},handleComisionEnviada(l){},openModalReservaHotel(){this.showReserveModal=!0,this.showDeleteButton=!1},async fetchClients(){try{const l=await v.get("https://thtsystemv2.tech/public/api/v1/clients/list",k);this.customerOptions=l.data.data.map(t=>({value:t.id,label:t.fullname}))}catch(l){console.error("Error fetching departments:",l)}},async fetchHotelsBooking(){try{const l=await v.get("https://thtsystemv2.tech/public/api/v1/clients/list",k);this.customerOptions=l.data.data.map(t=>({value:t.id,label:t.fullname}))}catch(l){console.error("Error fetching departments:",l)}},fetchData(){const l=this.$route.params.id;v.get(`https://thtsystemv2.tech/public/api/v1/bookings/record/${l}`,k).then(t=>{const a=t.data.data;this.code=a.book.code}).catch(t=>{console.error("Error fetching invoice data:",t)})},async fetchTours(){try{const l=await v.get("https://thtsystemv2.tech/public/api/v1/tours/list",k);this.tourOptions=l.data.data.map(t=>({value:t.id,label:t.description}))}catch(l){console.error("Error fetching tours:",l)}}},created(){this.store=ae()},mounted(){this.fetchData(),this.fetchClients(),this.fetchTours()}},_=l=>(X("data-v-fbb36877"),l=l(),Y(),l),he={class:"grid grid-cols-1 lg:grid-cols-1 gap-5"},pe={class:"grid grid-cols-3 gap-5"},be={class:"flex items-center"},ge={class:"grid grid-cols-3 gap-5"},fe={style:{display:"flex","align-items":"center"}},ve={key:0},ke={class:"flex items-center"},_e={class:"grid grid-cols-4 gap-5"},xe={class:"grid grid-cols-3 gap-5"},ye={key:0,class:"form-group col-lg-9"},Ve={class:"flex"},Ce={class:"flex flex-col w-1/2 mr-4"},Ae={class:"flex flex-col w-1/2"},we={class:"flex flex-col w-1/2"},Re={class:"grid grid-cols-1"},Te={class:"flex flex-col"},je={class:"border-b border-slate-100 dark:border-slate-700 pb-3 flex justify-between items-center"},He=_(()=>i("div",{class:"flex items-center"},[i("h6",{class:"card-title mb-0"},"Datos de Tours turístico")],-1)),Pe={class:"flex items-center"},Ee={class:"flex-grow mr-2"},Fe={key:0},Se={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Ue={key:4,class:"block w-full"},Be={key:5},De={key:6,class:"block w-full"},Me={key:7},Ie={key:0,style:{position:"relative"}},Ne={key:8,class:"action-btn text-end mr-3"},ze=["onClick"],Oe={class:"mt-5 self-end"},qe={class:"grid grid-cols-1"},Ge={class:"flex flex-col"},Le={class:"md:flex pb-6 items-center"},Je=_(()=>i("h6",{class:"flex-1 md:mb-0 mb-3"},"Reservas de Alojamiento",-1)),We={class:"md:flex md:space-x-3 items-center flex-none rtl:space-x-reverse"},Xe={key:0,class:"text-blue-900 font-bold"},Ye={key:1,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},Ke={class:"font-bold"},Qe=_(()=>i("br",null,null,-1)),Ze={key:2,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},$e={key:3,class:"action-btn text-end mr-3"},eo={class:"text-xl"},oo={class:"mt-5 self-end"},to={class:"grid grid-cols-1 lg:grid-cols-1 gap-5"},lo={class:"grid grid-cols-3 gap-5"},so={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},io=_(()=>i("div",{class:"lg:col-span-1"},null,-1)),no={class:"lg:col-span-3 flex justify-end"},ao={class:"flex justify-center"},ro={class:"flex justify-center"},co={class:"w-full"},uo=_(()=>i("th",null,"Total tours",-1)),mo=_(()=>i("th",null,"Total hotel",-1)),ho=_(()=>i("tr",null,[i("td",{colspan:"2"},[i("hr",{class:"book__summary__hrdivider"})])],-1)),po=_(()=>i("th",{class:"text-primary bold text-uppercase f-s-15"},"Total reserva",-1)),bo={class:"text-primary bold f-s-15"};function go(l,t,a,s,e,r){const g=b("Select"),x=b("FromGroup"),h=b("Textinput"),A=b("Checkbox"),y=b("InputGroup"),w=b("flat-pickr"),V=b("Card"),P=b("Icon"),E=b("vue-good-table"),T=b("Button"),M=b("EditProject"),I=b("EditProject2"),N=b("ComisionarModal"),z=b("AmortizarModal");return d(),u("div",null,[n(V,{title:"Datos Generales"},{default:p(()=>[i("div",he,[i("div",pe,[i("div",be,[n(x,{label:"Clientes",class:"flex-1"},{default:p(()=>[n(g,{options:r.limitedCustomerOptions,modelValue:e.booking.clients,"onUpdate:modelValue":t[0]||(t[0]=o=>e.booking.clients=o),class:"client-select"},null,8,["options","modelValue"])]),_:1}),i("button",{onClick:t[1]||(t[1]=(...o)=>r.openModal&&r.openModal(...o)),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),n(h,{label:"Número teléfono",type:"text",placeholder:"Tel 1",modelValue:e.booking.phoneNumber,"onUpdate:modelValue":t[2]||(t[2]=o=>e.booking.phoneNumber=o)},null,8,["modelValue"]),n(x,{label:"Origen de Reserva",class:"flex-1"},{default:p(()=>[n(g,{options:e.originsbooking,modelValue:e.booking.originReserve,"onUpdate:modelValue":t[3]||(t[3]=o=>e.booking.originReserve=o),class:"client-select"},null,8,["options","modelValue"])]),_:1})]),i("div",ge,[i("div",fe,[n(h,{label:"N° Pax",type:"text",placeholder:"N° pax",modelValue:e.booking.numPassengers,"onUpdate:modelValue":t[4]||(t[4]=o=>e.booking.numPassengers=o)},null,8,["modelValue"]),n(A,{label:"¿Referenciar?",checked:e.booking.referenciar,onClick:r.toggleReferences,modelValue:e.booking.referenciar,"onUpdate:modelValue":t[5]||(t[5]=o=>e.booking.referenciar=o)},null,8,["checked","onClick","modelValue"])]),e.booking.referenciar?(d(),u("div",ve,[n(x,{label:"Referencia de pasajeros:",class:"flex-1"},{default:p(()=>[i("div",ke,[n(y,{name:"nro_pax_childs",type:"text",placeholder:"N° niños",modelValue:e.booking.numChildren,"onUpdate:modelValue":t[6]||(t[6]=o=>e.booking.numChildren=o),prepend:"#Niños"},null,8,["modelValue"]),n(y,{name:"nro_pax_adults",type:"text",placeholder:"N° adultos",modelValue:e.booking.numAdults,"onUpdate:modelValue":t[7]||(t[7]=o=>e.booking.numAdults=o),prepend:"#Adultos"},null,8,["modelValue"]),n(y,{name:"nro_pax_olds",type:"text",placeholder:"N° ancianos",modelValue:e.booking.numSeniors,"onUpdate:modelValue":t[8]||(t[8]=o=>e.booking.numSeniors=o),prepend:"#Ancianos"},null,8,["modelValue"])])]),_:1})])):m("",!0),n(x,{label:"Fecha y hora llegada"},{default:p(()=>[n(w,{modelValue:e.booking.dateTimeArrival,"onUpdate:modelValue":t[9]||(t[9]=o=>e.booking.dateTimeArrival=o),class:"form-control",placeholder:"Date & Time",id:"d2",config:{enableTime:!0,dateFormat:"Y-m-d H:i"}},null,8,["modelValue"])]),_:1}),n(x,{label:"Llegada por"},{default:p(()=>[n(g,{options:e.originsReserve,modelValue:e.booking.arrivalBy,"onUpdate:modelValue":t[10]||(t[10]=o=>e.booking.arrivalBy=o),class:"client-select"},null,8,["options","modelValue"])]),_:1}),n(h,{label:"Referencia lugar llegada",type:"text",placeholder:"Referencia lugar llegada",modelValue:e.booking.placeArrivalReference,"onUpdate:modelValue":t[11]||(t[11]=o=>e.booking.placeArrivalReference=o)},null,8,["modelValue"])]),i("div",_e,[n(h,{label:"N° ref. comprobante",type:"text",placeholder:"N° ref. comprobante",modelValue:e.booking.voucherReference,"onUpdate:modelValue":t[12]||(t[12]=o=>e.booking.voucherReference=o)},null,8,["modelValue"]),n(h,{label:"Contacto emergencia",type:"text",placeholder:"Contacto emergencia",modelValue:e.booking.emergencyContact,"onUpdate:modelValue":t[13]||(t[13]=o=>e.booking.emergencyContact=o)},null,8,["modelValue"]),n(h,{label:"Tel. emergencia",type:"text",placeholder:"Tel. emergencia",modelValue:e.booking.emergencyPhone,"onUpdate:modelValue":t[14]||(t[14]=o=>e.booking.emergencyPhone=o)},null,8,["modelValue"]),n(h,{label:"Observaciones",type:"text",placeholder:"Observaciones",modelValue:e.booking.observations,"onUpdate:modelValue":t[15]||(t[15]=o=>e.booking.observations=o)},null,8,["modelValue"])]),i("div",xe,[i("div",null,[n(A,{label:"¿Es favorito (reserva)?",checked:e.booking.isFavorite,modelValue:e.booking.isFavorite,"onUpdate:modelValue":t[16]||(t[16]=o=>e.booking.isFavorite=o)},null,8,["checked","modelValue"])]),i("div",null,[n(A,{label:"¿Incluye desayuno?",checked:e.booking.includeBreakfast,modelValue:e.booking.includeBreakfast,"onUpdate:modelValue":t[17]||(t[17]=o=>e.booking.includeBreakfast=o)},null,8,["checked","modelValue"])]),e.booking.includeBreakfast?(d(),u("div",ye,[i("div",Ve,[i("div",Ce,[n(h,{label:"N° Desayunos",type:"text",placeholder:"Ingrese número",modelValue:e.booking.numBreakfasts,"onUpdate:modelValue":t[18]||(t[18]=o=>e.booking.numBreakfasts=o)},null,8,["modelValue"])]),i("div",Ae,[n(x,{label:"Fecha Inicio",name:"d1"},{default:p(()=>[n(w,{modelValue:e.booking.startDate,"onUpdate:modelValue":t[19]||(t[19]=o=>e.booking.startDate=o),class:"form-control",id:"d1",placeholder:"yyyy, dd M"},null,8,["modelValue"])]),_:1})]),i("div",we,[n(x,{label:"Fecha Fin",name:"d1"},{default:p(()=>[n(w,{modelValue:e.booking.endDate,"onUpdate:modelValue":t[20]||(t[20]=o=>e.booking.endDate=o),class:"form-control",id:"d1",placeholder:"yyyy, dd M"},null,8,["modelValue"])]),_:1})])])])):m("",!0)])])]),_:1}),n(V,{class:"mt-4",noborder:""},{default:p(()=>[i("div",Re,[i("div",Te,[i("header",je,[He,i("div",Pe,[i("div",Ee,[n(g,{options:e.tourOptions,modelValue:e.selectedTour,"onUpdate:modelValue":t[21]||(t[21]=o=>e.selectedTour=o),placeholder:"Seleccionar Tipo",class:"w-full"},null,8,["options","modelValue"])])])]),n(E,{class:"-mx-6 mb-5",columns:e.columns,styleClass:"vgt-table table-head v-middle striped lesspadding2 listview",rows:e.projects,"pagination-options":{enabled:!1,perPage:e.perpage},"sort-options":{enabled:!1}},{"table-row":p(o=>[o.column.field=="abierto"?(d(),u("span",Fe,[i("div",Se,[n(A,{modelValue:e.projects[o.index].esAbierto,"onUpdate:modelValue":c=>e.projects[o.index].esAbierto=c,checked:e.projects[o.index].esAbierto},null,8,["modelValue","onUpdate:modelValue","checked"])])])):m("",!0),o.column.field=="tour"?(d(),u("span",{key:1,style:B({color:e.projects[o.index].esAbierto?"red":""}),class:j([{"text-underline-red":e.projects[o.index].esAbierto},"text-slate-500 dark:text-slate-400 block min-w-[208px]"])},[R(f(o.row.description)+" ",1),e.projects[o.index].esAbierto?(d(),u(W,{key:0},[R(" (Estado abierto) ")],64)):m("",!0)],6)):m("",!0),o.column.field=="vehiculo"?(d(),u("span",{key:2,class:j([{"text-underline-red":e.projects[o.index].esAbierto&&o.column.field=="vehiculo"},"text-slate-500 dark:text-slate-400 block min-w-[108px]"])},[n(g,{options:e.vehiculos,modelValue:e.projects[o.index].vehiculo,"onUpdate:modelValue":c=>e.projects[o.index].vehiculo=c},null,8,["options","modelValue","onUpdate:modelValue"])],2)):m("",!0),o.column.field=="turno"?(d(),u("span",{key:3,class:j([{"text-underline-red":e.projects[o.index].esAbierto&&o.column.field=="turno"},"text-slate-500 dark:text-slate-400 block min-w-[108px]"])},[n(g,{options:e.turnos,modelValue:e.projects[o.index].turno,"onUpdate:modelValue":c=>e.projects[o.index].turno=c},null,8,["options","modelValue","onUpdate:modelValue"])],2)):m("",!0),o.column.field=="pasajero"?(d(),u("span",Ue,[n(h,{type:"text",placeholder:"N° pax",modelValue:e.projects[o.index].nPasajseros,"onUpdate:modelValue":c=>e.projects[o.index].nPasajseros=c},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),o.column.field=="fecha"?(d(),u("span",Be,[e.projects[o.index].esAbierto?(d(),H(h,{key:1,type:"text",placeholder:"Sin asignar Fecha",disabled:""})):(d(),H(w,{key:0,class:"form-control",id:"d1",placeholder:"yyyy, dd M",modelValue:e.projects[o.index].date_assigned,"onUpdate:modelValue":c=>e.projects[o.index].date_assigned=c},null,8,["modelValue","onUpdate:modelValue"]))])):m("",!0),o.column.field=="observation"?(d(),u("span",De,[n(h,{type:"text",placeholder:"Observación",modelValue:e.projects[o.index].observacion,"onUpdate:modelValue":c=>e.projects[o.index].observacion=c},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),o.column.field=="realizado"?(d(),u("span",Me,[e.projects[o.index].esAbierto?(d(),u("div",Ie,[i("span",{style:B({color:e.projects[o.index].esAbierto?"red":""})},[n(h,{type:"text",class:"text-danger-500",placeholder:"---",modelValue:e.projects[o.index].realizado,"onUpdate:modelValue":c=>e.projects[o.index].realizado=c,disabled:""},null,8,["modelValue","onUpdate:modelValue"])],4)])):(d(),H(h,{key:1,type:"text",placeholder:"-",modelValue:e.projects[o.index].realizado,"onUpdate:modelValue":c=>e.projects[o.index].realizado=c,disabled:""},null,8,["modelValue","onUpdate:modelValue"]))])):m("",!0),o.column.field=="action"?(d(),u("div",Ne,[i("div",{class:"text-xl",onClick:c=>r.deleteProject(o.index)},[n(P,{icon:"heroicons-outline:trash",class:"text-danger-500"})],8,ze)])):m("",!0)]),_:1},8,["columns","rows","pagination-options"]),i("div",Oe,[n(y,{label:"T. TOURS S/. ",class:"append",name:"hi_Fullname",modelValue:e.tour.totalTour,"onUpdate:modelValue":t[22]||(t[22]=o=>e.tour.totalTour=o),type:"text",placeholder:"",horizontal:"",appendIcon:"heroicons-outline:cash",classInput:"text-right"},null,8,["modelValue"])])])])]),_:1}),n(V,{class:"mt-4",noborder:""},{default:p(()=>[i("div",qe,[i("div",Ge,[i("div",Le,[Je,i("div",We,[n(T,{icon:"heroicons-outline:plus-sm",text:"Agregar Reserva",btnClass:" btn-dark font-normal btn-sm ",iconClass:"text-lg",onClick:D(r.openModalReservaHotel,["prevent"])},null,8,["onClick"])])]),n(E,{class:"-mx-6",columns:e.columnsReservasAlojamiento,styleClass:"vgt-table table-head v-middle striped listview",rows:e.reservasHotel,"sort-options":{enabled:!1}},{"table-row":p(o=>{var c,F,S,U;return[o.column.field=="code"?(d(),u("span",Xe,f(o.row.hotelsbooking.code),1)):m("",!0),o.column.field=="nombreHotel"?(d(),u("span",Ye,[i("span",Ke,f((c=o.row.hotel)==null?void 0:c.tradename),1),R("( "+f((S=(F=o.row.hotel)==null?void 0:F.citie_turistic)==null?void 0:S.description)+") ",1),Qe,R(" Cell: "+f((U=o.row.hotel)==null?void 0:U.cellphone),1)])):m("",!0),o.column.field=="detallehotel"?(d(),u("span",Ze,f(`${o.row.typebedroom.description} (${o.row.quantity} hab. x ${o.row.nights} noches)`),1)):m("",!0),o.column.field==="action"&&e.showDeleteButton?(d(),u("div",$e,[i("div",eo,[n(P,{icon:"heroicons-outline:trash",class:"text-danger-500",onClick:D(fo=>r.deleteItem(o.row.hotelsbooking_id),["prevent"])},null,8,["onClick"])])])):m("",!0)]}),_:1},8,["columns","rows"]),i("div",oo,[n(y,{label:"T. HOTEL S/. ",class:"append",name:"hi_Fullname",modelValue:e.totalHotelValue,"onUpdate:modelValue":t[23]||(t[23]=o=>e.totalHotelValue=o),type:"text",placeholder:"",horizontal:"",appendIcon:"heroicons-outline:cash",classInput:"text-right"},null,8,["modelValue"])])])])]),_:1}),n(V,{class:"mt-4",noborder:""},{default:p(()=>[i("div",to,[i("div",lo,[n(h,{label:"Ubicación y referencias para recojo del turista",type:"text",placeholder:"Referencia lugar llegada",modelValue:e.booking.reference_location,"onUpdate:modelValue":t[24]||(t[24]=o=>e.booking.reference_location=o)},null,8,["modelValue"])])])]),_:1}),i("div",so,[io,i("div",no,[n(T,{text:"Cancelar",btnClass:"btn-light mr-2",onClick:t[25]||(t[25]=o=>l.closeModal())}),n(T,{type:"submit",text:"Guardar Reserva",onClick:t[26]||(t[26]=o=>r.saveReserva()),btnClass:"btn-dark"})])]),i("div",ao,[n(V,{class:"mb-0 book__summary max-w-md"},{default:p(()=>[i("div",ro,[i("table",co,[i("tr",null,[uo,i("td",null,f(e.formattedTotal),1)]),i("tr",null,[mo,i("td",null,f(e.formattedTotalHotel),1)]),ho,i("tr",null,[po,i("td",bo,f(r.totalReserva),1)])])])]),_:1})]),n(M,{activeModal:e.showEditModal,onClose:t[27]||(t[27]=o=>e.showEditModal=!1),title:"Actualizar Registro de Colaborador",onUpdateClientList:r.fetchClients},null,8,["activeModal","onUpdateClientList"]),n(I,{activeModal:e.showReserveModal,title:"Actualizar Registro de Colaborador",onPostComplete:r.handlePostComplete,idCliente:e.idCliente,code:e.code,onClose:t[28]||(t[28]=o=>e.showReserveModal=!1)},null,8,["activeModal","onPostComplete","idCliente","code"]),n(N,{activeModal:e.showComisionar,title:"Actualizar Registro de Colaborador",onCommissionProcessed:r.handleCommissionProcessed,onClose:t[29]||(t[29]=o=>e.showComisionar=!1)},null,8,["activeModal","onCommissionProcessed"]),n(z,{activeModal:e.showAmortizar,title:"Actualizar Registro de Colaborador",onFormSubmitted:r.handleFormSubmitted,idCliente:e.idCliente,totalBooking:e.booking.total,onClose:t[30]||(t[30]=o=>e.showAmortizar=!1)},null,8,["activeModal","onFormSubmitted","idCliente","totalBooking"])])}const tt=K(me,[["render",go],["__scopeId","data-v-fbb36877"]]);export{tt as default};
