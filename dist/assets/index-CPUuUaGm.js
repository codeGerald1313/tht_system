import{_ as E}from"./Breadcrumbs-D3XVhjfQ.js";import{C as S}from"./index-Hsd0Z0_R.js";import{B as D}from"./index-DCMPjbua.js";import{F as j}from"./index-I9bOp0dW.js";import{I as _}from"./index-BcFOD9Ey.js";import{T as b}from"./index-BAo57mri.js";import{P as f}from"./index-vl95iEIB.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{D as M,_ as V}from"./SelectMonth-D6P3Lsyx.js";import{s as F,a as R,b as $,c as I}from"./shade-4-BPphsoTg.js";import{u as A,b as N,J as g,d as s,f as a,e as i,h as r,c,o as l,t as p,p as d,i as h,w as H}from"./index-BLl1OigC.js";import"./index-B_wjOnuw.js";/* empty css                                              */import"./vue-tailwind-datepicker-DbcSElnr.js";import"./index-DPFbVGd7.js";import"./index-DFq5MbAK.js";import"./menu-CM83wd2-.js";import"./keyboard-9WePWYgZ.js";import"./use-outside-click-CPWvQZIF.js";import"./focus-management-Dc3XsveG.js";import"./use-resolve-button-type-BwPomRAb.js";import"./open-closed-0CPOhxDd.js";import"./listbox-DocmzjGv.js";import"./hidden-BR_kr5_G.js";const L={components:{Pagination:f,Icon:_,Tooltip:b},data(){return{}}};function U(e,n,C,v,o,m){return null}const W=x(L,[["render",U],["__scopeId","data-v-095bb5b0"]]),G=A().headers(),J={components:{Card:S,Button:D,Tooltip:b,Pagination:f,Icon:_,CrmTable:W,DropEvent:M,FromGroup:j,SelectMonth:V,Breadcrumb:E},data(){return{advancedTable:[],toast:N(),current:1,perpage:10,pageRange:5,searchTerm:"",options:[{value:"1",label:"1"},{value:"3",label:"3"},{value:"5",label:"5"}],columns:[{label:"Caja",field:"branch_box"},{label:"Fecha Apertura	",field:"date_opening"},{label:"Monto Apertura	",field:"amount_opening"},{label:"Fecha Cierre	",field:"date_closing"},{label:"Monto Cierre	",field:"amount_closing"},{label:"Usuario	",field:"user"},{label:"Action",field:"action"}],reloadKey:0,rangeDate:null,statistics:[{title:"Sales",count:"354",bg:"bg-warning-500",text:"text-primary-500",percent:"25.67% ",icon:"heroicons:arrow-trending-up",img:F,percentClass:"text-primary-500"},{title:"Revenue ",count:"$86,954",bg:"bg-info-500",text:"text-primary-500",percent:"8.67%",icon:"heroicons:arrow-trending-up",img:R,percentClass:"text-primary-500"},{title:"Conversion",count:"15%",bg:"bg-primary-500",text:"text-danger-500",percent:"1.67%  ",icon:"heroicons:arrow-trending-down",img:$,percentClass:"text-danger-500"},{title:"Leads",count:"654",bg:"bg-success-500",text:"text-primary-500",percent:"11.67%  ",icon:"heroicons:arrow-trending-up",img:I,percentClass:"text-primary-500"}],Campaigns:[{name:"Channel",value:"roi"},{name:"Email",value:"40%"},{name:"Website",value:"28%"},{name:"Facebook",value:"34%"},{name:"Offline",value:"17%"}]}},methods:{handleVerDocumento(e){g.get(`https://thtbackend-production.up.railway.app/api/v1/list-box-cuadre/${e}`).then(n=>{}).catch(n=>{console.error("Error al obtener la URL del PDF:",n),window.open(n.config.url,"_blank")})},async reloadCrmTable(){try{await this.fetchMoneyBoxes()}catch(e){console.error("Error al recargar Cajas de Dinero :",e)}},showSuccessToast(e){this.toast.success(e,{position:"top-right",timeout:3e3})},showErrorToast(e){this.toast.error(e,{position:"top-right",timeout:3e3})},fetchMoneyBoxes(){g.get("https://thtbackend-production.up.railway.app/api/v1/moneyboxes/list-normally",G).then(e=>{this.advancedTable=e.data.data,console.log(this.advancedTable),this.showSuccessToast("Historial de caja recuperado correctamente!")}).catch(e=>{console.error("Error al obtener los registros de dinero:",e),this.showErrorToast("Error al obtener el Historial de caja. Por favor, intÃ©ntalo de nuevo.")})}},mounted(){this.fetchMoneyBoxes()}},K={class:"card-auto space-y-5"},O={class:"-mx-6"},q={key:0,class:"font-medium",style:{fontWeight:"bold"}},z={key:1,class:"font-medium text-blue-500"},Q={key:2,class:"font-medium text-purple-500"},X={key:3,class:"font-medium"},Y=a("br",null,null,-1),Z={key:4},ee={class:"flex space-x-3 justify-center rtl:space-x-reverse"},te=["onClick"],oe=a("span",null,"Ver Cuadre",-1),ae={class:"py-4 px-3 flex justify-center"};function ne(e,n,C,v,o,m){const y=c("Button"),w=c("Icon"),T=c("Tooltip"),k=c("Pagination"),B=c("vue-good-table"),P=c("Card");return l(),s("div",null,[a("div",K,[i(P,{title:"Historial de Caja",noborder:""},{header:r(()=>[i(y,{icon:"heroicons-outline:arrow-path",btnClass:" btn-outline-secondary text-slate-600 dark:border-slate-700 dark:text-slate-300 font-normal btn-sm ",iconClass:"text-lg",onClick:m.reloadCrmTable},null,8,["onClick"])]),default:r(()=>[a("div",O,[a("div",null,[i(B,{columns:o.columns,styleClass:" vgt-table  lesspadding2 centered ",rows:o.advancedTable,"pagination-options":{enabled:!0,perPage:o.perpage},"sort-options":{enabled:!1}},{"table-row":r(t=>[t.column.field=="branch_box"?(l(),s("span",q,p(t.row.branch_box.description),1)):d("",!0),t.column.field=="amount_opening"?(l(),s("span",z," S/. "+p(t.row.amount_opening),1)):d("",!0),t.column.field=="amount_closing"?(l(),s("span",Q," S/. "+p(t.row.amount_closing),1)):d("",!0),t.column.field=="user"?(l(),s("span",X,[h(p(t.row.user.name)+" ",1),Y])):d("",!0),t.column.field=="action"?(l(),s("span",Z,[a("div",ee,[i(T,{placement:"top",arrow:"",theme:"info-500"},{button:r(()=>[a("div",{class:"action-btn",onClick:H(u=>m.handleVerDocumento(t.row.id),["prevent"])},[i(w,{class:"text-2xl",icon:"heroicons-outline:clipboard-document-check"})],8,te)]),default:r(()=>[oe]),_:2},1024)])])):d("",!0)]),"pagination-bottom":r(t=>[a("div",ae,[i(k,{total:o.advancedTable.length,current:o.current,"per-page":o.perpage,pageRange:o.pageRange,onPageChanged:n[0]||(n[0]=u=>o.current=u),pageChanged:t.pageChanged,perPageChanged:t.perPageChanged,enableSearch:"",enableSelect:"",options:o.options},{default:r(()=>[h(" > ")]),_:2},1032,["total","current","per-page","pageRange","pageChanged","perPageChanged","options"])])]),_:1},8,["columns","rows","pagination-options"])])])]),_:1})])])}const Se=x(J,[["render",ne]]);export{Se as default};
