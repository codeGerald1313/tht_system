import{C as T}from"./index-COOwjdNO.js";import{B as C}from"./index-CRJE58yX.js";import{I as A}from"./index-BffMpWx5.js";import{T as I}from"./TotalTable-C3szSPF8.js";import{M as N}from"./index-2mWc_vCg.js";import{B as O}from"./index-CvW4wJPB.js";import{u as y}from"./project-BEvoPr6t.js";import{u as D,B as g,d as o,f as e,e as n,g as h,c as b,o as a,p as P,t as l,F as c,m as v,h as x,q as p,w as S}from"./index-BFn_3Gdk.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                              */import"./transition-DUAAdbaG.js";import"./focus-management-C7_eiYjk.js";import"./keyboard-CmTzE63w.js";import"./use-outside-click-RVZZ1L_X.js";import"./hidden-Br4jqfTk.js";import"./micro-task-CxIZtCgj.js";import"./open-closed-Bo1bAx4t.js";import"./av-2-D6_jNZbn.js";import"./v4-D8aEg3BZ.js";y();const k=D().headers(),E={data(){return{show:!1,responseData:[],responseDataGroup:[],columnsTraspase:[{label:"N° pax",field:"pasajero"},{label:"Responsable y Código	",field:"responsablecode"},{label:"Porforma",field:"proforma"},{label:"Hotel / Ubicacion	",field:"hotelubi"},{label:"Teléfonos",field:"telephone"},{label:"Observaciones	",field:"observaciones"},{label:"Deuda	",field:"deuda"}],columnsTraspase2:[{label:"Nombre Tours",field:"tour"},{label:"N° PAX	",field:"pasajerosdetail"},{label:"Vehículo",field:"vehiculo"},{label:"Turno",field:"turno"},{label:"F. asignada",field:"fasignada"},{label:"Estado	",field:"estado"},{label:"F. realizada	",field:"frealizada"},{label:"Obs.	",field:"obs"}],columnsResumenTotal:[{label:"TOTAL TOURS	",field:"totaltours"},{label:"TOTAL HOTEL",field:"totalhotel"},{label:"TOTAL PAGAR",field:"totalpagar"},{label:"PAGADO",field:"pagado"},{label:"DEUDA",field:"deuda"},{label:"FACTURADO",field:"facturado"}],columnsReservasAlojamiento:[{label:"Código",field:"codigo"},{label:"Nombre Hotel",field:"nombreHotel"},{label:"Detalle Hab.	",field:"detallehotel"},{label:"Action",field:"action"}],columnsComprobantes:[{label:"Tipo comprobante	",field:"tipocomprobante"},{label:"N° comprobante	",field:"ncomprobante"},{label:"Fecha",field:"fecha"},{label:"Método pago	",field:"metodopago"},{label:"Pagado",field:"pagadoc"},{label:"",field:"filedocumentcomrobante"}],group:{destino:null,group_tour_id:null,tour_id:null,transport_id:null,guide:null,cellphoneGuide:null,cellPhoneTransport:null,trasnport:null,capacityTransport:null,placaTranport:null,date_departure:null,code:"",pasajerosSeleccionados:null,correlative:null,capacity_vehicle:null,capacity_selected:null,viatic_assigned:null,is_generated:!1,is_confirmed:!1,observations:"",group_is_confirmed:null},otherData2:{},columnsComisiones:[{label:"Nombre mototaxista",field:"mototaxista"},{label:"Empresa",field:"empresa"},{label:"Fecha",field:"fechacomision"},{label:"COMISIÓN HOTEL	",field:"comisionhotel"},{label:"COMISIÓN TOURS	",field:"comisiontours"},{label:"TOTAL COMISIÓN",field:"totalcomision"}],idGrupo:null}},components:{Card:T,Icon:A,Button:O,TotalTable:I,Modal:N,Breadcrumb:C},methods:{print(){window.print()},hasHotelInfo(r){return r.hotel_tradename||r.hotel_document||r.hotel_address},retroceder(){window.location.href="/app/grupo"},openModal(r){this.$router.push({name:"reserve-preview",params:{id:r}})},editar(){this.$router.push({name:"grupo-edit",params:{group_id:this.idGrupo},query:{group_data:JSON.stringify(this.otherData2)}})},hasTourInformation(r){return r.tours&&Array.isArray(r.tours)&&r.tours.length>0},groupTourIdFromPivot(r){if(r.tours&&Array.isArray(r.tours)&&r.tours.length>0){const s=r.tours.find(m=>m.id===this.group.group_tour_id);return s?s.id:null}return null}},created(){this.store=y()},mounted(){const r=this.$route.params.group_id;this.idGrupo=r,g.get(`https://thtsystemv2.tech/public/api/v1/groups/record/${r}`,k).then(s=>{this.responseData=s.data.data.bookingTours,this.group.destino=s.data.data.group.tour_description,this.group.group_tour_id=s.data.data.group.group_tour_id,this.group.code=s.data.data.group.group_code,this.group.date_departure=s.data.data.groupCreatedAt,this.group.pasajerosSeleccionados=s.data.data.group.group_capacity_selected,this.group.cellphoneGuide=s.data.data.group.guide_cellphone,this.group.cellPhoneTransport=s.data.data.group.transport_cellphone,this.group.guide=s.data.data.group.guide_fullname,this.group.trasnport=s.data.data.group.transport_owner,this.group.placaTranport=s.data.data.group.transport_license_plate,this.group.capacityTransport=s.data.data.group.transport_capacity,this.group.observations=s.data.data.group.group_observations,this.group.group_is_confirmed=s.data.data.group.group_is_confirmed}),g.get(`https://thtsystemv2.tech/public/api/v1/groups/record-edit-grupo/${r}`,k).then(s=>{this.otherData2=s.data.data}).catch(s=>{console.error("Error fetching invoice data:",s)})}},F={class:"lg:flex justify-between flex-wrap items-center"},G={class:"text-xl"},B=e("span",null,"Retroceder",-1),M={class:"flex lg:justify-end items-center flex-wrap"},L={class:"text-lg"},R=e("span",null,"Imprimir",-1),H={class:"text-lg"},U=e("span",null,"Editar",-1),V={class:"max-w-[980px] mx-auto shadow-base dark:shadow-none my-8 rounded-md overflow-x-auto mt-5"},q={class:"lg:col-span-4 col-span-12"},z={class:"grid grid-cols-3 gap-8"},J={class:"list space-y-8"},X={class:"flex space-x-3 rtl:space-x-reverse"},K={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},Q={class:"flex-1"},W=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Destino ",-1),Y={class:"text-base text-slate-600 dark:text-slate-50 font-bold"},Z={class:"list space-y-8"},$={class:"flex space-x-3 rtl:space-x-reverse"},ee={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},te={class:"flex-1"},se=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Estado ",-1),oe={key:0,class:"text-base text-slate-600 dark:text-slate-50 bg-yellow-500 border border-yellow-500 px-3 py-1 rounded"},ae={key:1,class:"text-base text-slate-600 dark:text-slate-50 bg-blue-500 border border-blue-500 px-3 py-1 rounded"},le={class:"list space-y-8"},re={class:"flex space-x-3 rtl:space-x-reverse"},ie={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},ne={class:"flex-1"},de=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Codigo ",-1),ce={class:"text-base text-blue-900 dark:text-blue-300 font-bold"},ue={class:"list space-y-8"},pe={class:"flex space-x-3 rtl:space-x-reverse"},_e={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},xe={class:"flex-1"},he=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Fecha de Salida ",-1),be={class:"text-base text-slate-600 dark:text-slate-50"},me={class:"list space-y-8"},fe={class:"flex space-x-3 rtl:space-x-reverse"},ge={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},ve={class:"flex-1"},ke=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Guía de viaje ",-1),ye={class:"text-base text-slate-600 dark:text-slate-50"},we={class:"list space-y-8"},Te={class:"flex space-x-3 rtl:space-x-reverse"},Ce={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},Ae={class:"flex-1"},Ie=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Transporte ",-1),Ne={class:"text-base text-slate-600 dark:text-slate-50"},Oe={class:"list space-y-8"},De={class:"flex space-x-3 rtl:space-x-reverse"},Pe={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},Se={class:"flex-1"},je=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Capacidad Transporte ",-1),Ee={class:"text-base text-slate-600 dark:text-slate-50"},Fe={class:"list space-y-8"},Ge={class:"flex space-x-3 rtl:space-x-reverse"},Be={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},Me={class:"flex-1"},Le=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Pasajeros ",-1),Re={class:"text-base text-slate-600 dark:text-slate-50 font-bold"},He={class:"list space-y-8"},Ue={class:"flex space-x-3 rtl:space-x-reverse"},Ve={class:"flex-none text-2xl text-slate-600 dark:text-slate-300"},qe={class:"flex-1"},ze=e("div",{class:"uppercase text-xs text-slate-500 dark:text-slate-300 mb-1 leading-[12px]"}," Observaciones ",-1),Je={class:"text-base text-slate-600 dark:text-slate-50"},Xe={key:0,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},Ke={key:1,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},Qe={key:2,class:"block min-w-[208px]"},We={class:"flex flex-col"},Ye=["onClick"],Ze={key:3},$e={key:4},et=e("strong",null,"Celular C:",-1),tt=e("br",null,null,-1),st=e("strong",null,"Teléfono E:",-1),ot=e("strong",null,"Contacto E:",-1),at={key:5,class:"uppercase"},lt={key:6,class:"text-red-500 font-bold"};function rt(r,s,m,it,i,u){const d=b("Icon"),f=b("Card"),w=b("vue-good-table");return a(),o("div",null,[e("div",F,[e("div",null,[e("button",{onClick:s[0]||(s[0]=(...t)=>u.retroceder&&u.retroceder(...t)),class:"invocie-btn inline-flex btn btn-lg whitespace-nowrap space-x-1 cursor-pointer bg-slate-700 dark:bg-white-700 btn-md h-min text-sm font-normal text-white rtl:space-x-reverse hover:bg-black"},[e("span",G,[n(d,{icon:"heroicons:arrow-left"})]),B])]),e("div",M,[e("button",{type:"button",onClick:s[1]||(s[1]=(...t)=>u.print&&u.print(...t)),class:"invocie-btn inline-flex btn btn-lg whitespace-nowrap space-x-1 cursor-pointer bg-slate-700 dark:bg-white-700 btn-md h-min text-sm font-normal text-white rtl:space-x-reverse hover:bg-black"},[e("span",L,[n(d,{icon:"heroicons:printer"})]),R]),e("button",{onClick:s[2]||(s[2]=(...t)=>u.editar&&u.editar(...t)),class:"invocie-btn inline-flex btn btn-lg whitespace-nowrap space-x-1 cursor-pointer bg-slate-700 dark:bg-white-700 btn-md h-min text-sm font-normal text-white rtl:space-x-reverse hover:bg-black"},[e("span",H,[n(d,{icon:"heroicons:pencil-square"})]),U])])]),n(f,{bodyClass:"p-0",noborder:""},{default:h(()=>[e("div",V,[e("div",q,[n(f,{title:"Detalle Grupo",class:P({"border  border-yellow-500":!i.group.group_is_confirmed,"border border-blue-500 ":i.group.group_is_confirmed})},{default:h(()=>[e("div",z,[e("div",null,[e("ul",J,[e("li",X,[e("div",K,[n(d,{icon:"heroicons:paper-airplane"})]),e("div",Q,[W,e("div",Y,l(i.group.destino),1)])])])]),e("div",null,[e("ul",Z,[e("li",$,[e("div",ee,[n(d,{icon:"heroicons:exclamation-circle"})]),e("div",te,[se,i.group.group_is_confirmed===!1?(a(),o("div",oe," Pendiente ")):(a(),o("div",ae," Confirmado "))])])])]),e("div",null,[e("ul",le,[e("li",re,[e("div",ie,[n(d,{icon:"heroicons:map"})]),e("div",ne,[de,e("div",ce,l(i.group.code),1)])])])]),e("div",null,[e("ul",ue,[e("li",pe,[e("div",_e,[n(d,{icon:"heroicons:calendar"})]),e("div",xe,[he,e("div",be,l(i.group.date_departure),1)])])])]),e("div",null,[e("ul",me,[e("li",fe,[e("div",ge,[n(d,{icon:"bi:person-circle"})]),e("div",ve,[ke,e("div",ye,l(i.group.guide)+" "+l(i.group.cellphoneGuide),1)])])])]),e("div",null,[e("ul",we,[e("li",Te,[e("div",Ce,[n(d,{icon:"heroicons:truck"})]),e("div",Ae,[Ie,e("div",Ne,l(i.group.trasnport)+" - CEL: "+l(i.group.cellPhoneTransport),1)])])])]),e("div",null,[e("ul",Oe,[e("li",De,[e("div",Pe,[n(d,{icon:"heroicons-outline:cube"})]),e("div",Se,[je,e("div",Ee,l(i.group.capacityTransport)+" - placa: "+l(i.group.placaTranport),1)])])])]),e("div",null,[e("ul",Fe,[e("li",Ge,[e("div",Be,[n(d,{icon:"heroicons:user-group"})]),e("div",Me,[Le,e("div",Re,l(i.group.pasajerosSeleccionados)+" Seleccionados ",1)])])])]),e("div",null,[e("ul",He,[e("li",Ue,[e("div",Ve,[n(d,{icon:"heroicons:eye"})]),e("div",qe,[ze,e("div",Je,l(i.group.observations),1)])])])])])]),_:1},8,["class"])])]),n(w,{class:"mt-5",columns:i.columnsTraspase,styleClass:" vgt-table  table-head   v-middle striped  listview",rows:this.responseData,"pagination-options":{enabled:!1},"sort-options":{enabled:!1}},{"table-row":h(t=>[t.column.field==="pasajero"?(a(),o("span",Xe,[u.hasTourInformation(t.row)?(a(!0),o(c,{key:0},v(t.row.tours,_=>(a(),o(c,{key:_.id},[_.id===u.groupTourIdFromPivot(t.row)?(a(),o(c,{key:0},[x(l(_.pivot.quantity||"No hay cantidad disponible"),1)],64)):p("",!0)],64))),128)):(a(),o(c,{key:1},[x(" No hay información de tours ")],64))])):p("",!0),t.column.field=="proforma"?(a(),o("span",Ke,l(t.row.booking_reference_voucher),1)):p("",!0),t.column.field=="responsablecode"?(a(),o("span",Qe,[e("div",We,[e("div",null,l(t.row.client_fullname),1),e("div",{class:"text-blue-900 dark:text-blue-300 font-bold underline cursor-pointer",onClick:S(_=>u.openModal(t.row.booking_id),["prevent"])},l(t.row.booking_code),9,Ye)])])):p("",!0),t.column.field=="hotelubi"?(a(),o("span",Ze,l(t.row.booking_reference_location),1)):p("",!0),t.column.field=="telephone"?(a(),o("span",$e,[et,x(" "+l(t.row.client_cellphone)+" ",1),tt,t.row.booking_telephone_emergency?(a(),o(c,{key:0},[st,x(" "+l(t.row.booking_telephone_emergency),1)],64)):t.row.booking_contact_emergency?(a(),o(c,{key:1},[ot,x(" "+l(t.row.booking_contact_emergency),1)],64)):p("",!0)])):p("",!0),t.column.field=="observaciones"?(a(),o("span",at,[u.hasTourInformation(t.row)?(a(!0),o(c,{key:0},v(t.row.tours,_=>(a(),o(c,null,[_.id===u.groupTourIdFromPivot(t.row)?(a(),o(c,{key:0},[_.pivot.observation?(a(),o(c,{key:0},[x(l(_.pivot.observation),1)],64)):(a(),o(c,{key:1},[x(" - No hay información disponible ")],64))],64)):p("",!0)],64))),256)):(a(),o(c,{key:1},[x(" - No hay información disponible ")],64))])):p("",!0),t.column.field=="deuda"?(a(),o("span",lt," S/. "+l(t.row.deuda),1)):p("",!0)]),_:1},8,["columns","rows"])]),_:1})])}const It=j(E,[["render",rt]]);export{It as default};
