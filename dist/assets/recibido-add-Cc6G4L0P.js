import{B as E}from"./index-DOAnfiMc.js";import{C as z}from"./index-CoHYOsAq.js";import{F as U}from"./index-B8UWVO2a.js";import{I as F}from"./index-DxXSMpKh.js";import{u as B,B as g,b as y,d as u,f as s,e as i,g as f,l as O,c as h,o as c,n as D,h as j,t as p,q as m,w as G,D as q,E as L}from"./index-CyQKzwXM.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{T as J}from"./index-C6OqzQN-.js";import{C as K}from"./index-2iT3jdVW.js";import{I as Q}from"./index-BVBpVZEi.js";import{S as W}from"./index-Jp7OXFH1.js";import{_ as Y,C as Z,A as $,E as ee}from"./ModalAddReserve-B6EPPdMy.js";import{D as te}from"./index-Br1mhpyn.js";import{P as oe}from"./index-BrRQqvEE.js";import{u as le}from"./project-7SCfM68f.js";import{V as se}from"./VueSelect-CeaoYkHk.js";import{M as ie}from"./index-D1RHiM9F.js";import{a as ae}from"./basic-tablle-data-AN7MRnVF.js";import{w as P}from"./widget-bg-2-DZ1m5zGG.js";import{b as ne}from"./menu-BlqYkBdn.js";import"./vue-cleave.min-BqMPJFk5.js";/* empty css                                              */import"./index-CHzOSQ-h.js";/* empty css                                              */import"./TotalTable-Cwp9GymN.js";import"./VueSelect.vue_vue_type_style_index_0_lang-XABNT5P5.js";import"./index-B-jw8vvV.js";import"./av-2-D6_jNZbn.js";import"./v4-D8aEg3BZ.js";import"./transition-BehYXQjK.js";import"./focus-management-DKnT3RdX.js";import"./keyboard-C8YEoqI_.js";import"./use-outside-click-WivoOT8p.js";import"./hidden-1JsWbmcm.js";import"./micro-task-CxIZtCgj.js";import"./open-closed-CLDwNzJK.js";import"./user-1-Dmhlt7-s.js";import"./user-4-_9lLfOE2.js";import"./user-6-Bk4CTUVR.js";import"./use-resolve-button-type-DXZUzXBT.js";const v=B().headers(),re={components:{Dropdown:te,Select:W,Button:E,widgetBg2:P,FromGroup:U,EditProject:Y,ComisionarModal:Z,AmortizarModal:$,EditProject2:ee,Textinput:J,Modal:ie,Checkbox:K,InputGroup:Q,Icon:F,VueSelect:se,MenuItem:ne,Card:z,ProgressBar:oe},data(){return{idRecibied:null,advancedTable:ae,idsReservesHotels:[],commissionIds:[],moneyIds:[],searchTerm:"",fullNameAgency:null,widgetBg2:P,showEditModal:!1,showReserveModal:!1,selectedTour:null,store:null,formattedTotal:"S/.0.00",formattedTotalHotel:"S/.0.00",totalHotelValue:"0.00",reservasHotel:[],projects:[],filteredRows:[],includeBreakfast:!1,book:{is_breakfast:!1,nro_breakfast:"",start_breakfast:"",end_breakfast:""},originsbooking:[],guardando:!1,originsReserve:[{value:1,label:"Sin Asignar"},{value:2,label:"Aeropuerto"},{value:3,label:"Terminar Terrestre"},{value:4,label:"Otros"}],toursOptions:[],customerOptions:[],showReferences:!1,nro_pax_childs:"",nro_pax_adults:"",nro_pax_olds:"",current:1,basicTableData:[{codigo:"HRS2024-000231",nombreHotel:"HOTEL POSADA LODGE (TARAPOTO)",detallehotel:"HAB. TRIPLE (AC) (2 hab. x 6 noches)",contacto:"Cel: 963122673"}],client:{document:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:"",date_birthday:""},tour:{esAbierto:null,tourDescription:null,vehiculo:null,turno:null,nPasajseros:null,fechaTour:null,observacion:null,realizado:null,totalTour:"0.00"},booking:{clients:null,agency_id:null,phoneNumber:null,originReserve:null,numPassengers:null,referenciar:!1,numChildren:null,numAdults:null,numSeniors:null,dateTimeArrival:null,dateArrival:null,timeArrival:null,arrivalBy:null,placeArrivalReference:null,voucherReference:null,emergencyContact:null,emergencyPhone:null,observations:null,isFavorite:!1,includeBreakfast:!1,numBreakfasts:null,startDate:null,endDate:null,total:null,totalPagado:null},perpage:3,idCliente:null,show:!1,showEdit:!1,showAmortizar:!1,showComisionar:!1,show2:!1,realizado:"--",pageRange:10,actions:[{name:"edit",icon:"heroicons:pencil-square",doit:l=>{this.openModalEdit(l)}},{name:"delete",icon:"heroicons-outline:trash",doit:l=>{this.removeProject(l)}}],vehiculos:[{value:1,label:"Compartido"},{value:2,label:"Privado"}],turnos:[{value:1,label:"Full Day"},{value:2,label:"Mañana"},{value:3,label:"Tarde"},{value:4,label:"Noche"}],columns:[{label:"¿Es Abierto?",field:"abierto"},{label:"Tours Turístico",field:"tour"},{label:"Vehículo",field:"vehiculo"},{label:"Turno",field:"turno"},{label:"N° pax",field:"pasajero"},{label:"Fecha",field:"fecha"},{label:"Observación",field:"observation"},{label:"Precio Coorporativo",field:"precio_corporativo"},{label:"Cobranza",field:"cobranza"},{label:"Realizado",field:"realizado"},{label:"Action",field:"action"}],columnsReservaHotelExpense:[{label:"Habitacion",field:"habitacion"},{label:"N° PAX	",field:"pasajeross"},{label:"Cant. HAB",field:"cantidad"},{label:"Check-In",field:"checkin"},{label:"Check-out",field:"checkout"},{label:"#Noches",field:"noches"},{label:"Precio",field:"precio"},{label:"Descuento",field:"descuento"},{label:"Adicional",field:"adicional"},{label:"Observación",field:"observacion"},{label:"Subtotal",field:"subtotal"},{label:"",field:"action"}],selectedTourDescription:"",tourOptions:[],totalBooking:null,bedroomOptions:[],rows:[{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"},{item:"Headphone",qty:2,price:"$600.25",total:"$1200.50"}],columnsReservasAlojamiento:[{label:"Código",field:"code",type:"text",html:!0,width:"100px"},{label:"Nombre del Hotel",field:"nombreHotel",type:"text",html:!0,width:"150px"},{label:"Detalle del Hotel",field:"detallehotel",type:"text",html:!0,width:"250px"},{label:"Acciones",field:"action",type:"text",html:!0,width:"120px"}]}},watch:{selectedTour(l,e){l!==e&&(this.projects.find(n=>n.id===l)?y().warning("¡Este tour ya está seleccionado!"):g.get(`https://thtsystemv2.tech/public/api/v1/tours/description/${l}`,v).then(n=>{const t={id:l,description:n.data.data.description,esAbierto:null,vehiculo:1,turno:n.data.data.shift,nPasajseros:this.booking.numPassengers,fechaTour:null,observacion:null,realizado:null,totalTour:null,precio_corporate:n.data.data.price_corporate,cobranza:null};this.projects.push(t)}).catch(n=>{console.error("Error al obtener la descripción del tour:",n)}))},projects:{deep:!0,handler(l,e){let a=0;for(let n=0;n<l.length;n++){const t=l[n],d=parseFloat(t.nPasajseros),x=parseFloat(t.precio_corporate);!isNaN(d)&&!isNaN(x)&&(this.projects[n].cobranza=d*x,a+=this.projects[n].cobranza),this.tour.totalTour=a}}},"booking.clients":function(l,e){this.idCliente=l,g.get(`https://thtsystemv2.tech/public/api/v1/clients/cellphone&telephone/${l}`,v).then(a=>{this.booking.phoneNumber=a.data.contact_numbers}).catch(a=>{console.error("Error al obtener la descripción del tour:",a)})},"booking.dateTimeArrival"(l){if(l){const[e,a]=l.split(" ");this.booking.dateArrival=e,this.booking.timeArrival=a}else this.booking.dateArrival=null,this.booking.timeArrival=null},"tour.totalTour":function(l){const e=parseFloat(l);(!isNaN(e)||l==="")&&(this.formattedTotal="S/."+(l===""?"0.00":e.toFixed(2)))},totalHotelValue(l){const e=parseFloat(l);(!isNaN(e)||l==="")&&(this.formattedTotalHotel="S/."+(l===""?"0.00":e.toFixed(2)))}},async created(){await this.fetchClients()},computed:{totalReserva(){const l=isNaN(parseFloat(this.formattedTotal.substring(3)))?0:parseFloat(this.formattedTotal.substring(3)),e=isNaN(parseFloat(this.formattedTotalHotel.substring(3)))?0:parseFloat(this.formattedTotalHotel.substring(3)),a=l+e,n=a.toFixed(2);return this.booking.total=n,"S/."+a.toFixed(2)},limitedCustomerOptions(){return this.customerOptions.slice(0,6)}},methods:{capturarDatos(){},fetchAgencies(){g.get("https://thtsystemv2.tech/public/api/v1/agencies/list",v).then(l=>{this.originsbooking=l.data.data.map(e=>({value:e.id,label:e.fullname}))}).catch(l=>{})},handleUpdateClientList(l){console.log("Datos recibidos del componente hijo:",l);const e=l.data.id;this.booking.clients=e,this.fetchClients()},handleCommissionProcessed(l){const a=[l.data.commission.id];this.commissionIds=a},handleFormSubmitted(l){if(l&&l.data){const e=l.data.map(a=>a.id);this.moneyIds=e}else console.error("Invalid response data format")},handleFormSubmitted22(l){this.booking.totalPagado=l.amount},deleteProject(l){this.projects.splice(l,1),this.projects.length===0&&(this.tour.totalTour=0)},deleteItem(l,e){window.confirm("¿Estás seguro de que deseas eliminar este elemento?")&&g.delete(`https://thtsystemv2.tech/public/api/v1/hotelsbookings/destroy/${l}`,v).then(a=>{this.reservasHotel.splice(e,1),y().success("Elemento eliminado con éxito",{position:"top-right"})}).catch(a=>{y().error("Error al eliminar el elemento",{position:"top-right"})})},handlePostComplete(l){const e=l.data;Array.isArray(e)?e.forEach(t=>{this.reservasHotel.push(t)}):this.reservasHotel.push(e);const a=this.reservasHotel.map(t=>parseFloat(t.total)),n=this.reservasHotel.map(t=>t.id);this.totalHotelValue=a.reduce((t,d)=>t+d,0),this.idsReservesHotels=n},handleAction(l){l.name==="edit"&&this.openModalEdit()},saveReserva(){if(this.guardando)return;this.guardando=!0;const l={bookingorigin_id:this.booking.originReserve,client_id:this.booking.clients,agency_id:this.idRecibied,arrivalplace_id:this.booking.arrivalBy,arrival_place:this.booking.placeArrivalReference,date_arrival:this.booking.dateArrival,time_arrival:this.booking.timeArrival,nro_pax:this.booking.numPassengers,is_reference_pax:this.booking.referenciar,nro_pax_childs:this.booking.numChildren,nro_pax_adults:this.booking.numAdults,nro_pax_olds:this.booking.numSeniors,reference_voucher:this.booking.voucherReference,observations:this.booking.observations,contact_emergency:this.booking.emergencyContact,telephone_emergency:this.booking.emergencyPhone,subtotal_tour:this.tour.totalTour,subtotal_hotel:this.totalHotelValue,total:this.booking.total,total_paid:this.booking.totalPagado,is_favorite:this.booking.isFavorite,is_breakfast:this.booking.includeBreakfast,nro_breakfast:this.booking.numBreakfasts,start_breakfast:this.booking.startDate,end_breakfast:this.booking.endDate,tours:this.projects.map(e=>({id:e.id,vehicle_tour:e.vehiculo,shift_tour:e.turno,quantity:e.nPasajseros,date_assigned:e.date_assigned,observation:e.observacion,is_open:e.esAbierto?1:0,delegated_payment:e.cobranza})),hotelsbooking_ids:this.idsReservesHotels,commission_ids:this.commissionIds,money_ids:this.moneyIds};g.post("https://thtsystemv2.tech/public/api/v1/bookings/create-recivied",l,{...v}).then(e=>{y().success(e.data.message,{duration:3e3}),setTimeout(()=>{this.$router.push("/app/wishlist")},3e3)}).catch(e=>{y().error("Error al enviar los datos al backend",{duration:3e3}),this.guardando=!1})},toggleReferences(){this.showReferences=!this.showReferences},openModal(){this.showEditModal=!0},openModalEdit(){this.showEdit=!this.showEdit},openModalComisionar(){this.showComisionar=!0},openModalAmortizar(){this.idCliente=this.idCliente,this.totalBooking=this.booking.total,this.showAmortizar=!0},handleComisionEnviada(l){},openModalReservaHotel(){this.showReserveModal=!0},async fetchClients(){try{const l=await g.get("https://thtsystemv2.tech/public/api/v1/clients/list",v);this.customerOptions=l.data.data.map(e=>({value:e.id,label:e.fullname}))}catch{}},async fetchHotelsBooking(){try{const l=await g.get("https://thtsystemv2.tech/public/api/v1/clients/list",v);this.customerOptions=l.data.data.map(e=>({value:e.id,label:e.fullname}))}catch{}},async fetchTours(){try{const l=await g.get("https://thtsystemv2.tech/public/api/v1/tours/list",v);this.tourOptions=l.data.data.map(e=>({value:e.id,label:e.description}))}catch{}}},created(){this.store=le();const l=this.$route.params.id,e=this.$route.params.fullname;this.idRecibied=l,this.fullNameAgency=e},mounted(){this.fetchClients(),this.fetchTours(),this.fetchAgencies()}},b=l=>(q("data-v-9d49e9c2"),l=l(),L(),l),de={class:"flex justify-end space-x-4 mb-3"},ce={class:"text-lg"},ue=b(()=>s("span",null,"Comisionar",-1)),me={class:"text-lg"},he=b(()=>s("span",null,"Amortizar(Total)",-1)),pe={class:"grid grid-cols-1 lg:grid-cols-1 gap-5"},be={class:"grid grid-cols-2 gap-5"},fe={class:"my-custom-design"},_e={class:"grid grid-cols-1 lg:grid-cols-1 gap-4"},ge={class:"lg:col-span-1"},ve={class:"flex flex-col justify-center items-center h-full"},xe={class:"text-2xl font-medium text-white mb-2 text-center"},ke={class:"block"},ye={class:"flex items-center"},Ce={class:"grid grid-cols-3 gap-5"},Ve={key:0},we={class:"flex items-center"},Ae={class:"grid grid-cols-1"},je={class:"flex flex-col"},Te={class:"border-b border-slate-100 dark:border-slate-700 pb-3 flex justify-between items-center"},Pe=b(()=>s("div",{class:"flex items-center"},[s("h6",{class:"card-title mb-0"},"Datos de Tours turístico")],-1)),Re={class:"flex items-center"},He={class:"flex-grow mr-2"},Me={key:0},Se={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Ie={key:1,class:"text-slate-500 dark:text-slate-400 block min-w-[208px]"},Ne={key:2,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},Ee={key:3,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},ze={key:4,class:"block w-full"},Ue={key:5},Fe={key:6},Be={key:7},Oe={key:8},De={key:9},Ge={key:10,class:"action-btn text-end mr-3"},qe=["onClick"],Le={class:"mt-5 self-end"},Xe={class:"grid grid-cols-1"},Je={class:"flex flex-col"},Ke={class:"md:flex pb-6 items-center"},Qe=b(()=>s("h6",{class:"flex-1 md:mb-0 mb-3"},"Reservas de Alojamiento",-1)),We={class:"md:flex md:space-x-3 items-center flex-none rtl:space-x-reverse"},Ye={key:0,class:"text-blue-900 font-bold"},Ze={key:1,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},$e={class:"font-bold"},et=b(()=>s("br",null,null,-1)),tt={key:2,class:"text-slate-500 dark:text-slate-400 block min-w-[108px]"},ot={key:3,class:"action-btn text-end mr-3"},lt={class:"text-xl"},st={class:"mt-5 self-end"},it={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},at=b(()=>s("div",{class:"lg:col-span-1"},null,-1)),nt={class:"lg:col-span-3 flex justify-end"},rt={key:1,class:"text-green-500 font-bold animate-pulse"},dt={class:"flex justify-center"},ct={class:"flex justify-center"},ut={class:"w-full"},mt=b(()=>s("th",null,"Total tours",-1)),ht=b(()=>s("th",null,"Total hotel",-1)),pt=b(()=>s("tr",null,[s("td",{colspan:"2"},[s("hr",{class:"book__summary__hrdivider"})])],-1)),bt=b(()=>s("th",{class:"text-primary bold text-uppercase f-s-15"},"Total reserva",-1)),ft={class:"text-primary bold f-s-15"};function _t(l,e,a,n,t,d){const x=h("Icon"),C=h("Select"),w=h("FromGroup"),_=h("Textinput"),k=h("InputGroup"),V=h("Card"),R=h("Checkbox"),H=h("flat-pickr"),T=h("vue-good-table"),A=h("Button"),M=h("EditProject"),S=h("EditProject2"),I=h("ComisionarModal"),N=h("AmortizarModal");return c(),u("div",null,[s("div",de,[s("button",{class:"invoice-btn inline-flex btn btn-sm whitespace-nowrap space-x-1 cursor-pointer bg-white dark:bg-slate-800 dark:text-slate-300 btn-md h-min text-sm font-normal text-slate-900 rtl:space-x-reverse",onClick:e[0]||(e[0]=o=>d.openModalComisionar())},[s("span",ce,[i(x,{icon:"heroicons-solid:cash"})]),ue]),s("button",{class:"invoice-btn inline-flex btn btn-sm whitespace-nowrap space-x-1 cursor-pointer bg-white dark:bg-slate-800 dark:text-slate-300 btn-md h-min text-sm font-normal text-slate-900 rtl:space-x-reverse",onClick:e[1]||(e[1]=o=>d.openModalAmortizar())},[s("span",me,[i(x,{icon:"heroicons-solid:banknotes"})]),he])]),i(V,{title:"Recibir Reserva - Datos Generales"},{default:f(()=>[s("div",pe,[s("div",be,[s("div",fe,[s("div",_e,[s("div",ge,[s("div",{class:"bg-no-repeat bg-cover bg-center p-5 rounded-[6px] relative",style:D({backgroundImage:"url("+t.widgetBg2+")",height:"100px"})},[s("div",ve,[s("div",null,[s("h4",xe,[s("span",ke,[j("Agencia: "),s("strong",null,p(t.fullNameAgency),1)])])])])],4)])])]),s("div",ye,[i(w,{label:"Clientes",class:"flex-1"},{default:f(()=>[i(C,{options:d.limitedCustomerOptions,modelValue:t.booking.clients,"onUpdate:modelValue":e[2]||(e[2]=o=>t.booking.clients=o),class:"client-select"},null,8,["options","modelValue"])]),_:1}),s("button",{onClick:e[3]||(e[3]=(...o)=>d.openModal&&d.openModal(...o)),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])]),s("div",Ce,[s("div",null,[i(_,{label:"Tel. emergencia",type:"text",placeholder:"Tel. emergencia",modelValue:t.booking.emergencyPhone,"onUpdate:modelValue":e[4]||(e[4]=o=>t.booking.emergencyPhone=o)},null,8,["modelValue"])]),t.booking.referenciar?(c(),u("div",Ve,[i(w,{label:"Referencia de pasajeros:",class:"flex-1"},{default:f(()=>[s("div",we,[i(k,{name:"nro_pax_childs",type:"text",placeholder:"N° niños",modelValue:t.booking.numChildren,"onUpdate:modelValue":e[5]||(e[5]=o=>t.booking.numChildren=o),prepend:"#Niños"},null,8,["modelValue"]),i(k,{name:"nro_pax_adults",type:"text",placeholder:"N° adultos",modelValue:t.booking.numAdults,"onUpdate:modelValue":e[6]||(e[6]=o=>t.booking.numAdults=o),prepend:"#Adultos"},null,8,["modelValue"]),i(k,{name:"nro_pax_olds",type:"text",placeholder:"N° ancianos",modelValue:t.booking.numSeniors,"onUpdate:modelValue":e[7]||(e[7]=o=>t.booking.numSeniors=o),prepend:"#Ancianos"},null,8,["modelValue"])])]),_:1})])):m("",!0),i(_,{label:"N° Pax",type:"text",placeholder:"N° pax",modelValue:t.booking.numPassengers,"onUpdate:modelValue":e[8]||(e[8]=o=>t.booking.numPassengers=o)},null,8,["modelValue"]),i(w,{label:"Observaciones"},{default:f(()=>[i(_,{type:"text",placeholder:"Observaciones",modelValue:t.booking.observations,"onUpdate:modelValue":e[9]||(e[9]=o=>t.booking.observations=o)},null,8,["modelValue"])]),_:1})])])]),_:1}),i(V,{class:"mt-4",noborder:""},{default:f(()=>[s("div",Ae,[s("div",je,[s("header",Te,[Pe,s("div",Re,[s("div",He,[i(C,{options:t.tourOptions,modelValue:t.selectedTour,"onUpdate:modelValue":e[10]||(e[10]=o=>t.selectedTour=o),placeholder:"Seleccionar Tipo",class:"w-full"},null,8,["options","modelValue"])])])]),i(T,{class:"-mx-6 mb-5",columns:t.columns,styleClass:" vgt-table  table-head   v-middle striped lesspadding2 listview",rows:t.projects,"pagination-options":{enabled:!1,perPage:t.perpage},"sort-options":{enabled:!1}},{"table-row":f(o=>[o.column.field=="abierto"?(c(),u("span",Me,[s("div",Se,[i(R,{modelValue:t.projects[o.index].esAbierto,"onUpdate:modelValue":r=>t.projects[o.index].esAbierto=r},null,8,["modelValue","onUpdate:modelValue"])])])):m("",!0),o.column.field=="tour"?(c(),u("span",Ie,p(o.row.description),1)):m("",!0),o.column.field=="vehiculo"?(c(),u("span",Ne,[i(C,{options:t.vehiculos,modelValue:t.projects[o.index].vehiculo,"onUpdate:modelValue":r=>t.projects[o.index].vehiculo=r},null,8,["options","modelValue","onUpdate:modelValue"])])):m("",!0),o.column.field=="turno"?(c(),u("span",Ee,[i(C,{options:t.turnos,modelValue:t.projects[o.index].turno,"onUpdate:modelValue":r=>t.projects[o.index].turno=r},null,8,["options","modelValue","onUpdate:modelValue"])])):m("",!0),o.column.field=="pasajero"?(c(),u("span",ze,[i(_,{type:"text",placeholder:"N° pax",modelValue:t.projects[o.index].nPasajseros,"onUpdate:modelValue":r=>t.projects[o.index].nPasajseros=r},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),o.column.field=="fecha"?(c(),u("span",Ue,[i(H,{class:"form-control",id:"d1",placeholder:"yyyy, dd M",modelValue:t.projects[o.index].date_assigned,"onUpdate:modelValue":r=>t.projects[o.index].date_assigned=r},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),o.column.field=="observation"?(c(),u("span",Fe,[i(_,{type:"text",placeholder:"Observación",modelValue:t.projects[o.index].observacion,"onUpdate:modelValue":r=>t.projects[o.index].observacion=r},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),o.column.field=="precio_corporativo"?(c(),u("span",Be,[i(_,{type:"text",placeholder:"S/.",modelValue:t.projects[o.index].precio_corporate,"onUpdate:modelValue":r=>t.projects[o.index].precio_corporate=r},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),o.column.field=="cobranza"?(c(),u("span",Oe,[i(_,{type:"text",placeholder:"S/.",modelValue:t.projects[o.index].cobranza,"onUpdate:modelValue":r=>t.projects[o.index].cobranza=r},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),o.column.field=="realizado"?(c(),u("span",De,[i(_,{type:"text",placeholder:"-"})])):m("",!0),o.column.field=="action"?(c(),u("div",Ge,[s("div",{class:"text-xl",onClick:r=>d.deleteProject(o.index)},[i(x,{icon:"heroicons-outline:trash",class:"text-danger-500"})],8,qe)])):m("",!0)]),_:1},8,["columns","rows","pagination-options"]),s("div",Le,[i(k,{label:"T. TOURS S/. ",class:"append",name:"hi_Fullname",modelValue:t.tour.totalTour,"onUpdate:modelValue":e[11]||(e[11]=o=>t.tour.totalTour=o),type:"text",placeholder:"",horizontal:"",appendIcon:"heroicons-outline:cash",classInput:"text-right"},null,8,["modelValue"])])])])]),_:1}),i(V,{class:"mt-4",noborder:""},{default:f(()=>[s("div",Xe,[s("div",Je,[s("div",Ke,[Qe,s("div",We,[i(A,{icon:"heroicons-outline:plus-sm",text:"Agregar Reserva",btnClass:" btn-dark font-normal btn-sm ",iconClass:"text-lg",onClick:G(d.openModalReservaHotel,["prevent"])},null,8,["onClick"])])]),i(T,{class:"-mx-6",columns:t.columnsReservasAlojamiento,styleClass:" vgt-table  table-head   v-middle striped  listview",rows:this.reservasHotel,"sort-options":{enabled:!1}},{"table-row":f(o=>[o.column.field=="code"?(c(),u("span",Ye,p(o.row.code),1)):m("",!0),o.column.field=="nombreHotel"?(c(),u("span",Ze,[s("span",$e,p(o.row.hotel.tradename),1),j("("+p(o.row.hotel.citie_turistic.description)+") ",1),et,j(" Cell: "+p(o.row.hotel.cellphone),1)])):m("",!0),o.column.field=="detallehotel"?(c(),u("span",tt,p(o.row.typebedrooms.map(r=>`${r.typebedroom.description} (${r.quantity} hab. x
                ${r.nights} noches)`).join(", ")),1)):m("",!0),o.column.field==="action"?(c(),u("div",ot,[s("div",lt,[i(x,{icon:"heroicons-outline:trash",class:"text-danger-500",onClick:r=>d.deleteItem(o.row.id)},null,8,["onClick"])])])):m("",!0)]),_:1},8,["columns","rows"]),s("div",st,[i(k,{label:"T. HOTEL S/. ",class:"append",name:"hi_Fullname",modelValue:t.totalHotelValue,"onUpdate:modelValue":e[12]||(e[12]=o=>t.totalHotelValue=o),type:"text",placeholder:"",horizontal:"",appendIcon:"heroicons-outline:cash",classInput:"text-right"},null,8,["modelValue"])])])])]),_:1}),s("div",it,[at,s("div",nt,[i(A,{text:"Cancelar",btnClass:"btn-light mr-2",onClick:e[13]||(e[13]=o=>l.closeModal())}),t.guardando?(c(),u("p",rt,"Guardando...")):(c(),O(A,{key:0,type:"submit",text:"Guardar Reserva",onClick:e[14]||(e[14]=o=>d.saveReserva()),btnClass:"btn-dark"}))])]),s("div",dt,[i(V,{class:"mb-0 book__summary max-w-md"},{default:f(()=>[s("div",ct,[s("table",ut,[s("tr",null,[mt,s("td",null,p(t.formattedTotal),1)]),s("tr",null,[ht,s("td",null,p(t.formattedTotalHotel),1)]),pt,s("tr",null,[bt,s("td",ft,p(d.totalReserva),1)])])])]),_:1})]),i(M,{activeModal:t.showEditModal,onClose:e[15]||(e[15]=o=>t.showEditModal=!1),title:"Actualizar Registro de Colaborador",onUpdateClientList:d.handleUpdateClientList},null,8,["activeModal","onUpdateClientList"]),i(S,{activeModal:t.showReserveModal,title:"Actualizar Registro de Colaborador",onPostComplete:d.handlePostComplete,idCliente:t.idCliente,onClose:e[16]||(e[16]=o=>t.showReserveModal=!1)},null,8,["activeModal","onPostComplete","idCliente"]),i(I,{activeModal:t.showComisionar,title:"Actualizar Registro de Colaborador",onCommissionProcessed:d.handleCommissionProcessed,onClose:e[17]||(e[17]=o=>t.showComisionar=!1)},null,8,["activeModal","onCommissionProcessed"]),i(N,{activeModal:t.showAmortizar,title:"Actualizar Registro de Colaborador",onFormSubmitted:d.handleFormSubmitted,onIncomeSubmitted:d.handleFormSubmitted22,idCliente:t.idCliente,totalBooking:t.booking.total,onClose:e[18]||(e[18]=o=>t.showAmortizar=!1)},null,8,["activeModal","onFormSubmitted","onIncomeSubmitted","idCliente","totalBooking"])])}const lo=X(re,[["render",_t],["__scopeId","data-v-9d49e9c2"]]);export{lo as default};
