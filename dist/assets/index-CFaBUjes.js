import{I as sl}from"./index-DxXSMpKh.js";/* empty css                                              */import{B as M}from"./index-DOAnfiMc.js";import{T as Tl}from"./Table-Cdxfkvcg.js";import{C as El}from"./index-CoHYOsAq.js";import{D as wl}from"./index-Br1mhpyn.js";import{P as Nl}from"./index-BXlIw-0P.js";import{P as $l}from"./index-BrRQqvEE.js";import{T as Pl}from"./index-KM0U7dzT.js";import{q as Rl}from"./vue-tailwind-datepicker-Dofq1ohm.js";import{s as i,o as m,d as g,e as t,k as l,u as xl,b as ie,y as b,z as Vl,c as Q,g as d,f as o,w as $,q as j,A as B,F as ae,h as De,B as f,t as z,m as nl,l as Ee,p as Cl,a as Ml,C as kl,D as jl,E as ql}from"./index-CyQKzwXM.js";import{F as c}from"./index-B8UWVO2a.js";import{I as Je}from"./index-BVBpVZEi.js";import{M as se}from"./index-D1RHiM9F.js";import{T as v}from"./index-C6OqzQN-.js";import"./VueSelect.vue_vue_type_style_index_0_lang-XABNT5P5.js";import{u as dl}from"./project-7SCfM68f.js";import{S as p}from"./index-Jp7OXFH1.js";import{T as Il}from"./index-B-jw8vvV.js";import{C as yl}from"./index-2iT3jdVW.js";import{a as Al}from"./basic-tablle-data-AN7MRnVF.js";import{_ as Sl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as Ul}from"./menu-BlqYkBdn.js";import"./vue-cleave.min-BqMPJFk5.js";/* empty css                                              */import"./transition-BehYXQjK.js";import"./focus-management-DKnT3RdX.js";import"./keyboard-C8YEoqI_.js";import"./use-outside-click-WivoOT8p.js";import"./hidden-1JsWbmcm.js";import"./micro-task-CxIZtCgj.js";import"./open-closed-CLDwNzJK.js";import"./av-2-D6_jNZbn.js";import"./v4-D8aEg3BZ.js";import"./user-1-Dmhlt7-s.js";import"./user-4-_9lLfOE2.js";import"./user-6-Bk4CTUVR.js";import"./use-resolve-button-type-DXZUzXBT.js";const Ll={__name:"DatePicker",setup(C){const u=i("");return(_,k)=>(m(),g("div",null,[t(l(Rl),{modelValue:u.value,"onUpdate:modelValue":k[0]||(k[0]=h=>u.value=h),"input-classes":"form-control"},null,8,["modelValue"])]))}},Ol={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Bl={key:0,class:"text-red-500"},Fl={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},zl={key:0,class:"text-red-500"},Gl={class:"grid lg:grid-cols-1 gap-4 grid-cols-1"},Hl={key:0,class:"flex items-center"},Jl={key:1,class:"flex items-center"},Yl={key:2,class:"flex items-center"},Ql={key:3,class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Wl={name:"client_form",id:"client_form",autocomplete:"off",class:"mx-auto space-y-4"},Kl={class:"grid grid-cols-3 lg:grid-cols-3 gap-4"},Xl={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Zl={class:"lg:col-span-3"},et=o("div",{class:"lg:hidden"},null,-1),lt={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},tt={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},ot={class:"lg:col-span-3"},at=o("div",{class:"lg:hidden"},null,-1),st={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},nt={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},dt={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},rt=o("div",{class:"lg:col-span-1"},null,-1),ct={class:"lg:col-span-3 flex justify-end"},it={name:"providerForm",id:"providerForm",autocomplete:"off",class:"space-y-4"},ut={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},pt={class:"md:col-span-1 lg:col-span-2"},mt={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},vt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ft={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},bt=o("div",{class:"lg:col-span-3"},null,-1),gt={class:"lg:col-span-1 flex justify-end"},_t={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},ht={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},yt={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},xt={class:"flex items-center"},Vt={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Ct={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},kt=o("div",{class:"lg:col-span-3"},null,-1),Et={class:"lg:col-span-1 flex justify-end"},wt={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},$t={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Mt=o("div",{class:"lg:col-span-3"},null,-1),It={class:"lg:col-span-1 flex justify-end"},St={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Ut=o("label",{for:"payment-type",class:"block text-sm font-medium text-gray-700 flex items-center"},[De(" Método de pago "),o("span",{class:"text-red-500 ml-1"},"*")],-1),Dt={class:"flex items-center"},Tt={class:"flex items-center"},Nt={class:"flex-1"},Pt={key:0,class:"text-red-500"},Rt={class:"ml-2 flex items-center"},jt={class:"form-group col-lg-12 form__footerBtn mt-4"},qt={class:"text-right"},Dl={__name:"ClientEditModal",props:{activeModal:Boolean,egresoData:Object},emits:["close","updateEgresoList"],setup(C,{emit:u}){const _=xl().headers();dl();const k=ie(),h=i(!1),P=i(!1),R=i(!1),U=i(!1),I=i(!1),F=i([]),T=i([]),Y=i([]),ue=C,w=u,fe=()=>{w("close")},we=()=>{fe()},x=i({receptor_module:"",receptor_fullname:"",receptor_document:"",is_paycredit:"",available_edit:"",user_id:"",branchoffice_id:"",moneybox_id:"",concept_id:"",paymentmethod_id:"",currency_id:"",voucher_id:"",client_id:"",provider_id:"",employee_id:"",accountbank_id:"",date_movement:"",amount:"",text_amount:"",gloss:"",reference_operation:"",nro_voucher:"",serie:"",correlative:"",billing_external_id:"",billing_hash:"",motive_cancelled:"",billing_cancelled:"",date_repayment:"",repaymentmovement_id:"",dischargedocument_id:"",is_voucher_external:"",voucher_external:"",nro_voucher_external:"",booking_id:"",commision_id:"",observation:"",is_visible:""}),$e=async()=>{try{const e=await f.get("https://thtsystemv2.tech/public/api/v1/ubigeo/departments",_);F.value=e.data.data.map(a=>({value:a.id,label:a.name}))}catch(e){console.error("Error fetching departments:",e)}},y=async()=>{try{const e=await f.get("https://thtsystemv2.tech/public/api/v1/clients/list",_);Pe.value=e.data.data.map(a=>({value:a.id,label:a.fullname}))}catch(e){console.error("Error fetching departments:",e)}},ne=async()=>{try{const e=await f.get("https://thtsystemv2.tech/public/api/v1/moneys/expense-concepts",_);ll.value=e.data.data.map(a=>({value:a.id,label:a.description}))}catch(e){console.error("Error fetching departments:",e)}},pe=async()=>{try{const e=await f.get("https://thtsystemv2.tech/public/api/v1/banks/list",_);Ke.value=e.data.data.map(a=>({value:a.id,label:a.description}))}catch(e){console.error("Error fetching departments:",e)}},de=async()=>{try{const e=await f.get("https://thtsystemv2.tech/public/api/v1/typevouchers/list",_);Ne.value=e.data.data.map(a=>({value:a.id,label:a.description}))}catch(e){console.error("Error fetching departments:",e)}},be=async()=>{try{const e=await f.get("https://thtsystemv2.tech/public/api/v1/accountbanks/list",_);Fe.value=e.data.data.map(a=>({value:a.id,label:a.name}))}catch(e){console.error("Error fetching departments:",e)}},Me=async()=>{try{const e=await f.get("https://thtsystemv2.tech/public/api/v1/providers/list",_);Ie.value=e.data.data.map(a=>({value:a.id,label:a.fullname}))}catch(e){console.error("Error fetching departments:",e)}},Qe=async()=>{try{const e=await f.get("https://thtsystemv2.tech/public/api/v1/employees/list",_);L.value=e.data.data.map(a=>({value:a.id,label:a.fullname}))}catch(e){console.error("Error fetching departments:",e)}},Te=[{value:501,label:"SOL"},{value:502,label:"DÓLAR"},{value:503,label:"EURO"}],Ie=i([]),L=i([]),Ne=i([]),Se=i({description:""}),O=i({branchoffice_id:"",bank_id:"",typeaccount_id:"",currency_id:"",name:"",number_account:"",cci_account:"",balance:"",headline:"",description:""}),Pe=i([]),me=[{value:1,label:"Caja Principal"}],ge=[{value:500,label:"Oficina Principal"}],_e=[{value:504,label:"CUENTA SIMPLE"},{value:505,label:"CUENTA CORRIENTE"},{value:506,label:"TARJETA DE CRÉDITO"}],Z=i(null),K=i(null),ee=i(null),te=i(null),re=i(null),he=i(null),ve=i(null),ye=i(Te[0].value),xe=i(_e[0].value),Re=i(ge[0].value),je=i(me[0].value),rl=()=>{},Ve=()=>{h.value=!h.value},oe=i(!1),qe=()=>{h.value=!1},Ae=()=>{P.value=!1},Le=()=>{R.value=!1},We=()=>{U.value=!1},cl=()=>{P.value=!P.value},il=()=>{const e=document.querySelector(".cajonci-select select");if(e){const J=e.selectedIndex,_l=e.options[J].text;x.value.branchoffice_id=J,x.value.branchbox=_l}const a=document.querySelector(".pago-select select");if(e){const J=a.selectedIndex,_l=a.options[J].text;x.value.paymentmethod_id=J,x.value.paymethod=_l}const s=Z.value;x.value.client_id=s;const n=K.value;x.value.provider_id=n;const D=ee.value;x.value.employee_id=D;const gl=te.value;x.value.concept_id=gl;const H=re.value;x.value.accountbank_id=H,x.value.voucher_external=ve.value,x.value.is_voucher_external=oe.value,oe.value||(x.value.nro_voucher_external=null,x.value.voucher_external=null),f.post(`https://thtsystemv2.tech/public/api/v1/moneys/edit/${x.value.id}`,x.value,{..._}).then(J=>{w("updateEgresoList"),fe(),k.success(J.data.message)}).catch(J=>{console.error("Error al guardar los datos:",J)})},Oe=i(!1),N=()=>{U.value=!U.value},S=i({typedocument_id:"",document:"",department_id:"",province_id:"",district_id:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:""}),Ce=i("cash"),Ke=i([]),Xe=e=>!!x.value[e],Be=e=>Xe(e),Fe=i([]),ze=[{value:1,label:"Natural"},{value:2,label:"Jurídico"}],Ze=[{value:1,label:"DNI"},{value:2,label:"RUC"},{value:3,label:"PASAPORTE"}],ul=[{id:1,label:"Soltero"},{id:2,label:"Casado"},{id:2,label:"Viudo"},{id:2,label:"Divorciado"}],E=[{id:1,label:"Masculino"},{id:2,label:"Femenino"}],V=i({typedocument_id:"",department_id:"",province_id:"",district_id:"",type_client:"",fullname:"",document:"",tradename:"",address:"",email:"",telephone:"",cellphone:"",date_birthday:"",sex:"",status:"",typeDocument:""}),Ue=i(ze[0].value),W=i(Ze[0].value);let q=i(null),A=i(null),G=i(null),le=i(null),ke=i(null),el="";const ce=[{value:"clients",label:"Clientes"},{value:"providers",label:"Proveedores"},{value:"employees",label:"Empleados"}],X=i(ce[0].value),ll=i([]),tl=[{value:1,label:"Efectivo"},{value:2,label:"Visa"},{value:3,label:"Cheque"},{value:4,label:"Depósito a cuenta"}],Ge=async()=>{try{const e=await f.get(`https://thtsystemv2.tech/public/api/v1/ubigeo/provinces/${V.value.department_id}`,_);Y.value=e.data.data.map(a=>({value:a.id,label:a.name}))}catch(e){console.error("Error fetching provinces:",e)}},ol=async()=>{try{const e=await f.get(`https://thtsystemv2.tech/public/api/v1/ubigeo/districts/${V.value.province_id}`,_);T.value=e.data.data.map(a=>({value:a.id,label:a.name}))}catch(e){console.error("Error fetching provinces:",e)}},pl=()=>{f.post("https://thtsystemv2.tech/public/api/v1/getRucData",{ruc:S.value.document}).then(e=>{S.value.fullname=e.data.data.nombre_o_razon_social,S.value.address=e.data.data.direccion}).catch(e=>{console.error("Error al obtener datos del RUC:",e)})},ml=()=>{f.post("https://thtsystemv2.tech/public/api/v1/getDniData",{dni:V.value.document}).then(e=>{V.value.fullname=e.data.data.nombre_completo}).catch(e=>{console.error("Error al obtener datos del DNI:",e)})},vl=()=>{f.post("https://thtsystemv2.tech/public/api/v1/banks/create",Se.value,{..._}).then(e=>{We(),pe(),k.success(e.data.message)}).catch(e=>{console.error("Error al guardar los datos:",e)})},fl=()=>{f.post("https://thtsystemv2.tech/public/api/v1/providers/create",S.value,{..._}).then(e=>{Ae(),Me(),k.success(e.data.message)}).catch(e=>{console.error("Error al guardar los datos:",e)})},bl=()=>{const e=document.querySelector(".typecliente-select select");if(e){const s=e.selectedIndex,n=s.toString();e.options[s].text,V.value.type_client=n}const a=document.querySelector(".typedocument-select select");if(e){const s=a.selectedIndex,n=a.options[s].text;V.value.typedocument_id=s,V.value.typeDocument=n}f.post("https://thtsystemv2.tech/public/api/v1/clients/create",V.value,{..._}).then(s=>{qe(),y(),k.success(s.data.message)}).catch(s=>{console.error("Error al guardar los datos:",s)})},al=()=>{const e=document.querySelector(".oficinaprincipal-select select");if(e){const D=e.selectedIndex;e.options[D].text,O.value.branchoffice_id=D}const a=document.querySelector(".typeaccount-select select");if(e){const D=a.selectedIndex;a.options[D].text,O.value.typeaccount_id=D}const s=document.querySelector(".banck-select select");if(e){const D=s.selectedIndex;s.options[D].text,O.value.bank_id=D}const n=document.querySelector(".money-select select");if(e){const D=n.selectedIndex;n.options[D].text,O.value.currency_id=D}f.post("https://thtsystemv2.tech/public/api/v1/accountbanks/create",O.value,{..._}).then(D=>{Le(),be(),k.success(D.data.message)}).catch(D=>{console.error("Error al guardar los datos:",D)})};b(()=>Z.value,(e,a)=>{}),b(()=>je.value,(e,a)=>{}),b(()=>te.value,(e,a)=>{}),b(()=>ye.value,(e,a)=>{}),b(()=>K.value,(e,a)=>{}),b(()=>Ce.value,(e,a)=>{}),b(()=>re.value,(e,a)=>{}),b(()=>xe.value,(e,a)=>{}),b(()=>he.value,(e,a)=>{}),b(()=>ee.value,(e,a)=>{}),b(()=>Re.value,(e,a)=>{}),b(X,(e,a)=>{const s=document.querySelector(".emisor-select select");if(s){const n=s.selectedIndex;s.options[n].text}}),b(()=>G.value,(e,a)=>{if(document.querySelector(".district-select select")){const n=e.toString().padStart(6,"0");V.value.district_id=n,S.value.district_id=n}}),b(()=>A.value,(e,a)=>{if(document.querySelector(".province-select select")){const n=e.toString().padStart(4,"0");V.value.province_id=n,S.value.province_id=n}}),b(()=>q.value,(e,a)=>{if(document.querySelector(".department-select select")){const n=e.toString().padStart(2,"0");V.value.department_id=n,S.value.department_id=n}});const He=i("N° DNI"),r=i("RENIEC");return b(()=>W.value,e=>{const a=document.querySelector(".typedocument-select select");if(a){const s=a.selectedIndex,n=a.options[s],D=a.options[s].text;V.value.typedocument_id=s,V.value.typeDocument=D,He.value=`N° ${n.textContent}`,r.value=e==="1"?"RENIEC":e==="2"?"SUNAT":"Validar"}}),b(()=>ke.value,(e,a)=>{const s=document.querySelector(".sexo-select select");if(s){const n=s.selectedIndex,D=s.options[n].text;V.value.sex=D}}),b(()=>le.value,(e,a)=>{const s=document.querySelector(".state-select select");if(s){const n=s.selectedIndex,D=s.options[n].text;V.value.status=D}}),Vl(async()=>{try{await ne(),await be(),await Me(),await pe(),await y(),await Qe(),await $e(),await de()}catch(e){console.error("Error al realizar llamadas a la API:",e)}}),b(()=>ue.egresoData,e=>{e&&(Z.value=null,ee.value=null,K.value=null,e.client_id?(X.value="clients",Z.value=e.client_id):e.employee_id?(X.value="employees",ee.value=e.employee_id):e.provider_id&&(X.value="providers",K.value=e.provider_id),x.value.id=e.id,x.value.gloss=e.gloss,x.value.nro_voucher_external=e.nro_voucher_external,x.value.reference_operation=e.reference_operation,te.value=e.concept_id,Ce.value=e.paymentmethod_id,re.value=e.accountbank_id,x.value.amount=e.amount,oe.value=e.is_voucher_external===1,ve.value=e.voucher_external,I.value=e.paymentmethod_id===4)}),(e,a)=>{const s=Q("flat-pickr");return m(),g("div",null,[t(l(se),{activeModal:ue.activeModal,onClose:fe,title:"Actualizar Registro de Egreso",centered:""},{default:d(()=>[o("form",{onSubmit:$(rl,["prevent"]),class:"space-y-4"},[o("div",Ol,[t(l(c),{name:"d1",error:l(el)},{default:d(()=>[t(l(p),{label:"Caja aperturada",options:me,modelValue:je.value,"onUpdate:modelValue":a[0]||(a[0]=n=>je.value=n),disabled:"",class:"cajonci-select"},null,8,["modelValue"])]),_:1},8,["error"]),t(l(c),{label:"Descripción egreso",name:"d2"},{default:d(()=>[t(l(v),{type:"text",placeholder:"Descripción egreso",modelValue:x.value.gloss,"onUpdate:modelValue":a[1]||(a[1]=n=>x.value.gloss=n),modelModifiers:{trim:!0}},null,8,["modelValue"]),Be("gloss")?j("",!0):(m(),g("span",Bl,"Por favor ingrese descripción"))]),_:1})]),o("div",Fl,[t(l(c),{name:"d3"},{default:d(()=>[t(l(p),{label:"Emisor (opcional)",options:ce,modelValue:X.value,"onUpdate:modelValue":a[2]||(a[2]=n=>X.value=n),class:"emisor-select"},null,8,["modelValue"])]),_:1}),t(l(c),{name:"d4"},{default:d(()=>[t(l(p),{label:"Concepto egreso",options:ll.value,modelValue:te.value,"onUpdate:modelValue":a[3]||(a[3]=n=>te.value=n),class:"concept-select",placeholder:"Seleccione concepto"},null,8,["options","modelValue"]),te.value?j("",!0):(m(),g("span",zl,"Por favor selecciona un concepto"))]),_:1})]),o("div",Gl,[X.value==="clients"?(m(),g("div",Hl,[t(l(c),{label:"Clientes",class:"flex-1"},{default:d(()=>[t(l(p),{options:Pe.value,modelValue:Z.value,"onUpdate:modelValue":a[4]||(a[4]=n=>Z.value=n),class:"client-select"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:Ve,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):X.value==="providers"?(m(),g("div",Jl,[t(l(c),{label:"Proveedores",class:"flex-1"},{default:d(()=>[t(l(p),{options:Ie.value,modelValue:K.value,"onUpdate:modelValue":a[5]||(a[5]=n=>K.value=n),class:"provider-select"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:cl,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):X.value==="employees"?(m(),g("div",Yl,[t(l(c),{label:"Empleados",class:"flex-1"},{default:d(()=>[t(l(p),{options:L.value,modelValue:ee.value,"onUpdate:modelValue":a[6]||(a[6]=n=>ee.value=n),class:"employee-select"},null,8,["options","modelValue"])]),_:1})])):j("",!0),t(l(yl),{label:"Incluye Comprobante",modelValue:oe.value,"onUpdate:modelValue":a[7]||(a[7]=n=>oe.value=n),checked:oe.value},null,8,["modelValue","checked"]),oe.value?(m(),g("div",Ql,[t(l(c),{label:"Tipo de Comprobante"},{default:d(()=>[t(l(p),{options:Ne.value,modelValue:ve.value,"onUpdate:modelValue":a[8]||(a[8]=n=>ve.value=n)},null,8,["options","modelValue"])]),_:1}),t(l(c),{label:"N° de Comprobante"},{default:d(()=>[t(l(v),{type:"text",modelValue:x.value.nro_voucher_external,"onUpdate:modelValue":a[9]||(a[9]=n=>x.value.nro_voucher_external=n),placeholder:"Ingrese N° de Comprobante"},null,8,["modelValue"])]),_:1})])):j("",!0)]),t(l(se),{title:"Registrar nuevo Cliente",label:"Modal title",activeModal:h.value,onClose:a[24]||(a[24]=n=>h.value=!1),sizeClass:"max-w-4xl"},{default:d(()=>[o("form",Wl,[o("div",Kl,[o("div",null,[t(l(c),{label:"Tipo de cliente"},{default:d(()=>[t(l(p),{options:ze,modelValue:Ue.value,"onUpdate:modelValue":a[10]||(a[10]=n=>Ue.value=n),class:"typecliente-select",placeholder:"Selccione Cliente"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"Tipo documento"},{default:d(()=>[t(l(p),{options:Ze,modelValue:W.value,"onUpdate:modelValue":a[11]||(a[11]=n=>W.value=n),class:"typedocument-select"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"N° Documento"},{default:d(()=>[t(l(Je),{type:"text",placeholder:He.value,modelValue:V.value.document,"onUpdate:modelValue":a[12]||(a[12]=n=>V.value.document=n)},{append:d(()=>[t(l(M),{text:r.value,btnClass:"btn-outline-dark",onClick:$(ml,["prevent"])},null,8,["text"])]),_:1},8,["placeholder","modelValue"])]),_:1})])]),o("div",Xl,[o("div",Zl,[t(l(c),{label:"Nombre ó Razón Social"},{default:d(()=>[t(l(v),{type:"text",id:"client_fullname",modelValue:V.value.fullname,"onUpdate:modelValue":a[13]||(a[13]=n=>V.value.fullname=n),modelModifiers:{trim:!0},placeholder:"Ingrese Nombre ó Razón Social "},null,8,["modelValue"])]),_:1})]),et]),o("div",lt,[o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:F.value,label:"Departamento",modelValue:l(q),"onUpdate:modelValue":a[14]||(a[14]=n=>B(q)?q.value=n:q=n),class:"department-select",onChange:Ge,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:Y.value,label:"Provincias",modelValue:l(A),"onUpdate:modelValue":a[15]||(a[15]=n=>B(A)?A.value=n:A=n),class:"province-select",onChange:ol,placeholder:""},null,8,["options","modelValue"])]),_:1})]),o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:T.value,label:"Distritos",modelValue:l(G),"onUpdate:modelValue":a[16]||(a[16]=n=>B(G)?G.value=n:G=n),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),o("div",tt,[o("div",ot,[t(l(c),{label:"Dirección"},{default:d(()=>[t(l(v),{type:"text",modelValue:V.value.address,"onUpdate:modelValue":a[17]||(a[17]=n=>V.value.address=n),modelModifiers:{trim:!0},placeholder:"Ingrese Direción"},null,8,["modelValue"])]),_:1})]),at]),o("div",st,[o("div",null,[t(l(c),{label:"Celular"},{default:d(()=>[t(l(v),{type:"text",modelValue:V.value.cellphone,"onUpdate:modelValue":a[18]||(a[18]=n=>V.value.cellphone=n),modelModifiers:{trim:!0},placeholder:"Ingrese N° de celular"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"Teléfono fijo"},{default:d(()=>[t(l(v),{type:"text",modelValue:V.value.telephone,"onUpdate:modelValue":a[19]||(a[19]=n=>V.value.telephone=n),modelModifiers:{trim:!0},placeholder:"Ingrese N° de telefono fijo"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"Correo electrónico"},{default:d(()=>[t(l(v),{type:"email",modelValue:V.value.email,"onUpdate:modelValue":a[20]||(a[20]=n=>V.value.email=n),modelModifiers:{trim:!0},placeholder:"Ingrese correo electrónico"},null,8,["modelValue"])]),_:1})])]),o("div",nt,[o("div",null,[t(l(c),{label:"Fecha de nacimiento"},{default:d(()=>[t(s,{modelValue:V.value.date_birthday,"onUpdate:modelValue":a[21]||(a[21]=n=>V.value.date_birthday=n),class:"form-control",id:"date_birthday",placeholder:"yyyy, dd M",config:{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d"}},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:ul,label:"Estado",modelValue:l(le),"onUpdate:modelValue":a[22]||(a[22]=n=>B(le)?le.value=n:le=n),class:"state-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:E,label:"Sexo",modelValue:l(ke),"onUpdate:modelValue":a[23]||(a[23]=n=>B(ke)?ke.value=n:ke=n),class:"sexo-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})])]),o("div",dt,[rt,o("div",ct,[t(l(M),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:$(qe,["prevent"])}),t(l(M),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:$(bl,["prevent"])})])])])]),_:1},8,["activeModal"]),t(l(se),{title:"Registrar nuevo Proveedor",label:"Modal title",activeModal:P.value,onClose:a[35]||(a[35]=n=>P.value=!1),sizeClass:"max-w-4xl"},{default:d(()=>[o("form",it,[o("div",ut,[o("div",null,[t(l(c),{label:"N° RUC"},{default:d(()=>[t(l(Je),{type:"text",placeholder:"RUC",modelValue:S.value.document,"onUpdate:modelValue":a[25]||(a[25]=n=>S.value.document=n),modelModifiers:{trim:!0}},{append:d(()=>[t(l(M),{text:"SUNAT",btnClass:"btn-outline-dark ",onClick:$(pl,["prevent"])})]),_:1},8,["modelValue"])]),_:1})]),o("div",pt,[t(l(c),{label:"Razón social del proveedor"},{default:d(()=>[t(l(v),{modelValue:S.value.fullname,"onUpdate:modelValue":a[26]||(a[26]=n=>S.value.fullname=n),modelModifiers:{trim:!0},placeholder:"Razón social del proveedor",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})])]),o("div",null,[t(l(c),{label:"Nombre comercial"},{default:d(()=>[t(l(v),{modelValue:S.value.tradename,"onUpdate:modelValue":a[27]||(a[27]=n=>S.value.tradename=n),modelModifiers:{trim:!0},placeholder:"Nombre comercial",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",mt,[o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:F.value,label:"Departamento",modelValue:l(q),"onUpdate:modelValue":a[28]||(a[28]=n=>B(q)?q.value=n:q=n),class:"department-select",onChange:Ge,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:Y.value,label:"Provincias",modelValue:l(A),"onUpdate:modelValue":a[29]||(a[29]=n=>B(A)?A.value=n:A=n),class:"province-select",onChange:ol,placeholder:""},null,8,["options","modelValue"])]),_:1})]),o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:T.value,label:"Distritos",modelValue:l(G),"onUpdate:modelValue":a[30]||(a[30]=n=>B(G)?G.value=n:G=n),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),o("div",null,[t(l(c),{label:"Dirección"},{default:d(()=>[t(l(v),{modelValue:S.value.address,"onUpdate:modelValue":a[31]||(a[31]=n=>S.value.address=n),modelModifiers:{trim:!0},placeholder:"Dirección",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",vt,[o("div",null,[t(l(c),{label:"Celular"},{default:d(()=>[t(l(v),{modelValue:S.value.cellphone,"onUpdate:modelValue":a[32]||(a[32]=n=>S.value.cellphone=n),modelModifiers:{trim:!0},placeholder:"Celular","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"Teléfono"},{default:d(()=>[t(l(v),{modelValue:S.value.telephone,"onUpdate:modelValue":a[33]||(a[33]=n=>S.value.telephone=n),modelModifiers:{trim:!0},placeholder:"Teléfono","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"Correo electrónico"},{default:d(()=>[t(l(v),{modelValue:S.value.email,"onUpdate:modelValue":a[34]||(a[34]=n=>S.value.email=n),modelModifiers:{trim:!0},placeholder:"Correo electrónico",type:"email",class:"w-full"},null,8,["modelValue"])]),_:1})])]),o("div",ft,[bt,o("div",gt,[t(l(M),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:$(Ae,["prevent"])}),t(l(M),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:$(fl,["prevent"])})])])])]),_:1},8,["activeModal"]),t(l(se),{title:"Registrar cuenta bancaria",label:"Modal title",activeModal:R.value,onClose:a[47]||(a[47]=n=>R.value=!1)},{default:d(()=>[o("form",_t,[o("div",ht,[o("div",null,[t(l(c),{label:"Sucursal",class:"block"},{default:d(()=>[t(l(p),{modelValue:Re.value,"onUpdate:modelValue":a[36]||(a[36]=n=>Re.value=n),options:ge,required:"",class:"oficinaprincipal-select"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"Tipo de cuenta",class:"block"},{default:d(()=>[t(l(p),{modelValue:xe.value,"onUpdate:modelValue":a[37]||(a[37]=n=>xe.value=n),options:_e,required:"",class:"typeaccount-select"},null,8,["modelValue"])]),_:1})])]),o("div",yt,[o("div",xt,[t(l(c),{label:"Banco",class:"flex-1"},{default:d(()=>[t(l(p),{options:Ke.value,modelValue:he.value,"onUpdate:modelValue":a[38]||(a[38]=n=>he.value=n),class:"banck-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:$(N,["prevent"]),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),o("div",null,[t(l(c),{label:"Moneda",class:"block"},{default:d(()=>[t(l(p),{modelValue:ye.value,"onUpdate:modelValue":a[39]||(a[39]=n=>ye.value=n),options:Te,required:"",class:"money-select"},null,8,["modelValue"])]),_:1})])]),o("div",null,[t(l(c),{label:"Nombre cuenta",class:"block"},{default:d(()=>[t(l(v),{modelValue:O.value.name,"onUpdate:modelValue":a[40]||(a[40]=n=>O.value.name=n),modelModifiers:{trim:!0},placeholder:"Nombre cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",Vt,[o("div",null,[t(l(c),{label:"N° de cuenta",class:"block"},{default:d(()=>[t(l(v),{modelValue:O.value.number_account,"onUpdate:modelValue":a[41]||(a[41]=n=>O.value.number_account=n),modelModifiers:{trim:!0},placeholder:"N° de cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"N° CCI (Código interbancario)",class:"block"},{default:d(()=>[t(l(v),{modelValue:O.value.cci_account,"onUpdate:modelValue":a[42]||(a[42]=n=>O.value.cci_account=n),modelModifiers:{trim:!0},placeholder:"N° CCI",required:""},null,8,["modelValue"])]),_:1})])]),o("div",null,[t(l(c),{label:"Titular cuenta",class:"block"},{default:d(()=>[t(l(v),{modelValue:O.value.headline,"onUpdate:modelValue":a[43]||(a[43]=n=>O.value.headline=n),modelModifiers:{trim:!0},placeholder:"Titular cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"Descripción",class:"block"},{default:d(()=>[t(l(Il),{modelValue:O.value.description,"onUpdate:modelValue":a[44]||(a[44]=n=>O.value.description=n),modelModifiers:{trim:!0},placeholder:"Descripción"},null,8,["modelValue"])]),_:1})]),o("div",Ct,[kt,o("div",Et,[t(l(M),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:$(Le,["prevent"])}),t(l(M),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:$(al,["prevent"])})])])]),t(l(se),{title:"Registrar banco",label:"Modal title",activeModal:U.value,onClose:a[46]||(a[46]=n=>U.value=!1)},{default:d(()=>[o("form",wt,[t(l(v),{label:"Nombre",name:"pn",type:"text",placeholder:"Ingresar nombre ",modelValue:Se.value.description,"onUpdate:modelValue":a[45]||(a[45]=n=>Se.value.description=n)},null,8,["modelValue"]),o("div",$t,[Mt,o("div",It,[t(l(M),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:$(We,["prevent"])}),t(l(M),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:$(vl,["prevent"])})])])])]),_:1},8,["activeModal"])]),_:1},8,["activeModal"]),o("div",St,[t(l(c),{name:"d5",class:"mt-1"},{default:d(()=>[Ut,t(l(p),{id:"payment-type",options:tl,disabled:"",modelValue:Ce.value,"onUpdate:modelValue":a[48]||(a[48]=n=>Ce.value=n),class:"pago-select mt-2"},null,8,["modelValue"])]),_:1}),I.value?(m(),g(ae,{key:0},[o("div",Dt,[t(l(c),{label:"Cuenta destino",class:"flex-1"},{default:d(()=>[t(l(p),{options:Fe.value,modelValue:re.value,"onUpdate:modelValue":a[49]||(a[49]=n=>re.value=n),disabled:"",class:"cuentadestino-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),t(l(c),{label:"N° de Operación"},{default:d(()=>[t(l(v),{type:"text",modelValue:x.value.reference_operation,"onUpdate:modelValue":a[50]||(a[50]=n=>x.value.reference_operation=n),modelModifiers:{trim:!0},placeholder:"Ingrese N° de Operación"},null,8,["modelValue"])]),_:1})],64)):j("",!0),o("div",Tt,[o("div",Nt,[t(l(c),{label:"Monto",name:"d6"},{default:d(()=>[t(l(v),{type:"text",placeholder:"Monto",modelValue:x.value.amount,"onUpdate:modelValue":a[51]||(a[51]=n=>x.value.amount=n),modelModifiers:{trim:!0},disabled:!Oe.value},null,8,["modelValue","disabled"]),Be("amount")?j("",!0):(m(),g("span",Pt,"Por favor ingrese monto"))]),_:1})]),o("div",Rt,[t(l(yl),{active:"",label:"Modificar",class:"font-bold",modelValue:Oe.value,"onUpdate:modelValue":a[52]||(a[52]=n=>Oe.value=n)},null,8,["modelValue"])])])]),o("div",jt,[o("div",qt,[t(l(M),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:$(we,["prevent"])}),t(l(M),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:il})])])],32)]),_:1},8,["activeModal"])])}}},hl=xl().headers();function At(){const C=new Date;return C.setHours(C.getHours()-5),C.toISOString().slice(0,10)}const Lt={components:{InputGroup:Je,Tooltip:Pl,FromGroup:c,Button:M,Pagination:Nl,Dropdown:wl,Icon:sl,EditProject:Dl,MenuItem:Ul,DateRangePicker:Ll,Card:El,ProgressBar:$l},data(){return{searchTerm:"",egresoData:{},showEditModal:!1,advancedTable:Al,current:1,dateDefault:At(),perpage:10,pageRange:10,actions:[{name:"edit",icon:"heroicons:pencil-square",doit:C=>{this.egresoData=C,this.showEditModal=!0}},{name:"delete",icon:"heroicons-outline:trash",doit:async C=>{try{await f.delete(`https://thtsystemv2.tech/public/api/v1/hotels/delete/${C.id}`,hl),ie().success("Hotel eliminado correctamente",{timeout:1500}),this.listarHoteles()}catch(u){console.error("Error al eliminar empleado:",u)}}}],columns:[{label:"N° ingreso",field:"nro_voucher"},{label:"Fecha",field:"date_movement"},{label:"Caja",field:"branch_office"},{label:"Receptor",field:"client"},{label:"Concepto",field:"concept"},{label:"Método pago	",field:"payment_method"},{label:"Monto ",field:"amount"},{label:"Action",field:"action"}],projects:[]}},methods:{async reloadCrmTable(){try{await this.listarIngresos()}catch(C){console.error("Error al recargar Egresos :",C)}},async listarIngresos(){try{const C=await f.get("https://thtsystemv2.tech/public/api/v1/moneys/list-expense",{params:{date:this.dateDefault},...hl});this.projects=C.data,this.projects&&this.projects.length>0?ie().success("Egresos listados correctamente",{timeout:1500}):ie().info("Para el día de hoy, todavía no exiten registros de egreso",{timeout:2500})}catch(C){console.error("Error al obtener los datos de los egresos:",C),ie().error("Ocurrió un error al obtener los egresos. Por favor, inténtalo de nuevo.",{timeout:1500})}},async downloadFile2(){try{const u=(await f.get("https://thtsystemv2.tech/public/api/v1/export-money-por-dia-expense",{params:{date:this.dateDefault},responseType:"blob"})).request.responseURL,_=new URL(u),k=document.createElement("a");k.href=_,k.setAttribute("download","archivo.xlsx"),k.style.display="none",document.body.appendChild(k),k.click(),document.body.removeChild(k)}catch(C){console.error("Error al descargar el archivo:",C)}},handleVerDocumento(C){f.get(`https://thtsystemv2.tech/public/api/v1/list-movements-pdf/${C}`).then(u=>{}).catch(u=>{console.error("Error al obtener la URL del PDF:",u),window.open(u.config.url,"_blank")})}},watch:{async dateDefault(C,u){try{const _=await f.get("https://thtsystemv2.tech/public/api/v1/moneys/list-expense",{params:{date:C},...hl});this.projects=_.data,this.projects&&this.projects.length>0?ie().success("Egresos listados correctamente",{timeout:1500}):ie().info("Para este día, no hay registros de egreso",{timeout:2500})}catch(_){console.error("Error al obtener los datos de los egresos:",_),ie().error("Ocurrió un error al obtener los egresos. Por favor, inténtalo de nuevo.",{timeout:1500})}}},mounted(){this.listarIngresos()}},Ot={class:"md:flex justify-between pb-6 md:space-y-0 space-y-3 items-center"},Bt=o("h5",null,"Egresos",-1),Ft={class:"flex items-center"},zt={key:0},Gt={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Ht={class:"font-bold text-purple-700"},Jt={key:1},Yt={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Qt={key:2,class:"block"},Wt=o("br",null,null,-1),Kt=["innerHTML"],Xt=o("br",null,null,-1),Zt=["innerHTML"],eo=o("br",null,null,-1),lo=["innerHTML"],to={key:3},oo={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},ao={key:4},so={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},no={key:5,class:"action-btn text-end mr-3"},ro=["onClick"],co=o("span",null,"Ver documento",-1),io={class:"text-xl"},uo=["onClick"],po={class:"text-base"},mo={class:"py-4 px-3"};function vo(C,u,_,k,h,P){const R=Q("Button"),U=Q("flat-pickr"),I=Q("FromGroup"),F=Q("InputGroup"),T=Q("Icon"),Y=Q("Tooltip"),ue=Q("MenuItem"),w=Q("Dropdown"),fe=Q("Pagination"),we=Q("vue-good-table"),x=Q("EditProject"),$e=Q("Card");return m(),g("div",null,[t($e,{noborder:""},{default:d(()=>[o("div",Ot,[Bt,o("div",Ft,[t(R,{icon:"heroicons-outline:arrow-path",btnClass:" btn-outline-secondary text-slate-600 dark:border-slate-700 dark:text-slate-300 font-normal btn-sm mr-3",iconClass:"text-lg",onClick:P.reloadCrmTable},null,8,["onClick"]),t(I,{name:"d1"},{default:d(()=>[t(U,{modelValue:h.dateDefault,"onUpdate:modelValue":u[0]||(u[0]=y=>h.dateDefault=y),class:"form-control",id:"d1",placeholder:"yyyy, dd M"},null,8,["modelValue"])]),_:1}),t(F,{modelValue:h.searchTerm,"onUpdate:modelValue":u[1]||(u[1]=y=>h.searchTerm=y),placeholder:"Ingrese N° de recibo para buscar",type:"text",prependIcon:"heroicons-outline:search",merged:"",class:"ml-3 w-[280px]"},null,8,["modelValue"]),t(R,{icon:"heroicons-outline:download",btnClass:"bg-green-700 text-white ml-4 text-sm",iconClass:"text-lg",onClick:$(P.downloadFile2,["prevent"])},null,8,["onClick"])])]),t(we,{class:"-mx-6",columns:h.columns,styleClass:" vgt-table  table-head   v-middle striped  listview",rows:this.projects,"pagination-options":{enabled:!0,perPage:h.perpage},"search-options":{enabled:!0,externalQuery:h.searchTerm},"sort-options":{enabled:!1}},{"table-row":d(y=>{var ne,pe;return[y.column.field=="nro_voucher"?(m(),g("span",zt,[o("div",Gt,[o("span",Ht,z(y.row.nro_voucher),1)])])):j("",!0),y.column.field=="branch_office"?(m(),g("span",Jt,[o("div",Yt,z((ne=y.row.branch_office)==null?void 0:ne.description),1)])):j("",!0),y.column.field==="client"?(m(),g("span",Qt,[o("div",null,[y.row.client?(m(),g(ae,{key:0},[De(" C- "+z(y.row.client.fullname),1),Wt,o("span",{class:"font-bold",innerHTML:"N° Doc "+y.row.client.document},null,8,Kt)],64)):y.row.employee?(m(),g(ae,{key:1},[De(" E- "+z(y.row.employee.fullname),1),Xt,o("span",{class:"font-bold",innerHTML:"N° Doc "+y.row.employee.document},null,8,Zt)],64)):y.row.provider?(m(),g(ae,{key:2},[De(" P- "+z(y.row.provider.fullname),1),eo,o("span",{class:"font-bold",innerHTML:"N° Doc "+y.row.provider.document},null,8,lo)],64)):(m(),g(ae,{key:3},[De(" No hay información disponible ")],64))])])):j("",!0),y.column.field=="concept"?(m(),g("span",to,[o("div",oo,z(y.row.concept.description),1)])):j("",!0),y.column.field=="payment_method"?(m(),g("span",ao,[o("div",so,z((pe=y.row.payment_method)==null?void 0:pe.description),1)])):j("",!0),y.column.field=="action"?(m(),g("div",no,[t(Y,{placement:"top",arrow:"",theme:"info-500"},{button:d(()=>[o("div",{class:"action-btn",onClick:$(de=>P.handleVerDocumento(y.row.id),["prevent"])},[t(T,{class:"text-2xl",icon:"heroicons:clipboard-document-list"})],8,ro)]),default:d(()=>[co]),_:2},1024),t(w,{classMenuItems:" w-[150px]"},{menus:d(()=>[(m(!0),g(ae,null,nl(h.actions,(de,be)=>(m(),Ee(ue,{key:be},{default:d(()=>[o("div",{onClick:Me=>de.doit(y.row),class:Cl(`
                
                  ${de.name==="delete"?"bg-danger-500 text-danger-500 bg-opacity-30  hover:bg-opacity-100 hover:text-white":"hover:bg-slate-900 hover:text-white"}
                   w-full border-b border-b-gray-500 border-opacity-10 px-4 py-2 text-sm  last:mb-0 cursor-pointer first:rounded-t last:rounded-b flex  space-x-2 items-center `)},[o("span",po,[t(T,{icon:de.icon},null,8,["icon"])]),o("span",null,z(de.name),1)],10,uo)]),_:2},1024))),128))]),default:d(()=>[o("div",io,[t(T,{icon:"heroicons-outline:dots-vertical"})])]),_:2},1024)])):j("",!0)]}),"pagination-bottom":d(y=>[o("div",mo,[t(fe,{total:h.projects.length,current:h.current,"per-page":h.perpage,pageRange:h.pageRange,onPageChanged:u[2]||(u[2]=ne=>h.current=ne),pageChanged:y.pageChanged,perPageChanged:y.perPageChanged,enableSearch:"",enableSelect:""},null,8,["total","current","per-page","pageRange","pageChanged","perPageChanged"])])]),_:1},8,["columns","rows","pagination-options","search-options"]),t(x,{activeModal:h.showEditModal,onClose:u[3]||(u[3]=y=>h.showEditModal=!1),egresoData:h.egresoData,title:"Actualizar Datos Ingreso",onUpdateEgresoList:P.listarIngresos},null,8,["activeModal","egresoData","onUpdateEgresoList"])]),_:1})])}const fo=Sl(Lt,[["render",vo]]),Ye=C=>(jl("data-v-7bb4b3b6"),C=C(),ql(),C),bo={class:"grid xl:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-5"},go={class:"flex justify-between items-end"},_o={class:"flex space-x-4 items-center rtl:space-x-reverse"},ho={class:"flex-none"},yo={class:"h-10 w-10 rounded-md text-lg bg-slate-100 text-slate-900 dark:bg-slate-600 dark:text-slate-200 flex flex-col items-center justify-center font-normal capitalize"},xo={class:"font-medium text-base leading-6"},Vo={class:"dark:text-slate-200 text-slate-900 max-w-[160px] truncate"},Co={class:"text-lg inline-flex flex-col items-center justify-center h-8 w-8 rounded-full bg-gray-500-f7 dark:bg-slate-900 dark:text-slate-400"},ko=["onClick"],Eo={class:"text-base"},wo={class:"text-slate-600 dark:text-slate-400 text-sm pt-4 pb-8"},$o={class:"flex space-x-4 rtl:space-x-reverse"},Mo=Ye(()=>o("span",{class:"block date-label"},"Start date",-1)),Io={class:"block date-text"},So=Ye(()=>o("span",{class:"block date-label"},"Start date",-1)),Uo={class:"block date-text"},Do={class:"ltr:text-right rtl:text-left text-xs text-slate-600 dark:text-slate-300 mb-1 font-medium"},To={class:"grid grid-cols-2 gap-4 mt-6"},No=Ye(()=>o("div",{class:"text-slate-400 dark:text-slate-400 text-sm font-normal mb-3"}," Assigned to ",-1)),Po={class:"flex justify-start -space-x-1.5 rtl:space-x-reverse"},Ro=["src","alt"],jo=Ye(()=>o("div",{class:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-300 text-xs ring-2 ring-slate-100 dark:ring-slate-700 rounded-full h-6 w-6 flex flex-col justify-center items-center"}," +2 ",-1)),qo={class:"ltr:text-right rtl:text-left"},Ao={class:"inline-flex items-center space-x-1 bg-danger-500 bg-opacity-[0.16] text-danger-500 text-xs font-normal px-2 py-1 rounded-full rtl:space-x-reverse"},Lo=Ye(()=>o("span",null,"days left",-1)),Oo={__name:"Projects-grid",setup(C){const u=dl(),_=Ml(),k=kl(()=>u.projects),h=(R,U)=>{const I=new Date(R);return new Date(U).getDate()-I.getDate()},P=i([{name:"view",icon:"heroicons:eye",doit:()=>{_.push("/app/project-details")}},{name:"Edit",icon:"heroicons-outline:pencil-alt",doit:R=>{u.updateProject(R)}},{name:"Delete",icon:"heroicons-outline:trash",doit:R=>{u.removeProject(R)}}]);return(R,U)=>(m(),g("div",bo,[(m(!0),g(ae,null,nl(k.value,(I,F)=>(m(),Ee(l(El),{bodyClass:"p-6",key:F},{default:d(()=>[o("header",go,[o("div",_o,[o("div",ho,[o("div",yo,z(I.name.charAt(0)+I.name.charAt(1)),1)]),o("div",xo,[o("div",Vo,z(I.name),1)])]),o("div",null,[t(l(wl),{classMenuItems:" w-[130px]"},{menus:d(()=>[(m(!0),g(ae,null,nl(P.value,(T,Y)=>(m(),Ee(l(Ul),{key:Y},{default:d(()=>[o("div",{onClick:ue=>T.doit(I),class:Cl(`
                
                  hover:bg-slate-900 dark:hover:bg-slate-600 dark:hover:bg-opacity-70 hover:text-white
                   w-full border-b border-b-gray-500 border-opacity-10   px-4 py-2 text-sm dark:text-slate-300  last:mb-0 cursor-pointer first:rounded-t last:rounded-b flex  space-x-2 items-center  capitalize rtl:space-x-reverse `)},[o("span",Eo,[t(l(sl),{icon:T.icon},null,8,["icon"])]),o("span",null,z(T.name),1)],8,ko)]),_:2},1024))),128))]),default:d(()=>[o("span",Co,[t(l(sl),{icon:"heroicons-outline:dots-vertical"})])]),_:2},1024)])]),o("div",wo,z(I.des),1),o("div",$o,[o("div",null,[Mo,o("span",Io,z(I.startDate),1)]),o("div",null,[So,o("span",Uo,z(I.endDate),1)])]),o("div",Do,z(I.progress)+"% ",1),t(l($l),{value:I.progress,barColor:"bg-primary-500"},null,8,["value"]),o("div",To,[o("div",null,[No,o("div",Po,[(m(!0),g(ae,null,nl(I.assignto,(T,Y)=>(m(),g("div",{class:"h-6 w-6 rounded-full ring-1 ring-slate-100",key:Y},[o("img",{src:T.image,alt:T.title,class:"w-full h-full rounded-full"},null,8,Ro)]))),128)),jo])]),o("div",qo,[o("span",Ao,[o("span",null,[t(l(sl),{icon:"heroicons-outline:clock"})]),o("span",null,z(h(I.startDate,I.endDate)),1),Lo])])])]),_:2},1024))),128))]))}},Bo=Sl(Oo,[["__scopeId","data-v-7bb4b3b6"]]),Fo={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},zo={key:0,class:"text-red-500"},Go={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Ho={key:0,class:"text-red-500"},Jo={class:"grid lg:grid-cols-1 gap-4 grid-cols-1"},Yo={key:0,class:"flex items-center"},Qo={key:1,class:"flex items-center"},Wo={key:2,class:"flex items-center"},Ko={key:3,class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Xo={name:"client_form",id:"client_form",autocomplete:"off",class:"mx-auto space-y-4"},Zo={class:"grid grid-cols-3 lg:grid-cols-3 gap-4"},ea={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},la={class:"lg:col-span-3"},ta=o("div",{class:"lg:hidden"},null,-1),oa={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},aa={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},sa={class:"lg:col-span-3"},na=o("div",{class:"lg:hidden"},null,-1),da={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},ra={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},ca={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},ia=o("div",{class:"lg:col-span-1"},null,-1),ua={class:"lg:col-span-3 flex justify-end"},pa={name:"providerForm",id:"providerForm",autocomplete:"off",class:"space-y-4"},ma={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},va={class:"md:col-span-1 lg:col-span-2"},fa={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},ba={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ga={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},_a=o("div",{class:"lg:col-span-3"},null,-1),ha={class:"lg:col-span-1 flex justify-end"},ya={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},xa={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Va={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Ca={class:"flex items-center"},ka={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Ea={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},wa=o("div",{class:"lg:col-span-3"},null,-1),$a={class:"lg:col-span-1 flex justify-end"},Ma={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},Ia={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Sa=o("div",{class:"lg:col-span-3"},null,-1),Ua={class:"lg:col-span-1 flex justify-end"},Da={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Ta=o("label",{for:"payment-type",class:"block text-sm font-medium text-gray-700 flex items-center"},[De(" Método de pago "),o("span",{class:"text-red-500 ml-1"},"*")],-1),Na={class:"flex items-center"},Pa={key:0,class:"text-red-500"},Ra={class:"form-group col-lg-12 form__footerBtn mt-4"},ja={class:"text-right"},qa={key:1,class:"text-green-500 font-bold animate-pulse"},Aa={__name:"ClientAddModal",setup(C){const u=xl().headers();let _=dl();const k=ie(),h=i(!1),P=i(!1),R=i(!1),U=i(!1),I=Ml(),F=i([]),T=i([]),Y=i([]),ue=()=>{_.closeModal()},w=i({receptor_module:"",receptor_fullname:"",receptor_document:"",is_paycredit:"",available_edit:"",user_id:"",branchoffice_id:"",moneybox_id:"",concept_id:"",paymentmethod_id:"",currency_id:"",voucher_id:"",client_id:"",provider_id:"",employee_id:"",accountbank_id:"",date_movement:"",amount:"",text_amount:"",gloss:"",reference_operation:"",nro_voucher:"",serie:"",correlative:"",billing_external_id:"",billing_hash:"",motive_cancelled:"",billing_cancelled:"",date_repayment:"",repaymentmovement_id:"",dischargedocument_id:"",is_voucher_external:"",voucher_external:"",nro_voucher_external:"",booking_id:"",commision_id:"",observation:"",is_visible:""}),fe=async()=>{try{const r=await f.get("https://thtsystemv2.tech/public/api/v1/ubigeo/departments",u);F.value=r.data.data.map(e=>({value:e.id,label:e.name}))}catch(r){console.error("Error fetching departments:",r)}},we=async()=>{try{const r=await f.get("https://thtsystemv2.tech/public/api/v1/clients/list",u);Ne.value=r.data.data.map(e=>({value:e.id,label:e.fullname}))}catch(r){console.error("Error fetching departments:",r)}},x=async()=>{try{const r=await f.get("https://thtsystemv2.tech/public/api/v1/moneys/expense-concepts",u);X.value=r.data.data.map(e=>({value:e.id,label:e.description}))}catch(r){console.error("Error fetching departments:",r)}},$e=async()=>{try{const r=await f.get("https://thtsystemv2.tech/public/api/v1/banks/list",u);Ce.value=r.data.data.map(e=>({value:e.id,label:e.description}))}catch(r){console.error("Error fetching departments:",r)}},y=async()=>{try{const r=await f.get("https://thtsystemv2.tech/public/api/v1/typevouchers/list",u);Te.value=r.data.data.map(e=>({value:e.id,label:e.description}))}catch(r){console.error("Error fetching departments:",r)}},ne=async()=>{try{const r=await f.get("https://thtsystemv2.tech/public/api/v1/accountbanks/list",u);Be.value=r.data.data.map(e=>({value:e.id,label:e.name}))}catch(r){console.error("Error fetching departments:",r)}},pe=async()=>{try{const r=await f.get("https://thtsystemv2.tech/public/api/v1/providers/list",u);Me.value=r.data.data.map(e=>({value:e.id,label:e.fullname}))}catch(r){console.error("Error fetching departments:",r)}},de=async()=>{try{const r=await f.get("https://thtsystemv2.tech/public/api/v1/employees/list",u);Qe.value=r.data.data.map(e=>({value:e.id,label:e.fullname}))}catch(r){console.error("Error fetching departments:",r)}},be=[{value:501,label:"SOL"},{value:502,label:"DÓLAR"},{value:503,label:"EURO"}],Me=i([]),Qe=i([]),Te=i([]),Ie=i({description:""}),L=i({branchoffice_id:"",bank_id:"",typeaccount_id:"",currency_id:"",name:"",number_account:"",cci_account:"",balance:"",headline:"",description:""}),Ne=i([]),Se=[{value:1,label:"Caja Principal"}],O=[{value:500,label:"Oficina Principal"}],Pe=[{value:504,label:"CUENTA SIMPLE"},{value:505,label:"CUENTA CORRIENTE"},{value:506,label:"TARJETA DE CRÉDITO"}],me=i(!1),ge=i(null),_e=i(null),Z=i(null),K=i(null),ee=i(null),te=i(null),re=i(null),he=i(be[0].value),ve=i(Pe[0].value),ye=i(O[0].value),xe=i(Se[0].value),Re=()=>{},je=()=>{h.value=!h.value},rl=kl(()=>Ne.value.slice(0,6)),Ve=i(!1),oe=()=>{h.value=!1},qe=()=>{P.value=!1},Ae=()=>{R.value=!1},Le=()=>{U.value=!1},We=()=>{P.value=!P.value},cl=()=>{R.value=!R.value},il=()=>{if(me.value)return;me.value=!0;const r=document.querySelector(".cajonci-select select");if(r){const H=r.selectedIndex,J=r.options[H].text;w.value.branchoffice_id=H,w.value.branchbox=J}const e=document.querySelector(".pago-select select");if(r){const H=e.selectedIndex,J=e.options[H].text;w.value.paymentmethod_id=H,w.value.paymethod=J}const a=ge.value;w.value.client_id=a;const s=_e.value;w.value.provider_id=s;const n=Z.value;w.value.employee_id=n;const D=K.value;w.value.concept_id=D;const gl=ee.value;w.value.accountbank_id=gl,w.value.voucher_external=re.value,w.value.is_voucher_external=Ve.value,Ve.value||(w.value.nro_voucher_external=null,w.value.voucher_external=null),f.post("https://thtsystemv2.tech/public/api/v1/moneys/create-expense",w.value,{...u}).then(H=>{ue(),k.success(H.data.message),setTimeout(()=>{I.go(0)},1500)}).catch(H=>{if(console.error("Error al guardar los datos:",H),H.response&&H.response.data&&H.response.data.message){const J=H.response.data.message;k.error(J),me.value=!1}else k.error("Ha ocurrido un error al guardar los datos. Por favor, inténtalo de nuevo."),me.value=!1})},Oe=()=>{U.value=!U.value},N=i({typedocument_id:"",document:"",department_id:"",province_id:"",district_id:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:""}),S=i("cash"),Ce=i([]),Ke=r=>!!w.value[r],Xe=r=>Ke(r),Be=i([]),Fe=[{value:1,label:"Natural"},{value:2,label:"Jurídico"}],ze=[{value:1,label:"DNI"},{value:2,label:"RUC"},{value:3,label:"PASAPORTE"}],Ze=[{id:1,label:"Soltero"},{id:2,label:"Casado"},{id:2,label:"Viudo"},{id:2,label:"Divorciado"}],ul=[{id:1,label:"Masculino"},{id:2,label:"Femenino"}],E=i({typedocument_id:"",department_id:"",province_id:"",district_id:"",type_client:"",fullname:"",document:"",tradename:"",address:"",email:"",telephone:"",cellphone:"",date_birthday:"",sex:"",status:"",typeDocument:""}),V=i(Fe[0].value),Ue=i(ze[0].value);let W=i(null),q=i(null),A=i(null),G=i(null),le=i(null),ke="";const el=[{value:"clients",label:"Clientes"},{value:"providers",label:"Proveedores"},{value:"employees",label:"Empleados"}],ce=i(el[0].value),X=i([]),ll=[{value:"cash",label:"Efectivo"},{value:"visa",label:"Visa"},{value:"check",label:"Cheque"},{value:"account_deposit",label:"Depósito a cuenta"}],tl=async()=>{try{const r=await f.get(`https://thtsystemv2.tech/public/api/v1/ubigeo/provinces/${E.value.department_id}`,u);Y.value=r.data.data.map(e=>({value:e.id,label:e.name}))}catch(r){console.error("Error fetching provinces:",r)}},Ge=async()=>{try{const r=await f.get(`https://thtsystemv2.tech/public/api/v1/ubigeo/districts/${E.value.province_id}`,u);T.value=r.data.data.map(e=>({value:e.id,label:e.name}))}catch(r){console.error("Error fetching provinces:",r)}},ol=()=>{f.post("https://thtsystemv2.tech/public/api/v1/getRucData",{ruc:N.value.document}).then(r=>{N.value.fullname=r.data.data.nombre_o_razon_social,N.value.address=r.data.data.direccion}).catch(r=>{console.error("Error al obtener datos del RUC:",r)})},pl=()=>{f.post("https://thtsystemv2.tech/public/api/v1/getDniData",{dni:E.value.document}).then(r=>{E.value.fullname=r.data.data.nombre_completo}).catch(r=>{console.error("Error al obtener datos del DNI:",r)})},ml=()=>{f.post("https://thtsystemv2.tech/public/api/v1/banks/create",Ie.value,{...u}).then(r=>{Le(),$e(),k.success(r.data.message)}).catch(r=>{console.error("Error al guardar los datos:",r)})},vl=()=>{f.post("https://thtsystemv2.tech/public/api/v1/providers/create",N.value,{...u}).then(r=>{qe(),pe(),k.success(r.data.message)}).catch(r=>{console.error("Error al guardar los datos:",r)})},fl=()=>{const r=document.querySelector(".typecliente-select select");if(r){const a=r.selectedIndex,s=a.toString();r.options[a].text,E.value.type_client=s}const e=document.querySelector(".typedocument-select select");if(r){const a=e.selectedIndex,s=e.options[a].text;E.value.typedocument_id=a,E.value.typeDocument=s}f.post("https://thtsystemv2.tech/public/api/v1/clients/create",E.value,{...u}).then(a=>{oe(),we(),k.success(a.data.message)}).catch(a=>{console.error("Error al guardar los datos:",a)})},bl=()=>{const r=document.querySelector(".oficinaprincipal-select select");if(r){const n=r.selectedIndex;r.options[n].text,L.value.branchoffice_id=n}const e=document.querySelector(".typeaccount-select select");if(r){const n=e.selectedIndex;e.options[n].text,L.value.typeaccount_id=n}const a=document.querySelector(".banck-select select");if(r){const n=a.selectedIndex;a.options[n].text,L.value.bank_id=n}const s=document.querySelector(".money-select select");if(r){const n=s.selectedIndex;s.options[n].text,L.value.currency_id=n}f.post("https://thtsystemv2.tech/public/api/v1/accountbanks/create",L.value,{...u}).then(n=>{Ae(),ne(),k.success(n.data.message)}).catch(n=>{console.error("Error al guardar los datos:",n)})};b(()=>ge.value,(r,e)=>{}),b(()=>xe.value,(r,e)=>{}),b(()=>K.value,(r,e)=>{}),b(()=>he.value,(r,e)=>{}),b(()=>_e.value,(r,e)=>{}),b(()=>S.value,(r,e)=>{}),b(()=>ee.value,(r,e)=>{}),b(()=>ve.value,(r,e)=>{}),b(()=>te.value,(r,e)=>{}),b(()=>Z.value,(r,e)=>{}),b(()=>ye.value,(r,e)=>{}),b(ce,(r,e)=>{const a=document.querySelector(".emisor-select select");if(a){const s=a.selectedIndex;a.options[s].text}}),b(()=>A.value,(r,e)=>{if(document.querySelector(".district-select select")){const s=r.toString().padStart(6,"0");E.value.district_id=s,N.value.district_id=s}}),b(()=>q.value,(r,e)=>{if(document.querySelector(".province-select select")){const s=r.toString().padStart(4,"0");E.value.province_id=s,N.value.province_id=s}}),b(()=>W.value,(r,e)=>{if(document.querySelector(".department-select select")){const s=r.toString().padStart(2,"0");E.value.department_id=s,N.value.department_id=s}});const al=i("N° DNI"),He=i("RENIEC");return b(()=>Ue.value,r=>{const e=document.querySelector(".typedocument-select select");if(e){const a=e.selectedIndex,s=e.options[a],n=e.options[a].text;E.value.typedocument_id=a,E.value.typeDocument=n,al.value=`N° ${s.textContent}`,He.value=r==="1"?"RENIEC":r==="2"?"SUNAT":"Validar"}}),b(()=>le.value,(r,e)=>{const a=document.querySelector(".sexo-select select");if(a){const s=a.selectedIndex,n=a.options[s].text;E.value.sex=n}}),b(()=>G.value,(r,e)=>{const a=document.querySelector(".state-select select");if(a){const s=a.selectedIndex,n=a.options[s].text;E.value.status=n}}),Vl(async()=>{try{await x(),await ne(),await pe(),await $e(),await we(),await de(),await fe(),await y()}catch(r){console.error("Error al realizar llamadas a la API:",r)}}),(r,e)=>{const a=Q("flat-pickr");return m(),g("div",null,[t(l(se),{activeModal:l(_).addmodal,onClose:l(_).closeModal,title:"Registrar Nuevo Egreso",centered:""},{default:d(()=>[o("form",{onSubmit:$(Re,["prevent"]),class:"space-y-4"},[o("div",Fo,[t(l(c),{name:"d1",error:l(ke)},{default:d(()=>[t(l(p),{label:"Caja aperturada",options:Se,modelValue:xe.value,"onUpdate:modelValue":e[0]||(e[0]=s=>xe.value=s),disabled:"",class:"cajonci-select"},null,8,["modelValue"])]),_:1},8,["error"]),t(l(c),{label:"Descripción egreso",name:"d2"},{default:d(()=>[t(l(v),{type:"text",placeholder:"Descripción egreso",modelValue:w.value.gloss,"onUpdate:modelValue":e[1]||(e[1]=s=>w.value.gloss=s),modelModifiers:{trim:!0}},null,8,["modelValue"]),Xe("gloss")?j("",!0):(m(),g("span",zo,"Por favor ingrese descripción"))]),_:1})]),o("div",Go,[t(l(c),{name:"d3"},{default:d(()=>[t(l(p),{label:"Receptor (opcional)",options:el,modelValue:ce.value,"onUpdate:modelValue":e[2]||(e[2]=s=>ce.value=s),class:"emisor-select"},null,8,["modelValue"])]),_:1}),t(l(c),{name:"d4"},{default:d(()=>[t(l(p),{label:"Concepto egreso",options:X.value,modelValue:K.value,"onUpdate:modelValue":e[3]||(e[3]=s=>K.value=s),class:"concept-select",placeholder:"Seleccione concepto"},null,8,["options","modelValue"]),K.value?j("",!0):(m(),g("span",Ho,"Por favor selecciona un concepto"))]),_:1})]),o("div",Jo,[ce.value==="clients"?(m(),g("div",Yo,[t(l(c),{label:"Clientes",class:"flex-1"},{default:d(()=>[t(l(p),{options:rl.value,modelValue:ge.value,"onUpdate:modelValue":e[4]||(e[4]=s=>ge.value=s),class:"client-select"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:je,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):ce.value==="providers"?(m(),g("div",Qo,[t(l(c),{label:"Proveedores",class:"flex-1"},{default:d(()=>[t(l(p),{options:Me.value,modelValue:_e.value,"onUpdate:modelValue":e[5]||(e[5]=s=>_e.value=s),class:"provider-select"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:We,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):ce.value==="employees"?(m(),g("div",Wo,[t(l(c),{label:"Empleados",class:"flex-1"},{default:d(()=>[t(l(p),{options:Qe.value,modelValue:Z.value,"onUpdate:modelValue":e[6]||(e[6]=s=>Z.value=s),class:"employee-select"},null,8,["options","modelValue"])]),_:1})])):j("",!0),t(l(yl),{label:"Incluye Comprobante",modelValue:Ve.value,"onUpdate:modelValue":e[7]||(e[7]=s=>Ve.value=s)},null,8,["modelValue"]),Ve.value?(m(),g("div",Ko,[t(l(c),{label:"Tipo de Comprobante"},{default:d(()=>[t(l(p),{options:Te.value,modelValue:re.value,"onUpdate:modelValue":e[8]||(e[8]=s=>re.value=s)},null,8,["options","modelValue"])]),_:1}),t(l(c),{label:"N° de Comprobante"},{default:d(()=>[t(l(v),{type:"text",modelValue:w.value.nro_voucher_external,"onUpdate:modelValue":e[9]||(e[9]=s=>w.value.nro_voucher_external=s),placeholder:"Ingrese N° de Comprobante"},null,8,["modelValue"])]),_:1})])):j("",!0)]),t(l(se),{title:"Registrar nuevo Cliente",label:"Modal title",activeModal:h.value,onClose:e[24]||(e[24]=s=>h.value=!1),sizeClass:"max-w-4xl"},{default:d(()=>[o("form",Xo,[o("div",Zo,[o("div",null,[t(l(c),{label:"Tipo de cliente"},{default:d(()=>[t(l(p),{options:Fe,modelValue:V.value,"onUpdate:modelValue":e[10]||(e[10]=s=>V.value=s),class:"typecliente-select",placeholder:"Selccione Cliente"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"Tipo documento"},{default:d(()=>[t(l(p),{options:ze,modelValue:Ue.value,"onUpdate:modelValue":e[11]||(e[11]=s=>Ue.value=s),class:"typedocument-select"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"N° Documento"},{default:d(()=>[t(l(Je),{type:"text",placeholder:al.value,modelValue:E.value.document,"onUpdate:modelValue":e[12]||(e[12]=s=>E.value.document=s)},{append:d(()=>[t(l(M),{text:He.value,btnClass:"btn-outline-dark",onClick:$(pl,["prevent"])},null,8,["text"])]),_:1},8,["placeholder","modelValue"])]),_:1})])]),o("div",ea,[o("div",la,[t(l(c),{label:"Nombre ó Razón Social"},{default:d(()=>[t(l(v),{type:"text",id:"client_fullname",modelValue:E.value.fullname,"onUpdate:modelValue":e[13]||(e[13]=s=>E.value.fullname=s),modelModifiers:{trim:!0},placeholder:"Ingrese Nombre ó Razón Social "},null,8,["modelValue"])]),_:1})]),ta]),o("div",oa,[o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:F.value,label:"Departamento",modelValue:l(W),"onUpdate:modelValue":e[14]||(e[14]=s=>B(W)?W.value=s:W=s),class:"department-select",onChange:tl,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:Y.value,label:"Provincias",modelValue:l(q),"onUpdate:modelValue":e[15]||(e[15]=s=>B(q)?q.value=s:q=s),class:"province-select",onChange:Ge,placeholder:""},null,8,["options","modelValue"])]),_:1})]),o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:T.value,label:"Distritos",modelValue:l(A),"onUpdate:modelValue":e[16]||(e[16]=s=>B(A)?A.value=s:A=s),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),o("div",aa,[o("div",sa,[t(l(c),{label:"Dirección"},{default:d(()=>[t(l(v),{type:"text",modelValue:E.value.address,"onUpdate:modelValue":e[17]||(e[17]=s=>E.value.address=s),modelModifiers:{trim:!0},placeholder:"Ingrese Direción"},null,8,["modelValue"])]),_:1})]),na]),o("div",da,[o("div",null,[t(l(c),{label:"Celular"},{default:d(()=>[t(l(v),{type:"text",modelValue:E.value.cellphone,"onUpdate:modelValue":e[18]||(e[18]=s=>E.value.cellphone=s),modelModifiers:{trim:!0},placeholder:"Ingrese N° de celular"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"Teléfono fijo"},{default:d(()=>[t(l(v),{type:"text",modelValue:E.value.telephone,"onUpdate:modelValue":e[19]||(e[19]=s=>E.value.telephone=s),modelModifiers:{trim:!0},placeholder:"Ingrese N° de telefono fijo"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"Correo electrónico"},{default:d(()=>[t(l(v),{type:"email",modelValue:E.value.email,"onUpdate:modelValue":e[20]||(e[20]=s=>E.value.email=s),modelModifiers:{trim:!0},placeholder:"Ingrese correo electrónico"},null,8,["modelValue"])]),_:1})])]),o("div",ra,[o("div",null,[t(l(c),{label:"Fecha de nacimiento"},{default:d(()=>[t(a,{modelValue:E.value.date_birthday,"onUpdate:modelValue":e[21]||(e[21]=s=>E.value.date_birthday=s),class:"form-control",id:"date_birthday",placeholder:"yyyy, dd M",config:{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d"}},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:Ze,label:"Estado",modelValue:l(G),"onUpdate:modelValue":e[22]||(e[22]=s=>B(G)?G.value=s:G=s),class:"state-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:ul,label:"Sexo",modelValue:l(le),"onUpdate:modelValue":e[23]||(e[23]=s=>B(le)?le.value=s:le=s),class:"sexo-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})])]),o("div",ca,[ia,o("div",ua,[t(l(M),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:$(oe,["prevent"])}),t(l(M),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:$(fl,["prevent"])})])])])]),_:1},8,["activeModal"]),t(l(se),{title:"Registrar nuevo Proveedor",label:"Modal title",activeModal:P.value,onClose:e[35]||(e[35]=s=>P.value=!1),sizeClass:"max-w-4xl"},{default:d(()=>[o("form",pa,[o("div",ma,[o("div",null,[t(l(c),{label:"N° RUC"},{default:d(()=>[t(l(Je),{type:"text",placeholder:"RUC",modelValue:N.value.document,"onUpdate:modelValue":e[25]||(e[25]=s=>N.value.document=s),modelModifiers:{trim:!0}},{append:d(()=>[t(l(M),{text:"SUNAT",btnClass:"btn-outline-dark ",onClick:$(ol,["prevent"])})]),_:1},8,["modelValue"])]),_:1})]),o("div",va,[t(l(c),{label:"Razón social del proveedor"},{default:d(()=>[t(l(v),{modelValue:N.value.fullname,"onUpdate:modelValue":e[26]||(e[26]=s=>N.value.fullname=s),modelModifiers:{trim:!0},placeholder:"Razón social del proveedor",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})])]),o("div",null,[t(l(c),{label:"Nombre comercial"},{default:d(()=>[t(l(v),{modelValue:N.value.tradename,"onUpdate:modelValue":e[27]||(e[27]=s=>N.value.tradename=s),modelModifiers:{trim:!0},placeholder:"Nombre comercial",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",fa,[o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:F.value,label:"Departamento",modelValue:l(W),"onUpdate:modelValue":e[28]||(e[28]=s=>B(W)?W.value=s:W=s),class:"department-select",onChange:tl,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:Y.value,label:"Provincias",modelValue:l(q),"onUpdate:modelValue":e[29]||(e[29]=s=>B(q)?q.value=s:q=s),class:"province-select",onChange:Ge,placeholder:""},null,8,["options","modelValue"])]),_:1})]),o("div",null,[t(l(c),null,{default:d(()=>[t(l(p),{options:T.value,label:"Distritos",modelValue:l(A),"onUpdate:modelValue":e[30]||(e[30]=s=>B(A)?A.value=s:A=s),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),o("div",null,[t(l(c),{label:"Dirección"},{default:d(()=>[t(l(v),{modelValue:N.value.address,"onUpdate:modelValue":e[31]||(e[31]=s=>N.value.address=s),modelModifiers:{trim:!0},placeholder:"Dirección",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",ba,[o("div",null,[t(l(c),{label:"Celular"},{default:d(()=>[t(l(v),{modelValue:N.value.cellphone,"onUpdate:modelValue":e[32]||(e[32]=s=>N.value.cellphone=s),modelModifiers:{trim:!0},placeholder:"Celular","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"Teléfono"},{default:d(()=>[t(l(v),{modelValue:N.value.telephone,"onUpdate:modelValue":e[33]||(e[33]=s=>N.value.telephone=s),modelModifiers:{trim:!0},placeholder:"Teléfono","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"Correo electrónico"},{default:d(()=>[t(l(v),{modelValue:N.value.email,"onUpdate:modelValue":e[34]||(e[34]=s=>N.value.email=s),modelModifiers:{trim:!0},placeholder:"Correo electrónico",type:"email",class:"w-full"},null,8,["modelValue"])]),_:1})])]),o("div",ga,[_a,o("div",ha,[t(l(M),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:$(qe,["prevent"])}),t(l(M),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:$(vl,["prevent"])})])])])]),_:1},8,["activeModal"]),t(l(se),{title:"Registrar cuenta bancaria",label:"Modal title",activeModal:R.value,onClose:e[47]||(e[47]=s=>R.value=!1)},{default:d(()=>[o("form",ya,[o("div",xa,[o("div",null,[t(l(c),{label:"Sucursal",class:"block"},{default:d(()=>[t(l(p),{modelValue:ye.value,"onUpdate:modelValue":e[36]||(e[36]=s=>ye.value=s),options:O,required:"",class:"oficinaprincipal-select"},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"Tipo de cuenta",class:"block"},{default:d(()=>[t(l(p),{modelValue:ve.value,"onUpdate:modelValue":e[37]||(e[37]=s=>ve.value=s),options:Pe,required:"",class:"typeaccount-select"},null,8,["modelValue"])]),_:1})])]),o("div",Va,[o("div",Ca,[t(l(c),{label:"Banco",class:"flex-1"},{default:d(()=>[t(l(p),{options:Ce.value,modelValue:te.value,"onUpdate:modelValue":e[38]||(e[38]=s=>te.value=s),class:"banck-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:$(Oe,["prevent"]),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),o("div",null,[t(l(c),{label:"Moneda",class:"block"},{default:d(()=>[t(l(p),{modelValue:he.value,"onUpdate:modelValue":e[39]||(e[39]=s=>he.value=s),options:be,required:"",class:"money-select"},null,8,["modelValue"])]),_:1})])]),o("div",null,[t(l(c),{label:"Nombre cuenta",class:"block"},{default:d(()=>[t(l(v),{modelValue:L.value.name,"onUpdate:modelValue":e[40]||(e[40]=s=>L.value.name=s),modelModifiers:{trim:!0},placeholder:"Nombre cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",ka,[o("div",null,[t(l(c),{label:"N° de cuenta",class:"block"},{default:d(()=>[t(l(v),{modelValue:L.value.number_account,"onUpdate:modelValue":e[41]||(e[41]=s=>L.value.number_account=s),modelModifiers:{trim:!0},placeholder:"N° de cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"N° CCI (Código interbancario)",class:"block"},{default:d(()=>[t(l(v),{modelValue:L.value.cci_account,"onUpdate:modelValue":e[42]||(e[42]=s=>L.value.cci_account=s),modelModifiers:{trim:!0},placeholder:"N° CCI",required:""},null,8,["modelValue"])]),_:1})])]),o("div",null,[t(l(c),{label:"Titular cuenta",class:"block"},{default:d(()=>[t(l(v),{modelValue:L.value.headline,"onUpdate:modelValue":e[43]||(e[43]=s=>L.value.headline=s),modelModifiers:{trim:!0},placeholder:"Titular cuenta",required:""},null,8,["modelValue"])]),_:1})]),o("div",null,[t(l(c),{label:"Descripción",class:"block"},{default:d(()=>[t(l(Il),{modelValue:L.value.description,"onUpdate:modelValue":e[44]||(e[44]=s=>L.value.description=s),modelModifiers:{trim:!0},placeholder:"Descripción"},null,8,["modelValue"])]),_:1})]),o("div",Ea,[wa,o("div",$a,[t(l(M),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:$(Ae,["prevent"])}),t(l(M),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:$(bl,["prevent"])})])])]),t(l(se),{title:"Registrar banco",label:"Modal title",activeModal:U.value,onClose:e[46]||(e[46]=s=>U.value=!1)},{default:d(()=>[o("form",Ma,[t(l(v),{label:"Nombre",name:"pn",type:"text",placeholder:"Ingresar nombre ",modelValue:Ie.value.description,"onUpdate:modelValue":e[45]||(e[45]=s=>Ie.value.description=s)},null,8,["modelValue"]),o("div",Ia,[Sa,o("div",Ua,[t(l(M),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:$(Le,["prevent"])}),t(l(M),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:$(ml,["prevent"])})])])])]),_:1},8,["activeModal"])]),_:1},8,["activeModal"]),o("div",Da,[t(l(c),{name:"d5",class:"mt-1"},{default:d(()=>[Ta,t(l(p),{id:"payment-type",options:ll,modelValue:S.value,"onUpdate:modelValue":e[48]||(e[48]=s=>S.value=s),class:"pago-select mt-2"},null,8,["modelValue"])]),_:1}),S.value==="account_deposit"?(m(),g(ae,{key:0},[o("div",Na,[t(l(c),{label:"Cuenta destino",class:"flex-1"},{default:d(()=>[t(l(p),{options:Be.value,modelValue:ee.value,"onUpdate:modelValue":e[49]||(e[49]=s=>ee.value=s),class:"cuentadestino-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),o("button",{onClick:cl,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),t(l(c),{label:"N° de Operación"},{default:d(()=>[t(l(v),{type:"text",placeholder:"Ingrese N° de Operación",modelValue:w.value.reference_operation,"onUpdate:modelValue":e[50]||(e[50]=s=>w.value.reference_operation=s),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})],64)):j("",!0),t(l(c),{label:"Monto",name:"d6"},{default:d(()=>[t(l(v),{type:"text",placeholder:"Monto",modelValue:w.value.amount,"onUpdate:modelValue":e[51]||(e[51]=s=>w.value.amount=s),modelModifiers:{trim:!0}},null,8,["modelValue"]),Xe("amount")?j("",!0):(m(),g("span",Pa,"Por favor ingrese monto"))]),_:1})]),o("div",Ra,[o("div",ja,[t(l(M),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:ue}),me.value?(m(),g("p",qa,"Guardando...")):(m(),Ee(l(M),{key:0,type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:il}))])])],32)]),_:1},8,["activeModal","onClose"])])}}},La={class:"flex flex-wrap justify-between items-center mb-4"},Es={__name:"index",setup(C){const u=dl();let _=i("list");const k=()=>{u.openProject()},h=i(0),P=()=>{h.value=window.innerWidth};Vl(()=>{window.addEventListener("resize",P),P()});const R=kl(()=>u.projects),U=i(!0),I=i(!1);return setTimeout(()=>{U.value=!1},1e3),b(_,(F,T)=>{F!==T&&(F==="list"?(U.value=!0,I.value=!1):(U.value=!1,I.value=!0),setTimeout(()=>{U.value=!1,I.value=!1},1e3))}),(F,T)=>(m(),g("div",null,[o("div",La,[o("div",{class:Cl(["md:flex md:space-x-4 md:justify-end items-center rtl:space-x-reverse",h.value<768?"space-x-rb":""])},[t(l(M),{icon:"heroicons:list-bullet",text:"Vista de Lista",btnClass:`${l(_)==="list"?"bg-slate-900 dark:bg-slate-700  text-white":" bg-white dark:bg-slate-800 dark:text-slate-300"}   h-min text-sm font-normal`,iconClass:" text-lg",onClick:T[0]||(T[0]=Y=>B(_)?_.value="list":_="list"),isLoading:U.value,isDisabled:U.value},null,8,["btnClass","isLoading","isDisabled"]),t(l(M),{icon:"heroicons-outline:plus",text:"Agregar Egreso",btnClass:"btn-dark dark:bg-slate-800  h-min text-sm font-normal",iconClass:" text-lg",onClick:k,isLoading:l(u).isLoading},null,8,["isLoading"])],2)]),U.value?(m(),Ee(l(Tl),{key:0,count:R.value.length},null,8,["count"])):j("",!0),l(_)==="grid"&&!I.value?(m(),Ee(l(Bo),{key:1})):j("",!0),l(_)==="list"&&!U.value?(m(),Ee(l(fo),{key:2})):j("",!0),t(Aa),t(Dl)]))}};export{Es as default};
