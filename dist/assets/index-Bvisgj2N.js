import{C as B}from"./index-COOwjdNO.js";import{_ as k,b as V,B as y,s as x,y as N,o as f,d as h,e,g as n,f as r,w as S,k as o,W as D,a2 as U,z as M,c as $,q as I,C as j,l as R,m as L,h as O,t as q,p as A,F as G}from"./index-BFn_3Gdk.js";import{I as E}from"./index-BffMpWx5.js";import{B as C}from"./index-CvW4wJPB.js";import{T}from"./index-BL9tae9R.js";import{T as w}from"./index-DERosrGp.js";import{T as P}from"./index-CsPMTo4u.js";import{F as b}from"./index-z1TsTTdr.js";import{M as W}from"./index-2mWc_vCg.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{x as H,p as J,y as K,I as Q,m as X}from"./tabs-BTsgaxl3.js";import"./vue-cleave.min-ClV1fVcS.js";import"./transition-DUAAdbaG.js";import"./focus-management-C7_eiYjk.js";import"./keyboard-CmTzE63w.js";import"./use-outside-click-RVZZ1L_X.js";import"./hidden-Br4jqfTk.js";import"./micro-task-CxIZtCgj.js";import"./open-closed-Bo1bAx4t.js";import"./use-resolve-button-type-0pot5Y2u.js";const Y=k("nosotros",{state:()=>({nosotros:{id:null,nom_empresa:"",nota:"",mision:"",vision:"",video:""},toast:V()}),actions:{async getRecord(){try{const t=await y.get("http://192.168.241.238:8001/api/v1/nosotros/list");if(t.data.status==="success"){this.toast.success(t.data.message);const s=t.data.data;this.nosotros={id:s.id_nosotros,nom_empresa:s.nom_empresa||"",nota:s.nota||"",mision:s.mision||"",vision:s.vision||"",video:s.video||""}}else console.error("No se encontró el registro")}catch(t){console.error("Error al obtener el registro:",t)}},async updateRecord(){try{const t=await y.post(`http://192.168.241.238:8001/api/v1/nosotros/edit/${this.nosotros.id}`,this.form);t.data.status==="success"?this.toast.success(t.data.message):toast.error(t.data.message)}catch(t){console.error("Error al actualizar el registro:",t)}}}}),F=k("slider",{state:()=>({sliders:[]}),actions:{async fetchSliders(){try{const t=await y.get("http://192.168.241.238:8001/api/v1/slider-inicios/list");t.data.status==="success"?this.sliders=t.data.data:console.error("Error al obtener sliders:",t.data.message)}catch(t){console.error("Error en la solicitud de sliders:",t)}},async storeSlider(t){console.log(t);const s=V(),a=new FormData;a.append("image",t.imageFile);try{const d=await y.post(`http://192.168.241.238:8001/api/v1/slider-inicios/edit/${t.id}`,a,{headers:{"Content-Type":"multipart/form-data"}});d.data.status==="success"?(s.success(d.data.message),this.fetchSliders()):s.error(d.data.message)}catch(d){console.error("Error al actualizar el slider:",d),s.error("Ocurrió un error al actualizar el slider.")}}}}),Z={class:"grid grid-cols-1 lg:grid-cols-1 gap-4"},ee={class:"form-group col-lg-12 form__footerBtn mt-4"},te={class:"text-right"},oe={__name:"TransportEditModal",props:{activeModal:Boolean,sliderData:Object},emits:["close","updateTransportList"],setup(t,{emit:s}){const a=t,d=s,m=F(),p=V(),c=x({id:null,imageFile:null});N(()=>a.sliderData,u=>{console.log(a.sliderData),u&&u.id_slider_inicios&&(c.value.id=u.id_slider_inicios,console.log(c.value.id))});const l=()=>{d("close")},i=u=>{const v=u.target.files[0];c.value.imageFile=v},_=async()=>{if(!c.value.imageFile){p.error("Por favor, selecciona una imagen antes de guardar.");return}try{await m.storeSlider(c.value),d("updateTransportList"),l()}catch(u){console.error("Error al actualizar el slider:",u),p.error("Ocurrió un error al actualizar el slider.")}};return(u,v)=>(f(),h("div",null,[e(o(W),{activeModal:a.activeModal,onClose:l,title:"Actualizar Slider",sizeClass:"max-w-3xl",centered:""},{default:n(()=>[r("form",{onSubmit:S(_,["prevent"]),name:"object_form",id:"object_form",autocomplete:"off",class:"space-y-4"},[r("div",Z,[r("div",null,[e(o(b),{label:"Imagen del Slider"},{default:n(()=>[r("input",{type:"file",class:"form-control",id:"sliderImg",name:"sliderImg",onChange:i},null,32),D(r("input",{type:"hidden",id:"id_imagen_slider",name:"id_imagen_slider","onUpdate:modelValue":v[0]||(v[0]=g=>c.value.id=g)},null,512),[[U,c.value.id]])]),_:1})])]),r("div",ee,[r("div",te,[e(o(C),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:S(l,["prevent"])}),e(o(C),{text:"Guardar",btnClass:"btn-dark",type:"submit"})])])],32)]),_:1},8,["activeModal"])]))}},se={key:0,class:"flex items-center justify-center p-2 center-content"},ae={class:"w-28 h-28 border border-gray-300 overflow-hidden rounded-lg transition-all duration-300 hover:border-2 hover:border-gray-500"},re=["src"],le={key:1,class:"flex items-center justify-center p-2 center-content"},ie=["onClick"],ne=r("span",null,"Edit",-1),de={__name:"Etable",setup(t){const s=F(),a=x([]),d=x(!1),m=x({});M(async()=>{await s.fetchSliders(),a.value=s.sliders});const p=_=>{m.value=_,d.value=!0},c=()=>{d.value=!1},l=async()=>{await s.fetchSliders(),a.value=s.sliders},i=[{label:"Imagen",field:"imagen"},{label:"Opciones",field:"action"}];return(_,u)=>{const v=$("vue-good-table");return f(),h("div",null,[e(v,{columns:i,rows:a.value,"sort-options":{enabled:!1},class:"custom-table"},{"table-row":n(g=>[g.column.field=="image"?(f(),h("span",se,[r("div",ae,[r("img",{src:g.row.imagen,alt:"Image",class:"w-full h-full object-cover"},null,8,re)])])):I("",!0),g.column.field=="action"?(f(),h("span",le,[e(o(P),{placement:"top",arrow:"",theme:"dark"},{button:n(()=>[r("div",{class:"action-btn bg-blue-500 text-white p-3 rounded-full hover:bg-blue-600 transition-colors",onClick:ye=>p(g.row)},[e(o(E),{icon:"heroicons:pencil-square",class:"w-8 h-8"})],8,ie)]),default:n(()=>[ne]),_:2},1024)])):I("",!0)]),_:1},8,["rows"]),e(oe,{activeModal:d.value,sliderData:m.value,onClose:c,onUpdateTransportList:l},null,8,["activeModal","sliderData"])])}}},ce={class:"text-base relative top-[1px] ltr:mr-1 rtl:ml-1"},ue={class:"flex flex-wrap"},me={class:"w-full md:w-1/2 p-4"},pe={class:"space-y-4"},fe={class:"w-full md:w-1/2 p-4"},_e={class:"overflow-x-auto"},ve={__name:"TabIcon",setup(t){const s=Y(),a=j(()=>s.nosotros),d=async()=>{await s.getRecord()};M(async()=>{await d()});const m=()=>{s.updateRecord()},p=[{title:"Nuevo Sector",icon:"heroicons-outline:information-circle"}];return(c,l)=>(f(),R(o(X),null,{default:n(()=>[e(o(J),{class:"lg:space-x-8 md:space-x-4 space-x-0 rtl:space-x-reverse"},{default:n(()=>[(f(),h(G,null,L(p,(i,_)=>e(o(H),{as:"template",key:_},{default:n(({selected:u})=>[r("button",{class:A([[u?"text-primary-500 before:w-full":"text-slate-500 before:w-0 dark:text-slate-300"],"inline-flex items-center text-sm font-medium mb-7 capitalize bg-white dark:bg-slate-800 ring-0 focus:ring-0 focus:outline-none px-2 transition duration-150 before:transition-all before:duration-150 relative before:absolute before:left-1/2 before:bottom-[-6px] before:h-[1.5px] before:bg-primary-500 before:-translate-x-1/2"])},[r("span",ce,[e(o(E),{icon:i.icon},null,8,["icon"])]),O(q(i.title),1)],2)]),_:2},1024)),64))]),_:1}),e(o(Q),null,{default:n(()=>[e(o(K),null,{default:n(()=>[r("div",ue,[r("div",me,[r("div",pe,[e(o(b),{label:"Nombre Empresa"},{default:n(()=>[e(o(T),{type:"text",placeholder:"Ingresar nombre de empresa",modelValue:a.value.nom_empresa,"onUpdate:modelValue":l[0]||(l[0]=i=>a.value.nom_empresa=i)},null,8,["modelValue"])]),_:1}),e(o(b),{label:"Nota"},{default:n(()=>[e(o(w),{type:"text",placeholder:"Ingrese la nota",modelValue:a.value.nota,"onUpdate:modelValue":l[1]||(l[1]=i=>a.value.nota=i)},null,8,["modelValue"])]),_:1}),e(o(b),{label:"Misión"},{default:n(()=>[e(o(w),{type:"text",placeholder:"Ingrese la misión",modelValue:a.value.mision,"onUpdate:modelValue":l[2]||(l[2]=i=>a.value.mision=i)},null,8,["modelValue"])]),_:1}),e(o(b),{label:"Visión"},{default:n(()=>[e(o(w),{type:"text",placeholder:"Ingrese la visión",modelValue:a.value.vision,"onUpdate:modelValue":l[3]||(l[3]=i=>a.value.vision=i)},null,8,["modelValue"])]),_:1}),e(o(b),{label:"Link Video"},{default:n(()=>[e(o(T),{type:"text",placeholder:"Ingrese el link del video",modelValue:a.value.video,"onUpdate:modelValue":l[4]||(l[4]=i=>a.value.video=i)},null,8,["modelValue"])]),_:1}),r("div",null,[e(o(C),{type:"button",text:"Actualizar",btnClass:"btn-success",onClick:m})])])]),r("div",fe,[r("div",_e,[e(o(de))])])])]),_:1})]),_:1})]),_:1}))}},ge=z(ve,[["__scopeId","data-v-3888deb3"]]),be={components:{Card:B,TabIcon:ge}},he={class:"grid xl:grid-cols-1 grid-cols-1 gap-6 full-height"};function xe(t,s,a,d,m,p){const c=$("TabIcon"),l=$("Card");return f(),h("div",he,[e(l,{title:"Registrar"},{default:n(()=>[e(c)]),_:1})])}const qe=z(be,[["render",xe]]);export{qe as default};
