import{B as U}from"./index-DOAnfiMc.js";import{C as _l}from"./index-CoHYOsAq.js";import{T as V}from"./index-C6OqzQN-.js";import{u as Te,b as me,s as u,y as E,z as Vl,c as S,o as h,d as _,e,g as s,f as t,k as l,q as j,w as M,A as Z,F as pe,h as fe,B as x,t as Y,m as pl,l as hl,p as vl,C as Tl}from"./index-CyQKzwXM.js";import{D as Sl}from"./index-Br1mhpyn.js";import{I as yl}from"./index-DxXSMpKh.js";import{P as Cl}from"./index-BXlIw-0P.js";import{P as Dl}from"./index-BrRQqvEE.js";import{T as kl}from"./index-KM0U7dzT.js";import{F as i}from"./index-B8UWVO2a.js";import{I as Re}from"./index-BVBpVZEi.js";import{M as ue}from"./index-D1RHiM9F.js";import{u as sl}from"./project-7SCfM68f.js";import{S as y}from"./index-Jp7OXFH1.js";import{T as wl}from"./index-B-jw8vvV.js";import{C as xl}from"./index-2iT3jdVW.js";import{_ as bl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as Ul}from"./menu-BlqYkBdn.js";import{s as Pl,a as jl,b as Nl,c as Rl}from"./shade-4-BPphsoTg.js";import{q as Al}from"./vue-tailwind-datepicker-Dofq1ohm.js";import"./vue-cleave.min-BqMPJFk5.js";import{B as Ll}from"./index-CHzOSQ-h.js";import{A as Fl}from"./index-D-NvQkV9.js";import{S as Gl,a as zl}from"./swiper.min-DSH4ArgB.js";import{E as Hl,_ as Jl}from"./visa-card-bg-C9aa7FF6.js";import{S as Yl}from"./index-uRZTIp-K.js";/* empty css                                              */import"./transition-BehYXQjK.js";import"./focus-management-DKnT3RdX.js";import"./keyboard-C8YEoqI_.js";import"./use-outside-click-WivoOT8p.js";import"./hidden-1JsWbmcm.js";import"./micro-task-CxIZtCgj.js";import"./open-closed-CLDwNzJK.js";import"./av-2-D6_jNZbn.js";import"./v4-D8aEg3BZ.js";import"./use-resolve-button-type-DXZUzXBT.js";/* empty css                                              */import"./effect-virtual-transition-end-DQxSYi8n.js";const Ql={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Wl={key:0,class:"text-red-500"},Zl={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Kl={key:0,class:"text-red-500"},Xl={class:"grid lg:grid-cols-1 gap-4 grid-cols-1"},et={key:0,class:"flex items-center"},lt={key:1,class:"flex items-center"},tt={key:2,class:"flex items-center"},ot={name:"client_form",id:"client_form",autocomplete:"off",class:"mx-auto space-y-4"},at={class:"grid grid-cols-3 lg:grid-cols-3 gap-4"},st={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},nt={class:"lg:col-span-3"},dt=t("div",{class:"lg:hidden"},null,-1),rt={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},it={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},ct={class:"lg:col-span-3"},ut=t("div",{class:"lg:hidden"},null,-1),mt={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},pt={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},vt={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},bt=t("div",{class:"lg:col-span-1"},null,-1),ft={class:"lg:col-span-3 flex justify-end"},gt={name:"providerForm",id:"providerForm",autocomplete:"off",class:"space-y-4"},ht={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},_t={class:"md:col-span-1 lg:col-span-2"},yt={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},xt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Vt={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Ct=t("div",{class:"lg:col-span-3"},null,-1),kt={class:"lg:col-span-1 flex justify-end"},wt={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},Et={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},$t={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Mt={class:"flex items-center"},It={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},St={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Ut=t("div",{class:"lg:col-span-3"},null,-1),Tt={class:"lg:col-span-1 flex justify-end"},Dt={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},Pt={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},jt=t("div",{class:"lg:col-span-3"},null,-1),Nt={class:"lg:col-span-1 flex justify-end"},Rt={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},At=t("label",{for:"payment-type",class:"block text-sm font-medium text-gray-700 flex items-center"},[fe(" Método de pago "),t("span",{class:"text-red-500 ml-1"},"*")],-1),qt={class:"flex items-center"},Ot={class:"flex items-center"},Bt={class:"flex-1"},Lt={key:0,class:"text-red-500"},Ft={class:"ml-2 flex items-center"},Gt={class:"form-group col-lg-12 form__footerBtn mt-4"},zt={class:"text-right"},ql={__name:"ClientEditModal",props:{activeModal:Boolean,ingresoData:Object},emits:["close","updateIngresoList"],setup(b,{emit:p}){const C=Te().headers();sl();const w=me(),f=u(!1),I=u(!1),P=u(!1),O=u(!1),N=u([]),T=u([]),L=u([]),W=b,$=p,ve=()=>{$("close")},F=u({id:"",receptor_module:"",receptor_fullname:"",receptor_document:"",is_paycredit:"",available_edit:"",user_id:"",branchoffice_id:"",moneybox_id:"",concept_id:"",paymentmethod_id:"",currency_id:"",voucher_id:"",client_id:"",provider_id:"",employee_id:"",accountbank_id:"",date_movement:"",amount:"",text_amount:"",gloss:"",reference_operation:"",nro_voucher:"",serie:"",correlative:"",billing_external_id:"",billing_hash:"",motive_cancelled:"",billing_cancelled:"",date_repayment:"",repaymentmovement_id:"",dischargedocument_id:"",is_voucher_external:"",voucher_external:"",nro_voucher_external:"",booking_id:"",commision_id:"",observation:"",is_visible:""}),Pe=async()=>{try{const n=await x.get("https://thtsystemv2.tech/public/api/v1/ubigeo/departments",C);N.value=n.data.data.map(a=>({value:a.id,label:a.name}))}catch(n){console.error("Error fetching departments:",n)}},R=async()=>{try{const n=await x.get("https://thtsystemv2.tech/public/api/v1/clients/list",C);ze.value=n.data.data.map(a=>({value:a.id,label:a.fullname}))}catch(n){console.error("Error fetching departments:",n)}},B=async()=>{try{const n=await x.get("https://thtsystemv2.tech/public/api/v1/moneys/income-concepts",C);Ie.value=n.data.data.map(a=>({value:a.id,label:a.description}))}catch(n){console.error("Error fetching departments:",n)}},k=async()=>{try{const n=await x.get("https://thtsystemv2.tech/public/api/v1/banks/list",C);Fe.value=n.data.data.map(a=>({value:a.id,label:a.description}))}catch(n){console.error("Error fetching departments:",n)}},ae=async()=>{try{const n=await x.get("https://thtsystemv2.tech/public/api/v1/accountbanks/list",C);le.value=n.data.data.map(a=>({value:a.id,label:a.name}))}catch(n){console.error("Error fetching departments:",n)}},ge=async()=>{try{const n=await x.get("https://thtsystemv2.tech/public/api/v1/providers/list",C);K.value=n.data.data.map(a=>({value:a.id,label:a.fullname}))}catch(n){console.error("Error fetching departments:",n)}},re=async()=>{try{const n=await x.get("https://thtsystemv2.tech/public/api/v1/employees/list",C);te.value=n.data.data.map(a=>({value:a.id,label:a.fullname}))}catch(n){console.error("Error fetching departments:",n)}},Se=[{value:501,label:"SOL"},{value:502,label:"DÓLAR"},{value:503,label:"EURO"}],K=u([]),te=u([]),ye=u({description:""}),G=u({branchoffice_id:"",bank_id:"",typeaccount_id:"",currency_id:"",name:"",number_account:"",cci_account:"",balance:"",headline:"",description:""}),ze=u([]),He=[{value:1,label:"Caja Principal"}],Ae=[{value:500,label:"Oficina Principal"}],ne=[{value:504,label:"CUENTA SIMPLE"},{value:505,label:"CUENTA CORRIENTE"},{value:506,label:"TARJETA DE CRÉDITO"}],xe=u(null),he=u(null),Ve=u(null),Ce=u(null),be=u(null),we=u(null),Ee=u(Se[0].value),$e=u(ne[0].value),je=u(Ae[0].value),Oe=u(He[0].value),Be=()=>{},Ze=()=>{f.value=!f.value},Je=()=>{f.value=!1},Ne=()=>{I.value=!1},Ye=()=>{P.value=!1},el=()=>{O.value=!1},nl=()=>{I.value=!I.value},qe=()=>{P.value=!P.value},dl=()=>{const n=document.querySelector(".cajonci-select select");if(n){const v=n.selectedIndex,J=n.options[v].text;F.value.branchoffice_id=v,F.value.branchbox=J}const a=document.querySelector(".pago-select select");if(n){const v=a.selectedIndex,J=a.options[v].text;F.value.paymentmethod_id=v,F.value.paymethod=J}const d=xe.value;F.value.client_id=d;const c=he.value;F.value.provider_id=c;const o=Ve.value;F.value.employee_id=o;const r=Ce.value;F.value.concept_id=r;const z=be.value;F.value.accountbank_id=z,x.post(`https://thtsystemv2.tech/public/api/v1/moneys-akemy/edit/${F.value.id}`,F.value,{...C}).then(v=>{$("updateIngresoList"),ve(),w.success(v.data.message)}).catch(v=>{console.error("Error al guardar los datos:",v)})},X=u(!1),Qe=()=>{O.value=!O.value},oe=u({typedocument_id:"",document:"",department_id:"",province_id:"",district_id:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:""}),ee=u("cash"),Fe=u([]),We=n=>!!F.value[n],ll=n=>We(n),le=u([]),Ge=[{value:1,label:"Natural"},{value:2,label:"Jurídico"}],Ke=[{value:1,label:"DNI"},{value:2,label:"RUC"},{value:3,label:"PASAPORTE"}],Q=[{value:1,label:"Soltero"},{value:2,label:"Casado"},{value:2,label:"Viudo"},{value:2,label:"Divorciado"}],tl=[{value:1,label:"Masculino"},{value:2,label:"Femenino"}],H=u({typedocument_id:"",department_id:"",province_id:"",district_id:"",type_client:"",fullname:"",document:"",tradename:"",address:"",email:"",telephone:"",cellphone:"",date_birthday:"",sex:"",status:"",typeDocument:""}),A=u(Ge[0].value),ke=u(Ke[0].value);let de=u(null),se=u(null),D=u(null),_e=u(null),Me=u(null),ie="";const Ue=[{value:"clients",label:"Clientes"},{value:"providers",label:"Proveedores"},{value:"employees",label:"Empleados"}],ce=u(Ue[0].value),Ie=u([]),Le=[{value:1,label:"Efectivo"},{value:2,label:"Visa"},{value:3,label:"Cheque"},{value:4,label:"Depósito a cuenta"}],rl=async()=>{try{const n=await x.get(`https://thtsystemv2.tech/public/api/v1/ubigeo/provinces/${H.value.department_id}`,C);L.value=n.data.data.map(a=>({value:a.id,label:a.name}))}catch(n){console.error("Error fetching provinces:",n)}},Xe=async()=>{try{const n=await x.get(`https://thtsystemv2.tech/public/api/v1/ubigeo/districts/${H.value.province_id}`,C);T.value=n.data.data.map(a=>({value:a.id,label:a.name}))}catch(n){console.error("Error fetching provinces:",n)}},De=()=>{x.post("https://thtsystemv2.tech/public/api/v1/getRucData",{ruc:oe.value.document}).then(n=>{oe.value.fullname=n.data.data.nombre_o_razon_social,oe.value.address=n.data.data.direccion}).catch(n=>{console.error("Error al obtener datos del RUC:",n)})},il=()=>{x.post("https://thtsystemv2.tech/public/api/v1/getDniData",{dni:H.value.document}).then(n=>{H.value.fullname=n.data.data.nombre_completo}).catch(n=>{console.error("Error al obtener datos del DNI:",n)})},ml=()=>{x.post("https://thtsystemv2.tech/public/api/v1/banks/create",ye.value,{...C}).then(n=>{el(),k(),w.success(n.data.message)}).catch(n=>{console.error("Error al guardar los datos:",n)})},cl=()=>{x.post("https://thtsystemv2.tech/public/api/v1/providers/create",oe.value,{...C}).then(n=>{Ne(),ge(),w.success(n.data.message)}).catch(n=>{console.error("Error al guardar los datos:",n)})},ol=()=>{const n=document.querySelector(".typecliente-select select");if(n){const d=n.selectedIndex,c=d.toString();n.options[d].text,H.value.type_client=c}const a=document.querySelector(".typedocument-select select");if(n){const d=a.selectedIndex,c=a.options[d].text;H.value.typedocument_id=d,H.value.typeDocument=c}x.post("https://thtsystemv2.tech/public/api/v1/clients/create",H.value,{...C}).then(d=>{Je(),R(),w.success(d.data.message)}).catch(d=>{console.error("Error al guardar los datos:",d)})},ul=()=>{const n=document.querySelector(".oficinaprincipal-select select");if(n){const o=n.selectedIndex;n.options[o].text,G.value.branchoffice_id=o}const a=document.querySelector(".typeaccount-select select");if(n){const o=a.selectedIndex;a.options[o].text,G.value.typeaccount_id=o}const d=document.querySelector(".banck-select select");if(n){const o=d.selectedIndex;d.options[o].text,G.value.bank_id=o}const c=document.querySelector(".money-select select");if(n){const o=c.selectedIndex;c.options[o].text,G.value.currency_id=o}x.post("https://thtsystemv2.tech/public/api/v1/accountbanks/create",G.value,{...C}).then(o=>{Ye(),ae(),w.success(o.data.message)}).catch(o=>{console.error("Error al guardar los datos:",o)})};E(()=>xe.value,(n,a)=>{}),E(()=>Oe.value,(n,a)=>{}),E(()=>Ce.value,(n,a)=>{}),E(()=>Ee.value,(n,a)=>{}),E(()=>he.value,(n,a)=>{}),E(()=>ee.value,(n,a)=>{}),E(()=>be.value,(n,a)=>{}),E(()=>$e.value,(n,a)=>{}),E(()=>we.value,(n,a)=>{}),E(()=>Ve.value,(n,a)=>{}),E(()=>je.value,(n,a)=>{}),E(ce,(n,a)=>{const d=document.querySelector(".emisor-select select");if(d){const c=d.selectedIndex;d.options[c].text}}),E(()=>D.value,(n,a)=>{if(document.querySelector(".district-select select")){const c=n.toString().padStart(6,"0");H.value.district_id=c,oe.value.district_id=c}}),E(()=>se.value,(n,a)=>{if(document.querySelector(".province-select select")){const c=n.toString().padStart(4,"0");H.value.province_id=c,oe.value.province_id=c}}),E(()=>de.value,(n,a)=>{if(document.querySelector(".department-select select")){const c=n.toString().padStart(2,"0");H.value.department_id=c,oe.value.department_id=c}});const g=u("N° DNI"),m=u("RENIEC");E(()=>ke.value,n=>{const a=document.querySelector(".typedocument-select select");if(a){const d=a.selectedIndex,c=a.options[d],o=a.options[d].text;H.value.typedocument_id=d,H.value.typeDocument=o,g.value=`N° ${c.textContent}`,m.value=n==="1"?"RENIEC":n==="2"?"SUNAT":"Validar"}}),E(()=>Me.value,(n,a)=>{const d=document.querySelector(".sexo-select select");if(d){const c=d.selectedIndex,o=d.options[c].text;H.value.sex=o}}),E(()=>_e.value,(n,a)=>{const d=document.querySelector(".state-select select");if(d){const c=d.selectedIndex,o=d.options[c].text;H.value.status=o}}),Vl(async()=>{try{await B(),await ae(),await ge(),await k(),await R(),await re(),await Pe()}catch(n){console.error("Error al realizar llamadas a la API:",n)}});const q=u(!1);return E(()=>W.ingresoData,n=>{n&&(xe.value=null,Ve.value=null,he.value=null,n.client_id?(ce.value="clients",xe.value=n.client_id):n.employee_id?(ce.value="employees",Ve.value=n.employee_id):n.provider_id&&(ce.value="providers",he.value=n.provider_id),F.value.id=n.id,F.value.gloss=n.gloss,F.value.reference_operation=n.reference_operation,Ce.value=n.concept_id,ee.value=n.paymentmethod_id,be.value=n.accountbank_id,F.value.amount=n.amount,q.value=n.paymentmethod_id===4)}),(n,a)=>{const d=S("flat-pickr");return h(),_("div",null,[e(l(ue),{activeModal:W.activeModal,onClose:ve,title:"Actualizar Registro de Ingreso",centered:""},{default:s(()=>[t("form",{onSubmit:M(Be,["prevent"]),class:"space-y-4"},[t("div",Ql,[e(l(i),{name:"d1",error:l(ie)},{default:s(()=>[e(l(y),{label:"Caja aperturada",options:He,modelValue:Oe.value,"onUpdate:modelValue":a[0]||(a[0]=c=>Oe.value=c),disabled:"",class:"cajonci-select"},null,8,["modelValue"])]),_:1},8,["error"]),e(l(i),{label:"Descripción ingreso",name:"d2"},{default:s(()=>[e(l(V),{type:"text",placeholder:"Descripción ingreso",modelValue:F.value.gloss,"onUpdate:modelValue":a[1]||(a[1]=c=>F.value.gloss=c),modelModifiers:{trim:!0}},null,8,["modelValue"]),ll("gloss")?j("",!0):(h(),_("span",Wl,"Por favor ingrese descripción"))]),_:1})]),t("div",Zl,[e(l(i),{name:"d3"},{default:s(()=>[e(l(y),{label:"Emisor (opcional)",options:Ue,modelValue:ce.value,"onUpdate:modelValue":a[2]||(a[2]=c=>ce.value=c),class:"emisor-select"},null,8,["modelValue"])]),_:1}),e(l(i),{name:"d4"},{default:s(()=>[e(l(y),{label:"Concepto ingreso",options:Ie.value,modelValue:Ce.value,"onUpdate:modelValue":a[3]||(a[3]=c=>Ce.value=c),class:"concept-select",placeholder:"Seleccione ingreso"},null,8,["options","modelValue"]),Ce.value?j("",!0):(h(),_("span",Kl,"Por favor selecciona un concepto"))]),_:1})]),t("div",Xl,[ce.value==="clients"?(h(),_("div",et,[e(l(i),{label:"Clientes",class:"flex-1"},{default:s(()=>[e(l(y),{options:ze.value,modelValue:xe.value,"onUpdate:modelValue":a[4]||(a[4]=c=>xe.value=c),class:"client-select"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:Ze,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):ce.value==="providers"?(h(),_("div",lt,[e(l(i),{label:"Proveedores",class:"flex-1"},{default:s(()=>[e(l(y),{options:K.value,modelValue:he.value,"onUpdate:modelValue":a[5]||(a[5]=c=>he.value=c),class:"provider-select"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:nl,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):ce.value==="employees"?(h(),_("div",tt,[e(l(i),{label:"Empleados",class:"flex-1"},{default:s(()=>[e(l(y),{options:te.value,modelValue:Ve.value,"onUpdate:modelValue":a[6]||(a[6]=c=>Ve.value=c),class:"employee-select"},null,8,["options","modelValue"])]),_:1})])):j("",!0)]),e(l(ue),{title:"Registrar nuevo Cliente",label:"Modal title",activeModal:f.value,onClose:a[21]||(a[21]=c=>f.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[t("form",ot,[t("div",at,[t("div",null,[e(l(i),{label:"Tipo de cliente"},{default:s(()=>[e(l(y),{options:Ge,modelValue:A.value,"onUpdate:modelValue":a[7]||(a[7]=c=>A.value=c),class:"typecliente-select",placeholder:"Selccione Cliente"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Tipo documento"},{default:s(()=>[e(l(y),{options:Ke,modelValue:ke.value,"onUpdate:modelValue":a[8]||(a[8]=c=>ke.value=c),class:"typedocument-select"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"N° Documento"},{default:s(()=>[e(l(Re),{type:"text",placeholder:g.value,modelValue:H.value.document,"onUpdate:modelValue":a[9]||(a[9]=c=>H.value.document=c)},{append:s(()=>[e(l(U),{text:m.value,btnClass:"btn-outline-dark",onClick:M(il,["prevent"])},null,8,["text"])]),_:1},8,["placeholder","modelValue"])]),_:1})])]),t("div",st,[t("div",nt,[e(l(i),{label:"Nombre ó Razón Social"},{default:s(()=>[e(l(V),{type:"text",id:"client_fullname",modelValue:H.value.fullname,"onUpdate:modelValue":a[10]||(a[10]=c=>H.value.fullname=c),modelModifiers:{trim:!0},placeholder:"Ingrese Nombre ó Razón Social "},null,8,["modelValue"])]),_:1})]),dt]),t("div",rt,[t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:N.value,label:"Departamento",modelValue:l(de),"onUpdate:modelValue":a[11]||(a[11]=c=>Z(de)?de.value=c:de=c),class:"department-select",onChange:rl,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:L.value,label:"Provincias",modelValue:l(se),"onUpdate:modelValue":a[12]||(a[12]=c=>Z(se)?se.value=c:se=c),class:"province-select",onChange:Xe,placeholder:""},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:T.value,label:"Distritos",modelValue:l(D),"onUpdate:modelValue":a[13]||(a[13]=c=>Z(D)?D.value=c:D=c),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),t("div",it,[t("div",ct,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(V),{type:"text",modelValue:H.value.address,"onUpdate:modelValue":a[14]||(a[14]=c=>H.value.address=c),modelModifiers:{trim:!0},placeholder:"Ingrese Direción"},null,8,["modelValue"])]),_:1})]),ut]),t("div",mt,[t("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(V),{type:"text",modelValue:H.value.cellphone,"onUpdate:modelValue":a[15]||(a[15]=c=>H.value.cellphone=c),modelModifiers:{trim:!0},placeholder:"Ingrese N° de celular"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Teléfono fijo"},{default:s(()=>[e(l(V),{type:"text",modelValue:H.value.telephone,"onUpdate:modelValue":a[16]||(a[16]=c=>H.value.telephone=c),modelModifiers:{trim:!0},placeholder:"Ingrese N° de telefono fijo"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(V),{type:"email",modelValue:H.value.email,"onUpdate:modelValue":a[17]||(a[17]=c=>H.value.email=c),modelModifiers:{trim:!0},placeholder:"Ingrese correo electrónico"},null,8,["modelValue"])]),_:1})])]),t("div",pt,[t("div",null,[e(l(i),{label:"Fecha de nacimiento"},{default:s(()=>[e(d,{modelValue:H.value.date_birthday,"onUpdate:modelValue":a[18]||(a[18]=c=>H.value.date_birthday=c),class:"form-control",id:"date_birthday",placeholder:"yyyy, dd M",config:{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d"}},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:Q,label:"Estado",modelValue:l(_e),"onUpdate:modelValue":a[19]||(a[19]=c=>Z(_e)?_e.value=c:_e=c),class:"state-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:tl,label:"Sexo",modelValue:l(Me),"onUpdate:modelValue":a[20]||(a[20]=c=>Z(Me)?Me.value=c:Me=c),class:"sexo-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})])]),t("div",vt,[bt,t("div",ft,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(Je,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(ol,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(ue),{title:"Registrar nuevo Proveedor",label:"Modal title",activeModal:I.value,onClose:a[32]||(a[32]=c=>I.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[t("form",gt,[t("div",ht,[t("div",null,[e(l(i),{label:"N° RUC"},{default:s(()=>[e(l(Re),{type:"text",placeholder:"RUC",modelValue:oe.value.document,"onUpdate:modelValue":a[22]||(a[22]=c=>oe.value.document=c),modelModifiers:{trim:!0}},{append:s(()=>[e(l(U),{text:"SUNAT",btnClass:"btn-outline-dark ",onClick:M(De,["prevent"])})]),_:1},8,["modelValue"])]),_:1})]),t("div",_t,[e(l(i),{label:"Razón social del proveedor"},{default:s(()=>[e(l(V),{modelValue:oe.value.fullname,"onUpdate:modelValue":a[23]||(a[23]=c=>oe.value.fullname=c),modelModifiers:{trim:!0},placeholder:"Razón social del proveedor",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Nombre comercial"},{default:s(()=>[e(l(V),{modelValue:oe.value.tradename,"onUpdate:modelValue":a[24]||(a[24]=c=>oe.value.tradename=c),modelModifiers:{trim:!0},placeholder:"Nombre comercial",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",yt,[t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:N.value,label:"Departamento",modelValue:l(de),"onUpdate:modelValue":a[25]||(a[25]=c=>Z(de)?de.value=c:de=c),class:"department-select",onChange:rl,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:L.value,label:"Provincias",modelValue:l(se),"onUpdate:modelValue":a[26]||(a[26]=c=>Z(se)?se.value=c:se=c),class:"province-select",onChange:Xe,placeholder:""},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:T.value,label:"Distritos",modelValue:l(D),"onUpdate:modelValue":a[27]||(a[27]=c=>Z(D)?D.value=c:D=c),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(V),{modelValue:oe.value.address,"onUpdate:modelValue":a[28]||(a[28]=c=>oe.value.address=c),modelModifiers:{trim:!0},placeholder:"Dirección",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",xt,[t("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(V),{modelValue:oe.value.cellphone,"onUpdate:modelValue":a[29]||(a[29]=c=>oe.value.cellphone=c),modelModifiers:{trim:!0},placeholder:"Celular","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Teléfono"},{default:s(()=>[e(l(V),{modelValue:oe.value.telephone,"onUpdate:modelValue":a[30]||(a[30]=c=>oe.value.telephone=c),modelModifiers:{trim:!0},placeholder:"Teléfono","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(V),{modelValue:oe.value.email,"onUpdate:modelValue":a[31]||(a[31]=c=>oe.value.email=c),modelModifiers:{trim:!0},placeholder:"Correo electrónico",type:"email",class:"w-full"},null,8,["modelValue"])]),_:1})])]),t("div",Vt,[Ct,t("div",kt,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(Ne,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(cl,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(ue),{title:"Registrar cuenta bancaria",label:"Modal title",activeModal:P.value,onClose:a[44]||(a[44]=c=>P.value=!1)},{default:s(()=>[t("form",wt,[t("div",Et,[t("div",null,[e(l(i),{label:"Sucursal",class:"block"},{default:s(()=>[e(l(y),{modelValue:je.value,"onUpdate:modelValue":a[33]||(a[33]=c=>je.value=c),options:Ae,required:"",class:"oficinaprincipal-select"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Tipo de cuenta",class:"block"},{default:s(()=>[e(l(y),{modelValue:$e.value,"onUpdate:modelValue":a[34]||(a[34]=c=>$e.value=c),options:ne,required:"",class:"typeaccount-select"},null,8,["modelValue"])]),_:1})])]),t("div",$t,[t("div",Mt,[e(l(i),{label:"Banco",class:"flex-1"},{default:s(()=>[e(l(y),{options:Fe.value,modelValue:we.value,"onUpdate:modelValue":a[35]||(a[35]=c=>we.value=c),class:"banck-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:M(Qe,["prevent"]),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),t("div",null,[e(l(i),{label:"Moneda",class:"block"},{default:s(()=>[e(l(y),{modelValue:Ee.value,"onUpdate:modelValue":a[36]||(a[36]=c=>Ee.value=c),options:Se,required:"",class:"money-select"},null,8,["modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Nombre cuenta",class:"block"},{default:s(()=>[e(l(V),{modelValue:G.value.name,"onUpdate:modelValue":a[37]||(a[37]=c=>G.value.name=c),modelModifiers:{trim:!0},placeholder:"Nombre cuenta",required:""},null,8,["modelValue"])]),_:1})]),t("div",It,[t("div",null,[e(l(i),{label:"N° de cuenta",class:"block"},{default:s(()=>[e(l(V),{modelValue:G.value.number_account,"onUpdate:modelValue":a[38]||(a[38]=c=>G.value.number_account=c),modelModifiers:{trim:!0},placeholder:"N° de cuenta",required:""},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"N° CCI (Código interbancario)",class:"block"},{default:s(()=>[e(l(V),{modelValue:G.value.cci_account,"onUpdate:modelValue":a[39]||(a[39]=c=>G.value.cci_account=c),modelModifiers:{trim:!0},placeholder:"N° CCI",required:""},null,8,["modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Titular cuenta",class:"block"},{default:s(()=>[e(l(V),{modelValue:G.value.headline,"onUpdate:modelValue":a[40]||(a[40]=c=>G.value.headline=c),modelModifiers:{trim:!0},placeholder:"Titular cuenta",required:""},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Descripción",class:"block"},{default:s(()=>[e(l(wl),{modelValue:G.value.description,"onUpdate:modelValue":a[41]||(a[41]=c=>G.value.description=c),modelModifiers:{trim:!0},placeholder:"Descripción"},null,8,["modelValue"])]),_:1})]),t("div",St,[Ut,t("div",Tt,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(Ye,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(ul,["prevent"])})])])]),e(l(ue),{title:"Registrar banco",label:"Modal title",activeModal:O.value,onClose:a[43]||(a[43]=c=>O.value=!1)},{default:s(()=>[t("form",Dt,[e(l(V),{label:"Nombre",name:"pn",type:"text",placeholder:"Ingresar nombre ",modelValue:ye.value.description,"onUpdate:modelValue":a[42]||(a[42]=c=>ye.value.description=c)},null,8,["modelValue"]),t("div",Pt,[jt,t("div",Nt,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(el,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(ml,["prevent"])})])])])]),_:1},8,["activeModal"])]),_:1},8,["activeModal"]),t("div",Rt,[e(l(i),{name:"d5",class:"mt-1"},{default:s(()=>[At,e(l(y),{id:"payment-type",options:Le,modelValue:ee.value,"onUpdate:modelValue":a[45]||(a[45]=c=>ee.value=c),class:"pago-select mt-2",disabled:""},null,8,["modelValue"])]),_:1}),q.value?(h(),_(pe,{key:0},[t("div",qt,[e(l(i),{label:"Cuenta destino",class:"flex-1"},{default:s(()=>[e(l(y),{options:le.value,modelValue:be.value,"onUpdate:modelValue":a[46]||(a[46]=c=>be.value=c),class:"cuentadestino-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:qe,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),e(l(i),{label:"N° de Operación"},{default:s(()=>[e(l(V),{type:"text",modelValue:F.value.reference_operation,"onUpdate:modelValue":a[47]||(a[47]=c=>F.value.reference_operation=c),modelModifiers:{trim:!0},placeholder:"Ingrese N° de Operación"},null,8,["modelValue"])]),_:1})],64)):j("",!0),t("div",Ot,[t("div",Bt,[e(l(i),{label:"Monto",name:"d6"},{default:s(()=>[e(l(V),{type:"text",placeholder:"Monto",modelValue:F.value.amount,"onUpdate:modelValue":a[48]||(a[48]=c=>F.value.amount=c),modelModifiers:{trim:!0},disabled:!X.value},null,8,["modelValue","disabled"]),ll("amount")?j("",!0):(h(),_("span",Lt,"Por favor ingrese monto"))]),_:1})]),t("div",Ft,[e(l(xl),{active:"",label:"Modificar",class:"font-bold",modelValue:X.value,"onUpdate:modelValue":a[49]||(a[49]=c=>X.value=c)},null,8,["modelValue"])])])]),t("div",Gt,[t("div",zt,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(ve,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:dl})])])],32)]),_:1},8,["activeModal"])])}}},$l=Te().headers();function Ht(){const b=new Date;return b.setHours(b.getHours()-5),b.toISOString().slice(0,10)}const Jt={components:{InputGroup:Re,Tooltip:kl,FromGroup:i,Button:U,Pagination:Cl,Dropdown:Sl,Icon:yl,EditProject:ql,MenuItem:Ul,Card:_l,ProgressBar:Dl},data(){return{searchTerm:"",ingresoData:{},showEditModal:!1,current:1,perpage:10,dateDefault:Ht(),pageRange:10,actions:[{name:"edit",icon:"heroicons:pencil-square",doit:b=>{this.ingresoData=b,this.showEditModal=!0}},{name:"delete",icon:"heroicons-outline:trash",doit:async b=>{try{await x.delete(`https://thtsystemv2.tech/public/api/v1/hotels/delete/${b.id}`,$l),me().success("Hotel eliminado correctamente",{timeout:1500}),this.listarHoteles()}catch(p){console.error("Error al eliminar empleado:",p)}}}],columns:[{label:"N° ingreso",field:"nro_voucher"},{label:"Fecha",field:"date_movement"},{label:"Caja",field:"branch_office"},{label:"Emisor",field:"client"},{label:"Concepto",field:"concept"},{label:"Método pago	",field:"payment_method"},{label:"Monto ",field:"amount"},{label:"Action",field:"action"}],projects:[]}},methods:{async reloadCrmTable(){try{await this.listarIngresos()}catch(b){console.error("Error al recargar Ingresos :",b)}},handleVerDocumento(b){x.get(`https://thtsystemv2.tech/public/api/v1/list-movements-pdf/${b}`).then(p=>{}).catch(p=>{console.error("Error al obtener la URL del PDF:",p),window.open(p.config.url,"_blank")})},async downloadFile2(){try{const p=(await x.get("https://thtsystemv2.tech/public/api/v1/export-money-por-dia",{params:{date:this.dateDefault},responseType:"blob"})).request.responseURL,C=new URL(p),w=document.createElement("a");w.href=C,w.setAttribute("download","archivo.xlsx"),w.style.display="none",document.body.appendChild(w),w.click(),document.body.removeChild(w)}catch(b){console.error("Error al descargar el archivo:",b)}},async listarIngresos(){try{const b=await x.get("https://thtsystemv2.tech/public/api/v1/moneys-akemy/list",{params:{date:this.dateDefault},...$l});this.projects=b.data,this.projects&&this.projects.length>0?me().success("Ingresos listados correctamente",{timeout:1500}):me().info("Para el día de hoy, todavía no exiten registros de ingreso",{timeout:2500})}catch(b){console.error("Error al obtener los datos de los ingresos:",b),me().error("Ocurrió un error al obtener los ingresos. Por favor, inténtalo de nuevo.",{timeout:1500})}}},mounted(){Promise.all([this.listarIngresos()]).then(()=>{}).catch(b=>{console.error("Error al realizar llamadas a la API:",b)})},watch:{async dateDefault(b,p){try{const C=await x.get("https://thtsystemv2.tech/public/api/v1/moneys-akemy/list",{params:{date:b},...$l});this.projects=C.data,this.projects&&this.projects.length>0?me().success("Ingresos listados correctamente",{timeout:1500}):me().info("Para este día, no hay registros de ingreso",{timeout:2500})}catch(C){console.error("Error al obtener los datos de los empleados:",C),me().error("Ocurrió un error al obtener los ingresos. Por favor, inténtalo de nuevo.",{timeout:1500})}}}},Yt={class:"md:flex justify-between pb-6 md:space-y-0 space-y-3 items-center"},Qt=t("h5",null,"Ingresos Caja General",-1),Wt={class:"flex items-center"},Zt={key:0},Kt={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Xt={class:"font-bold text-blue-700"},eo={key:1},lo={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},to={key:2,class:"block"},oo=t("br",null,null,-1),ao=["innerHTML"],so=t("br",null,null,-1),no=["innerHTML"],ro=t("br",null,null,-1),io=["innerHTML"],co={key:3},uo={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},mo={key:4},po={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},vo={key:5,class:"action-btn text-end mr-3"},bo=["onClick"],fo=t("span",null,"Ver documento",-1),go={class:"text-xl"},ho=["onClick"],_o={class:"text-base"},yo={class:"py-4 px-3"};function xo(b,p,C,w,f,I){const P=S("Button"),O=S("flat-pickr"),N=S("FromGroup"),T=S("InputGroup"),L=S("Icon"),W=S("Tooltip"),$=S("MenuItem"),ve=S("Dropdown"),F=S("Pagination"),Pe=S("vue-good-table"),R=S("EditProject"),B=S("Card");return h(),_("div",null,[e(B,{noborder:""},{default:s(()=>[t("div",Yt,[Qt,t("div",Wt,[e(P,{icon:"heroicons-outline:arrow-path",btnClass:" btn-outline-secondary text-slate-600 dark:border-slate-700 dark:text-slate-300 font-normal btn-sm mr-3",iconClass:"text-lg",onClick:I.reloadCrmTable},null,8,["onClick"]),e(N,{name:"d1"},{default:s(()=>[e(O,{modelValue:f.dateDefault,"onUpdate:modelValue":p[0]||(p[0]=k=>f.dateDefault=k),class:"form-control",id:"d1",placeholder:"yyyy, dd M"},null,8,["modelValue"])]),_:1}),e(T,{modelValue:f.searchTerm,"onUpdate:modelValue":p[1]||(p[1]=k=>f.searchTerm=k),placeholder:"Ingrese N° de recibo para buscar",type:"text",prependIcon:"heroicons-outline:search",merged:"",class:"ml-3 w-[280px]"},null,8,["modelValue"]),e(P,{icon:"heroicons-outline:download",btnClass:"bg-green-700 text-white ml-4 text-sm",iconClass:"text-lg",onClick:M(I.downloadFile2,["prevent"])},null,8,["onClick"])])]),e(Pe,{class:"-mx-6",columns:f.columns,styleClass:" vgt-table  table-head   v-middle striped  listview",rows:this.projects,"pagination-options":{enabled:!0,perPage:f.perpage},"search-options":{enabled:!0,externalQuery:f.searchTerm},"sort-options":{enabled:!1}},{"table-row":s(k=>[k.column.field=="nro_voucher"?(h(),_("span",Zt,[t("div",Kt,[t("span",Xt,Y(k.row.nro_voucher),1)])])):j("",!0),k.column.field=="branch_office"?(h(),_("span",eo,[t("div",lo,Y(k.row.branch_office.description),1)])):j("",!0),k.column.field==="client"?(h(),_("span",to,[t("div",null,[k.row.client?(h(),_(pe,{key:0},[fe(" C- "+Y(k.row.client.fullname),1),oo,t("span",{class:"font-bold",innerHTML:"N° Doc "+k.row.client.document},null,8,ao)],64)):k.row.employee?(h(),_(pe,{key:1},[fe(" E- "+Y(k.row.employee.fullname),1),so,t("span",{class:"font-bold",innerHTML:"N° Doc "+k.row.employee.document},null,8,no)],64)):k.row.provider?(h(),_(pe,{key:2},[fe(" P- "+Y(k.row.provider.fullname),1),ro,t("span",{class:"font-bold",innerHTML:"N° Doc "+k.row.provider.document},null,8,io)],64)):(h(),_(pe,{key:3},[fe(" No hay información disponible ")],64))])])):j("",!0),k.column.field=="concept"?(h(),_("span",co,[t("div",uo,Y(k.row.concept.description),1)])):j("",!0),k.column.field=="payment_method"?(h(),_("span",mo,[t("div",po,Y(k.row.payment_method.description),1)])):j("",!0),k.column.field=="action"?(h(),_("div",vo,[e(W,{placement:"top",arrow:"",theme:"info-500"},{button:s(()=>[t("div",{class:"action-btn",onClick:M(ae=>I.handleVerDocumento(k.row.id),["prevent"])},[e(L,{class:"text-2xl",icon:"heroicons:clipboard-document-list"})],8,bo)]),default:s(()=>[fo]),_:2},1024),e(ve,{classMenuItems:" w-[150px]"},{menus:s(()=>[(h(!0),_(pe,null,pl(f.actions,(ae,ge)=>(h(),hl($,{key:ge},{default:s(()=>[t("div",{onClick:re=>ae.doit(k.row),class:vl(`
                
                  ${ae.name==="delete"?"bg-danger-500 text-danger-500 bg-opacity-30  hover:bg-opacity-100 hover:text-white":"hover:bg-slate-900 hover:text-white"}
                   w-full border-b border-b-gray-500 border-opacity-10 px-4 py-2 text-sm  last:mb-0 cursor-pointer first:rounded-t last:rounded-b flex  space-x-2 items-center `)},[t("span",_o,[e(L,{icon:ae.icon},null,8,["icon"])]),t("span",null,Y(ae.name),1)],10,ho)]),_:2},1024))),128))]),default:s(()=>[t("div",go,[e(L,{icon:"heroicons-outline:dots-vertical"})])]),_:2},1024)])):j("",!0)]),"pagination-bottom":s(k=>[t("div",yo,[e(F,{total:f.projects.length,current:f.current,"per-page":f.perpage,pageRange:f.pageRange,onPageChanged:p[2]||(p[2]=ae=>f.current=ae),pageChanged:k.pageChanged,perPageChanged:k.perPageChanged,enableSearch:"",enableSelect:""},null,8,["total","current","per-page","pageRange","pageChanged","perPageChanged"])])]),_:1},8,["columns","rows","pagination-options","search-options"]),e(R,{activeModal:f.showEditModal,onClose:p[3]||(p[3]=k=>f.showEditModal=!1),ingresoData:f.ingresoData,title:"Actualizar Datos Ingreso",onUpdateIngresoList:I.listarIngresos},null,8,["activeModal","ingresoData","onUpdateIngresoList"])]),_:1})])}const Vo=bl(Jt,[["render",xo]]),Co={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},ko={key:0,class:"text-red-500"},wo={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Eo={key:0,class:"text-red-500"},$o={class:"grid lg:grid-cols-1 gap-4 grid-cols-1"},Mo={key:0,class:"flex items-center"},Io={key:1,class:"flex items-center"},So={key:2,class:"flex items-center"},Uo={key:3,class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},To={name:"client_form",id:"client_form",autocomplete:"off",class:"mx-auto space-y-4"},Do={class:"grid grid-cols-3 lg:grid-cols-3 gap-4"},Po={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},jo={class:"lg:col-span-3"},No=t("div",{class:"lg:hidden"},null,-1),Ro={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Ao={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},qo={class:"lg:col-span-3"},Oo=t("div",{class:"lg:hidden"},null,-1),Bo={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Lo={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Fo={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Go=t("div",{class:"lg:col-span-1"},null,-1),zo={class:"lg:col-span-3 flex justify-end"},Ho={name:"providerForm",id:"providerForm",autocomplete:"off",class:"space-y-4"},Jo={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Yo={class:"md:col-span-1 lg:col-span-2"},Qo={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Wo={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Zo={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Ko=t("div",{class:"lg:col-span-3"},null,-1),Xo={class:"lg:col-span-1 flex justify-end"},ea={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},la={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},ta={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},oa={class:"flex items-center"},aa={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},sa={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},na=t("div",{class:"lg:col-span-3"},null,-1),da={class:"lg:col-span-1 flex justify-end"},ra={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},ia={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},ca=t("div",{class:"lg:col-span-3"},null,-1),ua={class:"lg:col-span-1 flex justify-end"},ma={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},pa=t("label",{for:"payment-type",class:"block text-sm font-medium text-gray-700 flex items-center"},[fe(" Método de pago "),t("span",{class:"text-red-500 ml-1"},"*")],-1),va={class:"flex items-center"},ba={class:"flex items-center"},fa={class:"flex-1"},ga={key:0,class:"text-red-500"},ha={class:"ml-2 flex items-center"},_a={class:"form-group col-lg-12 form__footerBtn mt-4"},ya={class:"text-right"},Ol={__name:"ClientEditModal-Egreso-A",props:{activeModal:Boolean,egresoData:Object},emits:["close","updateEgresoList"],setup(b,{emit:p}){const C=Te().headers();sl();const w=me(),f=u(!1),I=u(!1),P=u(!1),O=u(!1),N=u(!1),T=u([]),L=u([]),W=u([]),$=b,ve=p,F=()=>{ve("close")},Pe=()=>{F()},R=u({receptor_module:"",receptor_fullname:"",receptor_document:"",is_paycredit:"",available_edit:"",user_id:"",branchoffice_id:"",moneybox_id:"",concept_id:"",paymentmethod_id:"",currency_id:"",voucher_id:"",client_id:"",provider_id:"",employee_id:"",accountbank_id:"",date_movement:"",amount:"",text_amount:"",gloss:"",reference_operation:"",nro_voucher:"",serie:"",correlative:"",billing_external_id:"",billing_hash:"",motive_cancelled:"",billing_cancelled:"",date_repayment:"",repaymentmovement_id:"",dischargedocument_id:"",is_voucher_external:"",voucher_external:"",nro_voucher_external:"",booking_id:"",commision_id:"",observation:"",is_visible:""}),B=async()=>{try{const o=await x.get("https://thtsystemv2.tech/public/api/v1/ubigeo/departments",C);T.value=o.data.data.map(r=>({value:r.id,label:r.name}))}catch(o){console.error("Error fetching departments:",o)}},k=async()=>{try{const o=await x.get("https://thtsystemv2.tech/public/api/v1/clients/list",C);xe.value=o.data.data.map(r=>({value:r.id,label:r.fullname}))}catch(o){console.error("Error fetching departments:",o)}},ae=async()=>{try{const o=await x.get("https://thtsystemv2.tech/public/api/v1/moneys/expense-concepts",C);il.value=o.data.data.map(r=>({value:r.id,label:r.description}))}catch(o){console.error("Error fetching departments:",o)}},ge=async()=>{try{const o=await x.get("https://thtsystemv2.tech/public/api/v1/banks/list",C);Ke.value=o.data.data.map(r=>({value:r.id,label:r.description}))}catch(o){console.error("Error fetching departments:",o)}},re=async()=>{try{const o=await x.get("https://thtsystemv2.tech/public/api/v1/typevouchers/list",C);He.value=o.data.data.map(r=>({value:r.id,label:r.description}))}catch(o){console.error("Error fetching departments:",o)}},Se=async()=>{try{const o=await x.get("https://thtsystemv2.tech/public/api/v1/accountbanks/list",C);H.value=o.data.data.map(r=>({value:r.id,label:r.name}))}catch(o){console.error("Error fetching departments:",o)}},K=async()=>{try{const o=await x.get("https://thtsystemv2.tech/public/api/v1/providers/list",C);G.value=o.data.data.map(r=>({value:r.id,label:r.fullname}))}catch(o){console.error("Error fetching departments:",o)}},te=async()=>{try{const o=await x.get("https://thtsystemv2.tech/public/api/v1/employees/list",C);ze.value=o.data.data.map(r=>({value:r.id,label:r.fullname}))}catch(o){console.error("Error fetching departments:",o)}},ye=[{value:501,label:"SOL"},{value:502,label:"DÓLAR"},{value:503,label:"EURO"}],G=u([]),ze=u([]),He=u([]),Ae=u({description:""}),ne=u({branchoffice_id:"",bank_id:"",typeaccount_id:"",currency_id:"",name:"",number_account:"",cci_account:"",balance:"",headline:"",description:""}),xe=u([]),he=[{value:2,label:"Caja General"}],Ve=[{value:500,label:"Oficina Principal"}],Ce=[{value:504,label:"CUENTA SIMPLE"},{value:505,label:"CUENTA CORRIENTE"},{value:506,label:"TARJETA DE CRÉDITO"}],be=u(null),we=u(null),Ee=u(null),$e=u(null),je=u(null),Oe=u(null),Be=u(null),Ze=u(ye[0].value),Je=u(Ce[0].value),Ne=u(Ve[0].value),Ye=u(he[0].value),el=()=>{},nl=()=>{f.value=!f.value},qe=u(!1),dl=()=>{f.value=!1},X=()=>{I.value=!1},Qe=()=>{P.value=!1},oe=()=>{O.value=!1},ee=()=>{I.value=!I.value},Fe=()=>{const o=document.querySelector(".cajonci-select select");if(o){const al=o.selectedIndex,El=o.options[al].text;R.value.branchoffice_id=al,R.value.branchbox=El}const r=document.querySelector(".pago-select select");if(o){const al=r.selectedIndex,El=r.options[al].text;R.value.paymentmethod_id=al,R.value.paymethod=El}const z=be.value;R.value.client_id=z;const v=we.value;R.value.provider_id=v;const J=Ee.value;R.value.employee_id=J;const fl=$e.value;R.value.concept_id=fl;const Bl=je.value;R.value.accountbank_id=Bl,R.value.voucher_external=Be.value,R.value.is_voucher_external=qe.value,qe.value||(R.value.nro_voucher_external=null,R.value.voucher_external=null),x.post(`https://thtsystemv2.tech/public/api/v1/moneys-akemy/edit/${R.value.id}`,R.value,{...C}).then(al=>{ve("updateEgresoList"),F(),w.success(al.data.message)}).catch(al=>{console.error("Error al guardar los datos:",al)})},We=u(!1),ll=()=>{O.value=!O.value},le=u({typedocument_id:"",document:"",department_id:"",province_id:"",district_id:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:""}),Ge=u("cash"),Ke=u([]),Q=o=>!!R.value[o],tl=o=>Q(o),H=u([]),A=[{value:1,label:"Natural"},{value:2,label:"Jurídico"}],ke=[{value:1,label:"DNI"},{value:2,label:"RUC"},{value:3,label:"PASAPORTE"}],de=[{id:1,label:"Soltero"},{id:2,label:"Casado"},{id:2,label:"Viudo"},{id:2,label:"Divorciado"}],se=[{id:1,label:"Masculino"},{id:2,label:"Femenino"}],D=u({typedocument_id:"",department_id:"",province_id:"",district_id:"",type_client:"",fullname:"",document:"",tradename:"",address:"",email:"",telephone:"",cellphone:"",date_birthday:"",sex:"",status:"",typeDocument:""}),_e=u(A[0].value),Me=u(ke[0].value);let ie=u(null),Ue=u(null),ce=u(null),Ie=u(null),Le=u(null),rl="";const Xe=[{value:"clients",label:"Clientes"},{value:"providers",label:"Proveedores"},{value:"employees",label:"Empleados"}],De=u(Xe[0].value),il=u([]),ml=[{value:1,label:"Efectivo"},{value:2,label:"Visa"},{value:3,label:"Cheque"},{value:4,label:"Depósito a cuenta"}],cl=async()=>{try{const o=await x.get(`https://thtsystemv2.tech/public/api/v1/ubigeo/provinces/${D.value.department_id}`,C);W.value=o.data.data.map(r=>({value:r.id,label:r.name}))}catch(o){console.error("Error fetching provinces:",o)}},ol=async()=>{try{const o=await x.get(`https://thtsystemv2.tech/public/api/v1/ubigeo/districts/${D.value.province_id}`,C);L.value=o.data.data.map(r=>({value:r.id,label:r.name}))}catch(o){console.error("Error fetching provinces:",o)}},ul=()=>{x.post("https://thtsystemv2.tech/public/api/v1/getRucData",{ruc:le.value.document}).then(o=>{le.value.fullname=o.data.data.nombre_o_razon_social,le.value.address=o.data.data.direccion}).catch(o=>{console.error("Error al obtener datos del RUC:",o)})},g=()=>{x.post("https://thtsystemv2.tech/public/api/v1/getDniData",{dni:D.value.document}).then(o=>{D.value.fullname=o.data.data.nombre_completo}).catch(o=>{console.error("Error al obtener datos del DNI:",o)})},m=()=>{x.post("https://thtsystemv2.tech/public/api/v1/banks/create",Ae.value,{...C}).then(o=>{oe(),ge(),w.success(o.data.message)}).catch(o=>{console.error("Error al guardar los datos:",o)})},q=()=>{x.post("https://thtsystemv2.tech/public/api/v1/providers/create",le.value,{...C}).then(o=>{X(),K(),w.success(o.data.message)}).catch(o=>{console.error("Error al guardar los datos:",o)})},n=()=>{const o=document.querySelector(".typecliente-select select");if(o){const z=o.selectedIndex,v=z.toString();o.options[z].text,D.value.type_client=v}const r=document.querySelector(".typedocument-select select");if(o){const z=r.selectedIndex,v=r.options[z].text;D.value.typedocument_id=z,D.value.typeDocument=v}x.post("https://thtsystemv2.tech/public/api/v1/clients/create",D.value,{...C}).then(z=>{dl(),k(),w.success(z.data.message)}).catch(z=>{console.error("Error al guardar los datos:",z)})},a=()=>{const o=document.querySelector(".oficinaprincipal-select select");if(o){const J=o.selectedIndex;o.options[J].text,ne.value.branchoffice_id=J}const r=document.querySelector(".typeaccount-select select");if(o){const J=r.selectedIndex;r.options[J].text,ne.value.typeaccount_id=J}const z=document.querySelector(".banck-select select");if(o){const J=z.selectedIndex;z.options[J].text,ne.value.bank_id=J}const v=document.querySelector(".money-select select");if(o){const J=v.selectedIndex;v.options[J].text,ne.value.currency_id=J}x.post("https://thtsystemv2.tech/public/api/v1/accountbanks/create",ne.value,{...C}).then(J=>{Qe(),Se(),w.success(J.data.message)}).catch(J=>{console.error("Error al guardar los datos:",J)})};E(()=>be.value,(o,r)=>{}),E(()=>Ye.value,(o,r)=>{}),E(()=>$e.value,(o,r)=>{}),E(()=>Ze.value,(o,r)=>{}),E(()=>we.value,(o,r)=>{}),E(()=>Ge.value,(o,r)=>{}),E(()=>je.value,(o,r)=>{}),E(()=>Je.value,(o,r)=>{}),E(()=>Oe.value,(o,r)=>{}),E(()=>Ee.value,(o,r)=>{}),E(()=>Ne.value,(o,r)=>{}),E(De,(o,r)=>{const z=document.querySelector(".emisor-select select");if(z){const v=z.selectedIndex;z.options[v].text}}),E(()=>ce.value,(o,r)=>{if(document.querySelector(".district-select select")){const v=o.toString().padStart(6,"0");D.value.district_id=v,le.value.district_id=v}}),E(()=>Ue.value,(o,r)=>{if(document.querySelector(".province-select select")){const v=o.toString().padStart(4,"0");D.value.province_id=v,le.value.province_id=v}}),E(()=>ie.value,(o,r)=>{if(document.querySelector(".department-select select")){const v=o.toString().padStart(2,"0");D.value.department_id=v,le.value.department_id=v}});const d=u("N° DNI"),c=u("RENIEC");return E(()=>Me.value,o=>{const r=document.querySelector(".typedocument-select select");if(r){const z=r.selectedIndex,v=r.options[z],J=r.options[z].text;D.value.typedocument_id=z,D.value.typeDocument=J,d.value=`N° ${v.textContent}`,c.value=o==="1"?"RENIEC":o==="2"?"SUNAT":"Validar"}}),E(()=>Le.value,(o,r)=>{const z=document.querySelector(".sexo-select select");if(z){const v=z.selectedIndex,J=z.options[v].text;D.value.sex=J}}),E(()=>Ie.value,(o,r)=>{const z=document.querySelector(".state-select select");if(z){const v=z.selectedIndex,J=z.options[v].text;D.value.status=J}}),Vl(async()=>{try{await ae(),await Se(),await K(),await ge(),await k(),await te(),await B(),await re()}catch(o){console.error("Error al realizar llamadas a la API:",o)}}),E(()=>$.egresoData,o=>{o&&(be.value=null,Ee.value=null,we.value=null,o.client_id?(De.value="clients",be.value=o.client_id):o.employee_id?(De.value="employees",Ee.value=o.employee_id):o.provider_id&&(De.value="providers",we.value=o.provider_id),R.value.id=o.id,R.value.gloss=o.gloss,R.value.nro_voucher_external=o.nro_voucher_external,R.value.reference_operation=o.reference_operation,$e.value=o.concept_id,Ge.value=o.paymentmethod_id,je.value=o.accountbank_id,R.value.amount=o.amount,qe.value=o.is_voucher_external===1,Be.value=o.voucher_external,N.value=o.paymentmethod_id===4)}),(o,r)=>{const z=S("flat-pickr");return h(),_("div",null,[e(l(ue),{activeModal:$.activeModal,onClose:F,title:"Actualizar Registro de Egreso - Caja General",centered:""},{default:s(()=>[t("form",{onSubmit:M(el,["prevent"]),class:"space-y-4"},[t("div",Co,[e(l(i),{name:"d1",error:l(rl)},{default:s(()=>[e(l(y),{label:"Caja aperturada",options:he,modelValue:Ye.value,"onUpdate:modelValue":r[0]||(r[0]=v=>Ye.value=v),disabled:"",class:"cajonci-select"},null,8,["modelValue"])]),_:1},8,["error"]),e(l(i),{label:"Descripción egreso",name:"d2"},{default:s(()=>[e(l(V),{type:"text",placeholder:"Descripción egreso",modelValue:R.value.gloss,"onUpdate:modelValue":r[1]||(r[1]=v=>R.value.gloss=v),modelModifiers:{trim:!0}},null,8,["modelValue"]),tl("gloss")?j("",!0):(h(),_("span",ko,"Por favor ingrese descripción"))]),_:1})]),t("div",wo,[e(l(i),{name:"d3"},{default:s(()=>[e(l(y),{label:"Emisor (opcional)",options:Xe,modelValue:De.value,"onUpdate:modelValue":r[2]||(r[2]=v=>De.value=v),class:"emisor-select"},null,8,["modelValue"])]),_:1}),e(l(i),{name:"d4"},{default:s(()=>[e(l(y),{label:"Concepto egreso",options:il.value,modelValue:$e.value,"onUpdate:modelValue":r[3]||(r[3]=v=>$e.value=v),class:"concept-select",placeholder:"Seleccione concepto"},null,8,["options","modelValue"]),$e.value?j("",!0):(h(),_("span",Eo,"Por favor selecciona un concepto"))]),_:1})]),t("div",$o,[De.value==="clients"?(h(),_("div",Mo,[e(l(i),{label:"Clientes",class:"flex-1"},{default:s(()=>[e(l(y),{options:xe.value,modelValue:be.value,"onUpdate:modelValue":r[4]||(r[4]=v=>be.value=v),class:"client-select"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:nl,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):De.value==="providers"?(h(),_("div",Io,[e(l(i),{label:"Proveedores",class:"flex-1"},{default:s(()=>[e(l(y),{options:G.value,modelValue:we.value,"onUpdate:modelValue":r[5]||(r[5]=v=>we.value=v),class:"provider-select"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:ee,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):De.value==="employees"?(h(),_("div",So,[e(l(i),{label:"Empleados",class:"flex-1"},{default:s(()=>[e(l(y),{options:ze.value,modelValue:Ee.value,"onUpdate:modelValue":r[6]||(r[6]=v=>Ee.value=v),class:"employee-select"},null,8,["options","modelValue"])]),_:1})])):j("",!0),e(l(xl),{label:"Incluye Comprobante",modelValue:qe.value,"onUpdate:modelValue":r[7]||(r[7]=v=>qe.value=v),checked:qe.value},null,8,["modelValue","checked"]),qe.value?(h(),_("div",Uo,[e(l(i),{label:"Tipo de Comprobante"},{default:s(()=>[e(l(y),{options:He.value,modelValue:Be.value,"onUpdate:modelValue":r[8]||(r[8]=v=>Be.value=v)},null,8,["options","modelValue"])]),_:1}),e(l(i),{label:"N° de Comprobante"},{default:s(()=>[e(l(V),{type:"text",modelValue:R.value.nro_voucher_external,"onUpdate:modelValue":r[9]||(r[9]=v=>R.value.nro_voucher_external=v),placeholder:"Ingrese N° de Comprobante"},null,8,["modelValue"])]),_:1})])):j("",!0)]),e(l(ue),{title:"Registrar nuevo Cliente",label:"Modal title",activeModal:f.value,onClose:r[24]||(r[24]=v=>f.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[t("form",To,[t("div",Do,[t("div",null,[e(l(i),{label:"Tipo de cliente"},{default:s(()=>[e(l(y),{options:A,modelValue:_e.value,"onUpdate:modelValue":r[10]||(r[10]=v=>_e.value=v),class:"typecliente-select",placeholder:"Selccione Cliente"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Tipo documento"},{default:s(()=>[e(l(y),{options:ke,modelValue:Me.value,"onUpdate:modelValue":r[11]||(r[11]=v=>Me.value=v),class:"typedocument-select"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"N° Documento"},{default:s(()=>[e(l(Re),{type:"text",placeholder:d.value,modelValue:D.value.document,"onUpdate:modelValue":r[12]||(r[12]=v=>D.value.document=v)},{append:s(()=>[e(l(U),{text:c.value,btnClass:"btn-outline-dark",onClick:M(g,["prevent"])},null,8,["text"])]),_:1},8,["placeholder","modelValue"])]),_:1})])]),t("div",Po,[t("div",jo,[e(l(i),{label:"Nombre ó Razón Social"},{default:s(()=>[e(l(V),{type:"text",id:"client_fullname",modelValue:D.value.fullname,"onUpdate:modelValue":r[13]||(r[13]=v=>D.value.fullname=v),modelModifiers:{trim:!0},placeholder:"Ingrese Nombre ó Razón Social "},null,8,["modelValue"])]),_:1})]),No]),t("div",Ro,[t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:T.value,label:"Departamento",modelValue:l(ie),"onUpdate:modelValue":r[14]||(r[14]=v=>Z(ie)?ie.value=v:ie=v),class:"department-select",onChange:cl,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:W.value,label:"Provincias",modelValue:l(Ue),"onUpdate:modelValue":r[15]||(r[15]=v=>Z(Ue)?Ue.value=v:Ue=v),class:"province-select",onChange:ol,placeholder:""},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:L.value,label:"Distritos",modelValue:l(ce),"onUpdate:modelValue":r[16]||(r[16]=v=>Z(ce)?ce.value=v:ce=v),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),t("div",Ao,[t("div",qo,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(V),{type:"text",modelValue:D.value.address,"onUpdate:modelValue":r[17]||(r[17]=v=>D.value.address=v),modelModifiers:{trim:!0},placeholder:"Ingrese Direción"},null,8,["modelValue"])]),_:1})]),Oo]),t("div",Bo,[t("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(V),{type:"text",modelValue:D.value.cellphone,"onUpdate:modelValue":r[18]||(r[18]=v=>D.value.cellphone=v),modelModifiers:{trim:!0},placeholder:"Ingrese N° de celular"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Teléfono fijo"},{default:s(()=>[e(l(V),{type:"text",modelValue:D.value.telephone,"onUpdate:modelValue":r[19]||(r[19]=v=>D.value.telephone=v),modelModifiers:{trim:!0},placeholder:"Ingrese N° de telefono fijo"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(V),{type:"email",modelValue:D.value.email,"onUpdate:modelValue":r[20]||(r[20]=v=>D.value.email=v),modelModifiers:{trim:!0},placeholder:"Ingrese correo electrónico"},null,8,["modelValue"])]),_:1})])]),t("div",Lo,[t("div",null,[e(l(i),{label:"Fecha de nacimiento"},{default:s(()=>[e(z,{modelValue:D.value.date_birthday,"onUpdate:modelValue":r[21]||(r[21]=v=>D.value.date_birthday=v),class:"form-control",id:"date_birthday",placeholder:"yyyy, dd M",config:{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d"}},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:de,label:"Estado",modelValue:l(Ie),"onUpdate:modelValue":r[22]||(r[22]=v=>Z(Ie)?Ie.value=v:Ie=v),class:"state-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:se,label:"Sexo",modelValue:l(Le),"onUpdate:modelValue":r[23]||(r[23]=v=>Z(Le)?Le.value=v:Le=v),class:"sexo-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})])]),t("div",Fo,[Go,t("div",zo,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(dl,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(n,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(ue),{title:"Registrar nuevo Proveedor",label:"Modal title",activeModal:I.value,onClose:r[35]||(r[35]=v=>I.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[t("form",Ho,[t("div",Jo,[t("div",null,[e(l(i),{label:"N° RUC"},{default:s(()=>[e(l(Re),{type:"text",placeholder:"RUC",modelValue:le.value.document,"onUpdate:modelValue":r[25]||(r[25]=v=>le.value.document=v),modelModifiers:{trim:!0}},{append:s(()=>[e(l(U),{text:"SUNAT",btnClass:"btn-outline-dark ",onClick:M(ul,["prevent"])})]),_:1},8,["modelValue"])]),_:1})]),t("div",Yo,[e(l(i),{label:"Razón social del proveedor"},{default:s(()=>[e(l(V),{modelValue:le.value.fullname,"onUpdate:modelValue":r[26]||(r[26]=v=>le.value.fullname=v),modelModifiers:{trim:!0},placeholder:"Razón social del proveedor",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Nombre comercial"},{default:s(()=>[e(l(V),{modelValue:le.value.tradename,"onUpdate:modelValue":r[27]||(r[27]=v=>le.value.tradename=v),modelModifiers:{trim:!0},placeholder:"Nombre comercial",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",Qo,[t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:T.value,label:"Departamento",modelValue:l(ie),"onUpdate:modelValue":r[28]||(r[28]=v=>Z(ie)?ie.value=v:ie=v),class:"department-select",onChange:cl,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:W.value,label:"Provincias",modelValue:l(Ue),"onUpdate:modelValue":r[29]||(r[29]=v=>Z(Ue)?Ue.value=v:Ue=v),class:"province-select",onChange:ol,placeholder:""},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:L.value,label:"Distritos",modelValue:l(ce),"onUpdate:modelValue":r[30]||(r[30]=v=>Z(ce)?ce.value=v:ce=v),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(V),{modelValue:le.value.address,"onUpdate:modelValue":r[31]||(r[31]=v=>le.value.address=v),modelModifiers:{trim:!0},placeholder:"Dirección",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",Wo,[t("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(V),{modelValue:le.value.cellphone,"onUpdate:modelValue":r[32]||(r[32]=v=>le.value.cellphone=v),modelModifiers:{trim:!0},placeholder:"Celular","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Teléfono"},{default:s(()=>[e(l(V),{modelValue:le.value.telephone,"onUpdate:modelValue":r[33]||(r[33]=v=>le.value.telephone=v),modelModifiers:{trim:!0},placeholder:"Teléfono","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(V),{modelValue:le.value.email,"onUpdate:modelValue":r[34]||(r[34]=v=>le.value.email=v),modelModifiers:{trim:!0},placeholder:"Correo electrónico",type:"email",class:"w-full"},null,8,["modelValue"])]),_:1})])]),t("div",Zo,[Ko,t("div",Xo,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(X,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(q,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(ue),{title:"Registrar cuenta bancaria",label:"Modal title",activeModal:P.value,onClose:r[47]||(r[47]=v=>P.value=!1)},{default:s(()=>[t("form",ea,[t("div",la,[t("div",null,[e(l(i),{label:"Sucursal",class:"block"},{default:s(()=>[e(l(y),{modelValue:Ne.value,"onUpdate:modelValue":r[36]||(r[36]=v=>Ne.value=v),options:Ve,required:"",class:"oficinaprincipal-select"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Tipo de cuenta",class:"block"},{default:s(()=>[e(l(y),{modelValue:Je.value,"onUpdate:modelValue":r[37]||(r[37]=v=>Je.value=v),options:Ce,required:"",class:"typeaccount-select"},null,8,["modelValue"])]),_:1})])]),t("div",ta,[t("div",oa,[e(l(i),{label:"Banco",class:"flex-1"},{default:s(()=>[e(l(y),{options:Ke.value,modelValue:Oe.value,"onUpdate:modelValue":r[38]||(r[38]=v=>Oe.value=v),class:"banck-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:M(ll,["prevent"]),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),t("div",null,[e(l(i),{label:"Moneda",class:"block"},{default:s(()=>[e(l(y),{modelValue:Ze.value,"onUpdate:modelValue":r[39]||(r[39]=v=>Ze.value=v),options:ye,required:"",class:"money-select"},null,8,["modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Nombre cuenta",class:"block"},{default:s(()=>[e(l(V),{modelValue:ne.value.name,"onUpdate:modelValue":r[40]||(r[40]=v=>ne.value.name=v),modelModifiers:{trim:!0},placeholder:"Nombre cuenta",required:""},null,8,["modelValue"])]),_:1})]),t("div",aa,[t("div",null,[e(l(i),{label:"N° de cuenta",class:"block"},{default:s(()=>[e(l(V),{modelValue:ne.value.number_account,"onUpdate:modelValue":r[41]||(r[41]=v=>ne.value.number_account=v),modelModifiers:{trim:!0},placeholder:"N° de cuenta",required:""},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"N° CCI (Código interbancario)",class:"block"},{default:s(()=>[e(l(V),{modelValue:ne.value.cci_account,"onUpdate:modelValue":r[42]||(r[42]=v=>ne.value.cci_account=v),modelModifiers:{trim:!0},placeholder:"N° CCI",required:""},null,8,["modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Titular cuenta",class:"block"},{default:s(()=>[e(l(V),{modelValue:ne.value.headline,"onUpdate:modelValue":r[43]||(r[43]=v=>ne.value.headline=v),modelModifiers:{trim:!0},placeholder:"Titular cuenta",required:""},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Descripción",class:"block"},{default:s(()=>[e(l(wl),{modelValue:ne.value.description,"onUpdate:modelValue":r[44]||(r[44]=v=>ne.value.description=v),modelModifiers:{trim:!0},placeholder:"Descripción"},null,8,["modelValue"])]),_:1})]),t("div",sa,[na,t("div",da,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(Qe,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(a,["prevent"])})])])]),e(l(ue),{title:"Registrar banco",label:"Modal title",activeModal:O.value,onClose:r[46]||(r[46]=v=>O.value=!1)},{default:s(()=>[t("form",ra,[e(l(V),{label:"Nombre",name:"pn",type:"text",placeholder:"Ingresar nombre ",modelValue:Ae.value.description,"onUpdate:modelValue":r[45]||(r[45]=v=>Ae.value.description=v)},null,8,["modelValue"]),t("div",ia,[ca,t("div",ua,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(oe,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(m,["prevent"])})])])])]),_:1},8,["activeModal"])]),_:1},8,["activeModal"]),t("div",ma,[e(l(i),{name:"d5",class:"mt-1"},{default:s(()=>[pa,e(l(y),{id:"payment-type",options:ml,disabled:"",modelValue:Ge.value,"onUpdate:modelValue":r[48]||(r[48]=v=>Ge.value=v),class:"pago-select mt-2"},null,8,["modelValue"])]),_:1}),N.value?(h(),_(pe,{key:0},[t("div",va,[e(l(i),{label:"Cuenta destino",class:"flex-1"},{default:s(()=>[e(l(y),{options:H.value,modelValue:je.value,"onUpdate:modelValue":r[49]||(r[49]=v=>je.value=v),disabled:"",class:"cuentadestino-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),e(l(i),{label:"N° de Operación"},{default:s(()=>[e(l(V),{type:"text",modelValue:R.value.reference_operation,"onUpdate:modelValue":r[50]||(r[50]=v=>R.value.reference_operation=v),modelModifiers:{trim:!0},placeholder:"Ingrese N° de Operación"},null,8,["modelValue"])]),_:1})],64)):j("",!0),t("div",ba,[t("div",fa,[e(l(i),{label:"Monto",name:"d6"},{default:s(()=>[e(l(V),{type:"text",placeholder:"Monto",modelValue:R.value.amount,"onUpdate:modelValue":r[51]||(r[51]=v=>R.value.amount=v),modelModifiers:{trim:!0},disabled:!We.value},null,8,["modelValue","disabled"]),tl("amount")?j("",!0):(h(),_("span",ga,"Por favor ingrese monto"))]),_:1})]),t("div",ha,[e(l(xl),{active:"",label:"Modificar",class:"font-bold",modelValue:We.value,"onUpdate:modelValue":r[52]||(r[52]=v=>We.value=v)},null,8,["modelValue"])])])]),t("div",_a,[t("div",ya,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(Pe,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:Fe})])])],32)]),_:1},8,["activeModal"])])}}},Ml=Te().headers();function xa(){const b=new Date;return b.setHours(b.getHours()-5),b.toISOString().slice(0,10)}const Va={components:{InputGroup:Re,Tooltip:kl,FromGroup:i,Button:U,Pagination:Cl,Dropdown:Sl,Icon:yl,EditProject:Ol,MenuItem:Ul,Card:_l,ProgressBar:Dl},data(){return{searchTerm:"",egresoData:{},showEditModal:!1,current:1,dateDefault:xa(),perpage:3,pageRange:10,actions:[{name:"edit",icon:"heroicons:pencil-square",doit:b=>{this.egresoData=b,this.showEditModal=!0}},{name:"delete",icon:"heroicons-outline:trash",doit:async b=>{try{await x.delete(`https://thtsystemv2.tech/public/api/v1/hotels/delete/${b.id}`,Ml),me().success("Hotel eliminado correctamente",{timeout:1500}),this.listarHoteles()}catch(p){console.error("Error al eliminar empleado:",p)}}}],columns:[{label:"N° ingreso",field:"nro_voucher"},{label:"Fecha",field:"date_movement"},{label:"Caja",field:"branch_office"},{label:"Receptor",field:"client"},{label:"Concepto",field:"concept"},{label:"Método pago	",field:"payment_method"},{label:"Monto ",field:"amount"},{label:"Action",field:"action"}],projects:[]}},methods:{async reloadCrmTable(){try{await this.listarIngresos()}catch(b){console.error("Error al recargar Egresos :",b)}},async listarIngresos(){try{const b=await x.get("https://thtsystemv2.tech/public/api/v1/moneys-akemy/list-expense",{params:{date:this.dateDefault},...Ml});this.projects=b.data,this.projects&&this.projects.length>0?me().success("Egresos listados correctamente",{timeout:1500}):me().info("Para el día de hoy, todavía no exiten registros de egreso",{timeout:2500})}catch(b){console.error("Error al obtener los datos de los egresos:",b),me().error("Ocurrió un error al obtener los egresos. Por favor, inténtalo de nuevo.",{timeout:1500})}},async downloadFile2(){try{const p=(await x.get("https://thtsystemv2.tech/public/api/v1/export-money-por-dia-expense",{params:{date:this.dateDefault},responseType:"blob"})).request.responseURL,C=new URL(p),w=document.createElement("a");w.href=C,w.setAttribute("download","archivo.xlsx"),w.style.display="none",document.body.appendChild(w),w.click(),document.body.removeChild(w)}catch(b){console.error("Error al descargar el archivo:",b)}},handleVerDocumento(b){x.get(`https://thtsystemv2.tech/public/api/v1/list-movements-pdf/${b}`).then(p=>{}).catch(p=>{console.error("Error al obtener la URL del PDF:",p),window.open(p.config.url,"_blank")})}},watch:{async dateDefault(b,p){try{const C=await x.get("https://thtsystemv2.tech/public/api/v1/moneys-akemy/list-expense",{params:{date:b},...Ml});this.projects=C.data,this.projects&&this.projects.length>0?me().success("Egresos listados correctamente",{timeout:1500}):me().info("Para este día, no hay registros de egreso",{timeout:2500})}catch(C){console.error("Error al obtener los datos de los egresos:",C),me().error("Ocurrió un error al obtener los egresos. Por favor, inténtalo de nuevo.",{timeout:1500})}}},mounted(){this.listarIngresos()}},Ca={class:"md:flex justify-between pb-6 md:space-y-0 space-y-3 items-center"},ka=t("h5",null,"Egresos Caja General",-1),wa={class:"flex items-center"},Ea={key:0},$a={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Ma={class:"font-bold text-purple-700"},Ia={key:1},Sa={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Ua={key:2,class:"block"},Ta=t("br",null,null,-1),Da=["innerHTML"],Pa=t("br",null,null,-1),ja=["innerHTML"],Na=t("br",null,null,-1),Ra=["innerHTML"],Aa={key:3},qa={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},Oa={key:4},Ba={class:"flex space-x-3 items-center text-left rtl:space-x-reverse"},La={key:5,class:"action-btn text-end mr-3"},Fa=["onClick"],Ga=t("span",null,"Ver documento",-1),za={class:"text-xl"},Ha=["onClick"],Ja={class:"text-base"},Ya={class:"py-4 px-3"};function Qa(b,p,C,w,f,I){const P=S("Button"),O=S("flat-pickr"),N=S("FromGroup"),T=S("InputGroup"),L=S("Icon"),W=S("Tooltip"),$=S("MenuItem"),ve=S("Dropdown"),F=S("Pagination"),Pe=S("vue-good-table"),R=S("EditProject"),B=S("Card");return h(),_("div",null,[e(B,{noborder:""},{default:s(()=>[t("div",Ca,[ka,t("div",wa,[e(P,{icon:"heroicons-outline:arrow-path",btnClass:" btn-outline-secondary text-slate-600 dark:border-slate-700 dark:text-slate-300 font-normal btn-sm mr-3",iconClass:"text-lg",onClick:I.reloadCrmTable},null,8,["onClick"]),e(N,{name:"d1"},{default:s(()=>[e(O,{modelValue:f.dateDefault,"onUpdate:modelValue":p[0]||(p[0]=k=>f.dateDefault=k),class:"form-control",id:"d1",placeholder:"yyyy, dd M"},null,8,["modelValue"])]),_:1}),e(T,{modelValue:f.searchTerm,"onUpdate:modelValue":p[1]||(p[1]=k=>f.searchTerm=k),placeholder:"Ingrese N° de recibo para buscar",type:"text",prependIcon:"heroicons-outline:search",merged:"",class:"ml-3 w-[280px]"},null,8,["modelValue"]),e(P,{icon:"heroicons-outline:download",btnClass:"bg-green-700 text-white ml-4 text-sm",iconClass:"text-lg",onClick:M(I.downloadFile2,["prevent"])},null,8,["onClick"])])]),e(Pe,{class:"-mx-6",columns:f.columns,styleClass:" vgt-table  table-head   v-middle striped  listview",rows:this.projects,"pagination-options":{enabled:!0,perPage:f.perpage},"search-options":{enabled:!0,externalQuery:f.searchTerm},"sort-options":{enabled:!1}},{"table-row":s(k=>{var ae,ge;return[k.column.field=="nro_voucher"?(h(),_("span",Ea,[t("div",$a,[t("span",Ma,Y(k.row.nro_voucher),1)])])):j("",!0),k.column.field=="branch_office"?(h(),_("span",Ia,[t("div",Sa,Y((ae=k.row.branch_office)==null?void 0:ae.description),1)])):j("",!0),k.column.field==="client"?(h(),_("span",Ua,[t("div",null,[k.row.client?(h(),_(pe,{key:0},[fe(" C- "+Y(k.row.client.fullname),1),Ta,t("span",{class:"font-bold",innerHTML:"N° Doc "+k.row.client.document},null,8,Da)],64)):k.row.employee?(h(),_(pe,{key:1},[fe(" E- "+Y(k.row.employee.fullname),1),Pa,t("span",{class:"font-bold",innerHTML:"N° Doc "+k.row.employee.document},null,8,ja)],64)):k.row.provider?(h(),_(pe,{key:2},[fe(" P- "+Y(k.row.provider.fullname),1),Na,t("span",{class:"font-bold",innerHTML:"N° Doc "+k.row.provider.document},null,8,Ra)],64)):(h(),_(pe,{key:3},[fe(" No hay información disponible ")],64))])])):j("",!0),k.column.field=="concept"?(h(),_("span",Aa,[t("div",qa,Y(k.row.concept.description),1)])):j("",!0),k.column.field=="payment_method"?(h(),_("span",Oa,[t("div",Ba,Y((ge=k.row.payment_method)==null?void 0:ge.description),1)])):j("",!0),k.column.field=="action"?(h(),_("div",La,[e(W,{placement:"top",arrow:"",theme:"info-500"},{button:s(()=>[t("div",{class:"action-btn",onClick:M(re=>I.handleVerDocumento(k.row.id),["prevent"])},[e(L,{class:"text-2xl",icon:"heroicons:clipboard-document-list"})],8,Fa)]),default:s(()=>[Ga]),_:2},1024),e(ve,{classMenuItems:" w-[150px]"},{menus:s(()=>[(h(!0),_(pe,null,pl(f.actions,(re,Se)=>(h(),hl($,{key:Se},{default:s(()=>[t("div",{onClick:K=>re.doit(k.row),class:vl(`
                
                  ${re.name==="delete"?"bg-danger-500 text-danger-500 bg-opacity-30  hover:bg-opacity-100 hover:text-white":"hover:bg-slate-900 hover:text-white"}
                   w-full border-b border-b-gray-500 border-opacity-10 px-4 py-2 text-sm  last:mb-0 cursor-pointer first:rounded-t last:rounded-b flex  space-x-2 items-center `)},[t("span",Ja,[e(L,{icon:re.icon},null,8,["icon"])]),t("span",null,Y(re.name),1)],10,Ha)]),_:2},1024))),128))]),default:s(()=>[t("div",za,[e(L,{icon:"heroicons-outline:dots-vertical"})])]),_:2},1024)])):j("",!0)]}),"pagination-bottom":s(k=>[t("div",Ya,[e(F,{total:f.projects.length,current:f.current,"per-page":f.perpage,pageRange:f.pageRange,onPageChanged:p[2]||(p[2]=ae=>f.current=ae),pageChanged:k.pageChanged,perPageChanged:k.perPageChanged,enableSearch:"",enableSelect:""},null,8,["total","current","per-page","pageRange","pageChanged","perPageChanged"])])]),_:1},8,["columns","rows","pagination-options","search-options"]),e(R,{activeModal:f.showEditModal,onClose:p[3]||(p[3]=k=>f.showEditModal=!1),egresoData:f.egresoData,title:"Actualizar Datos Ingreso",onUpdateEgresoList:I.listarIngresos},null,8,["activeModal","egresoData","onUpdateEgresoList"])]),_:1})])}const Wa=bl(Va,[["render",Qa]]),Za=Te().headers(),Ka={components:{Card:_l,Button:U,Tooltip:kl,Pagination:Cl,Icon:yl,FromGroup:i},data(){return{advancedTable:[],toast:me(),current:1,perpage:10,pageRange:5,searchTerm:"",options:[{value:"1",label:"1"},{value:"3",label:"3"},{value:"5",label:"5"}],columns:[{label:"Caja",field:"branch_box"},{label:"Fecha Apertura	",field:"date_opening"},{label:"Monto Apertura	",field:"amount_opening"},{label:"Fecha Cierre	",field:"date_closing"},{label:"Monto Cierre	",field:"amount_closing"},{label:"Usuario	",field:"user"},{label:"Action",field:"action"}],reloadKey:0,rangeDate:null,statistics:[{title:"Sales",count:"354",bg:"bg-warning-500",text:"text-primary-500",percent:"25.67% ",icon:"heroicons:arrow-trending-up",img:Pl,percentClass:"text-primary-500"},{title:"Revenue ",count:"$86,954",bg:"bg-info-500",text:"text-primary-500",percent:"8.67%",icon:"heroicons:arrow-trending-up",img:jl,percentClass:"text-primary-500"},{title:"Conversion",count:"15%",bg:"bg-primary-500",text:"text-danger-500",percent:"1.67%  ",icon:"heroicons:arrow-trending-down",img:Nl,percentClass:"text-danger-500"},{title:"Leads",count:"654",bg:"bg-success-500",text:"text-primary-500",percent:"11.67%  ",icon:"heroicons:arrow-trending-up",img:Rl,percentClass:"text-primary-500"}],Campaigns:[{name:"Channel",value:"roi"},{name:"Email",value:"40%"},{name:"Website",value:"28%"},{name:"Facebook",value:"34%"},{name:"Offline",value:"17%"}]}},methods:{handleVerDocumento(b){x.get(`https://thtsystemv2.tech/public/api/v1/list-box-cuadre-ericka/${b}`).then(p=>{}).catch(p=>{console.error("Error al obtener la URL del PDF:",p),window.open(p.config.url,"_blank")})},async reloadCrmTable(){try{await this.fetchMoneyBoxes()}catch(b){console.error("Error al recargar Cajas de Dinero :",b)}},showSuccessToast(b){this.toast.success(b,{position:"top-right",timeout:3e3})},showErrorToast(b){this.toast.error(b,{position:"top-right",timeout:3e3})},fetchMoneyBoxes(){x.get("https://thtsystemv2.tech/public/api/v1/moneyboxes-ericka/list-normally",Za).then(b=>{this.advancedTable=b.data.data,this.showSuccessToast("Historial de caja recuperado correctamente!")}).catch(b=>{console.error("Error al obtener los registros de dinero:",b),this.showErrorToast("Error al obtener el Historial de caja. Por favor, inténtalo de nuevo.")})}},mounted(){this.fetchMoneyBoxes()}},Xa={class:"card-auto space-y-5"},es={class:"-mx-6"},ls={key:0,class:"font-medium",style:{fontWeight:"bold"}},ts={key:1,class:"font-medium text-blue-500"},os={key:2,class:"font-medium text-purple-500"},as={key:3,class:"font-medium"},ss=t("br",null,null,-1),ns={key:4},ds={class:"flex space-x-3 justify-center rtl:space-x-reverse"},rs=["onClick"],is=t("span",null,"Ver Cuadre",-1),cs={class:"py-4 px-3 flex justify-center"};function us(b,p,C,w,f,I){const P=S("Button"),O=S("Icon"),N=S("Tooltip"),T=S("Pagination"),L=S("vue-good-table"),W=S("Card");return h(),_("div",null,[t("div",Xa,[e(W,{title:"Historial de Caja",noborder:""},{header:s(()=>[e(P,{icon:"heroicons-outline:arrow-path",btnClass:" btn-outline-secondary text-slate-600 dark:border-slate-700 dark:text-slate-300 font-normal btn-sm ",iconClass:"text-lg",onClick:I.reloadCrmTable},null,8,["onClick"])]),default:s(()=>[t("div",es,[t("div",null,[e(L,{columns:f.columns,styleClass:" vgt-table  lesspadding2 centered ",rows:f.advancedTable,"pagination-options":{enabled:!0,perPage:f.perpage},"sort-options":{enabled:!1}},{"table-row":s($=>[$.column.field=="branch_box"?(h(),_("span",ls,Y($.row.branch_box.description),1)):j("",!0),$.column.field=="amount_opening"?(h(),_("span",ts," S/. "+Y($.row.amount_opening),1)):j("",!0),$.column.field=="amount_closing"?(h(),_("span",os," S/. "+Y($.row.amount_closing),1)):j("",!0),$.column.field=="user"?(h(),_("span",as,[fe(Y($.row.user.name)+" ",1),ss])):j("",!0),$.column.field=="action"?(h(),_("span",ns,[t("div",ds,[e(N,{placement:"top",arrow:"",theme:"info-500"},{button:s(()=>[t("div",{class:"action-btn",onClick:M(ve=>I.handleVerDocumento($.row.id),["prevent"])},[e(O,{class:"text-2xl",icon:"heroicons-outline:clipboard-document-check"})],8,rs)]),default:s(()=>[is]),_:2},1024)])])):j("",!0)]),"pagination-bottom":s($=>[t("div",cs,[e(T,{total:f.advancedTable.length,current:f.current,"per-page":f.perpage,pageRange:f.pageRange,onPageChanged:p[0]||(p[0]=ve=>f.current=ve),pageChanged:$.pageChanged,perPageChanged:$.perPageChanged,enableSearch:"",enableSelect:"",options:f.options},{default:s(()=>[fe(" > ")]),_:2},1032,["total","current","per-page","pageRange","pageChanged","perPageChanged","options"])])]),_:1},8,["columns","rows","pagination-options"])])])]),_:1})])])}const ms=bl(Ka,[["render",us]]),ps=Te().headers(),vs={components:{Pagination:Cl,InputGroup:Re,VueTailwindDatePicker:Al,Tooltip:kl,Dropdown:Sl,FromGroup:i,Icon:yl,Card:_l,MenuItem:Ul,Button:U},data(){const p=new Date,w=new Date(p.getTime()+-300*6e4).toISOString().split("T")[0],f=new Date,P=new Date(f.getFullYear(),f.getMonth(),1).toISOString().split("T")[0]+" 00:00:00",N=new Date(f.getFullYear(),f.getMonth()+1,0).toISOString().split("T")[0]+" 23:59:59";return{advancedTable:[],toast:me(),current:1,perpage:10,dateValue:{startDate:P,endDate:N},dateDefault:w,pageRange:5,searchTerm:"",actions:[{name:"anular",icon:"heroicons-outline:trash",doit:()=>{}}],options:[{value:"1",label:"1"},{value:"3",label:"3"},{value:"5",label:"5"}],columns:[{label:"Tipo de Vaucher",field:"nro_voucher"},{label:"Concepto",field:"concept.description"},{label:"Responsable",field:"client.fullname"},{label:"Monto",field:"amount"},{label:"Metódo de pago",field:"payment_method.description"},{label:"Fecha del movimiento",field:"date_movement"},{label:"Action",field:"action"}]}},methods:{async reloadCrmTable(){try{await this.fetchMoneyRecords(this.dateDefault)}catch(b){console.error("Error al recargar Movimientos :",b)}},handleVerDocumento(b){x.get(`https://thtsystemv2.tech/public/api/v1/list-movements-pdf/${b}`).then(p=>{}).catch(p=>{console.error("Error al obtener la URL del PDF:",p),window.open(p.config.url,"_blank")})},showSuccessToast(b){this.toast.success(b,{position:"top-right",timeout:3e3})},showErrorToast(b){this.toast.error(b,{position:"top-right",timeout:3e3})},showInfoToast(b){this.toast.info(b,{position:"top-right",timeout:5e3})},fetchMoneyRecords(b){x.get("https://thtsystemv2.tech/public/api/v1/moneys-ericka/list-movements/",{...ps,params:{start_date:this.dateValue.startDate,end_date:this.dateValue.endDate}}).then(p=>{p.data&&p.data.data&&p.data.data.length>0?(this.advancedTable=p.data.data,this.showSuccessToast("¡Registros de dinero obtenidos correctamente!")):(this.advancedTable=[],this.showInfoToast("No se registraron movimientos de dinero para este día o aún no hay registros."))}).catch(p=>{console.error("Error al obtener los registros de dinero:",p),this.showErrorToast("Error al obtener los registros de dinero. Por favor, inténtalo de nuevo.")})},async downloadFile(){try{const p=(await x.get("https://thtsystemv2.tech/public/api/v1/export-money-por-dia-income-and-expense",{params:{date:this.dateDefault},responseType:"blob"})).request.responseURL,C=new URL(p),w=document.createElement("a");w.href=C,w.setAttribute("download","archivo.xlsx"),w.style.display="none",document.body.appendChild(w),w.click(),document.body.removeChild(w)}catch(b){console.error("Error al descargar el archivo:",b)}}},mounted(){this.fetchMoneyRecords(this.dateDefault)},watch:{dateDefault(b,p){this.fetchMoneyRecords(b)}},computed:{filteredRows(){if(!this.searchTerm)return this.advancedTable;const b=this.searchTerm.toLowerCase();return this.advancedTable.filter(p=>{var C,w;return p.concept.description.toLowerCase().includes(b)||String(p.amount).toLowerCase().includes(b)||String((C=p.client)==null?void 0:C.fullname).toLowerCase().includes(b)||((w=p.payment_method)==null?void 0:w.description.toLowerCase().includes(b))||p.voucher.description.toLowerCase().includes(b)||p.nro_voucher.toLowerCase().includes(b)||p.date_movement.toLowerCase().includes(b)})}}},bs={class:"md:flex pb-6 items-center"},fs=t("h6",{class:"flex-1 md:mb-0 mb-3"},"Movimientos Caja Ericka",-1),gs={class:"md:flex md:space-x-3 items-center flex-none rtl:space-x-reverse"},hs={class:"w-[370px]"},_s={class:"-mx-6"},ys={key:0,class:"font-medium"},xs=t("br",null,null,-1),Vs={class:"font-bold"},Cs={key:1,class:"font-medium"},ks=t("br",null,null,-1),ws={key:2},Es={key:3,class:"font-medium"},$s=t("br",null,null,-1),Ms=["innerHTML"],Is=t("br",null,null,-1),Ss=["innerHTML"],Us=t("br",null,null,-1),Ts=["innerHTML"],Ds={key:4,class:"font-bold"},Ps={key:5,class:"flex items-center"},js={class:"text-xl"},Ns=["onClick"],Rs={class:"text-base"},As=["onClick"],qs=t("span",null,"Ver Documento",-1),Os={class:"py-4 px-3"};function Bs(b,p,C,w,f,I){const P=S("Button"),O=S("VueTailwindDatePicker"),N=S("FromGroup"),T=S("InputGroup"),L=S("Icon"),W=S("MenuItem"),$=S("Dropdown"),ve=S("Tooltip"),F=S("Pagination"),Pe=S("vue-good-table"),R=S("Card");return h(),_("div",null,[e(R,{noborder:""},{default:s(()=>[t("div",bs,[fs,t("div",gs,[e(P,{icon:"heroicons-outline:arrow-path",btnClass:" btn-outline-secondary text-slate-600 dark:border-slate-700 dark:text-slate-300 font-normal btn-sm ",iconClass:"text-lg",onClick:I.reloadCrmTable},null,8,["onClick"]),e(N,{name:"d1"},{default:s(()=>[t("div",hs,[e(O,{modelValue:f.dateValue,"onUpdate:modelValue":p[0]||(p[0]=B=>f.dateValue=B),"input-classes":"form-control "},null,8,["modelValue"])])]),_:1}),e(T,{modelValue:f.searchTerm,"onUpdate:modelValue":p[1]||(p[1]=B=>f.searchTerm=B),placeholder:"Ingrese el N° de voucher, ó N° de venta, ó datos del emisor o receptor",type:"text",prependIcon:"heroicons-outline:search",merged:"",class:"ml-3 w-[513px]"},null,8,["modelValue"]),e(P,{icon:"heroicons-outline:download",btnClass:"bg-green-700 text-white ml-4 text-sm",onClick:M(I.downloadFile,["prevent"]),iconClass:"text-lg"},null,8,["onClick"])])]),t("div",_s,[e(Pe,{columns:f.columns,styleClass:" vgt-table bordered centered ",rows:I.filteredRows,"sort-options":{enabled:!1},"pagination-options":{enabled:!0,perPage:f.perpage},"search-options":{enabled:!0,externalQuery:f.searchTerm}},{"table-row":s(B=>{var k,ae,ge;return[B.column.field=="nro_voucher"?(h(),_("span",ys,[fe(Y((k=B.row.voucher)==null?void 0:k.description)+" ",1),xs,t("span",Vs,Y(B.row.nro_voucher),1)])):j("",!0),B.column.field=="concept"?(h(),_("span",Cs,[fe(Y((ae=B.row.concept)==null?void 0:ae.description)+" ",1),ks])):j("",!0),B.column.field=="amount"?(h(),_("span",ws,"S/ "+Y(B.row.amount),1)):j("",!0),B.column.field=="client.fullname"?(h(),_("span",Es,[t("div",null,[B.row.client?(h(),_(pe,{key:0},[fe(" C- "+Y(B.row.client.fullname),1),$s,t("span",{class:"font-bold",innerHTML:"N° Doc "+B.row.client.document},null,8,Ms)],64)):B.row.employee?(h(),_(pe,{key:1},[fe(" E- "+Y(B.row.employee.fullname),1),Is,t("span",{class:"font-bold",innerHTML:"N° Doc "+B.row.employee.document},null,8,Ss)],64)):B.row.provider?(h(),_(pe,{key:2},[fe(" P- "+Y(B.row.provider.fullname),1),Us,t("span",{class:"font-bold",innerHTML:"N° Doc "+B.row.provider.document},null,8,Ts)],64)):(h(),_(pe,{key:3},[fe(" No hay información disponible ")],64))])])):j("",!0),B.column.field=="payment_method.description"?(h(),_("span",Ds,Y((ge=B.row.payment_method)==null?void 0:ge.description),1)):j("",!0),B.column.field=="action"?(h(),_("span",Ps,[e($,{classMenuItems:"w-[140px]"},{menus:s(()=>[(h(!0),_(pe,null,pl(f.actions,(re,Se)=>(h(),hl(W,{key:Se},{default:s(()=>[t("div",{onClick:re.doit,class:vl(`
            ${re.name==="anular"?"bg-danger-500 text-danger-500 bg-opacity-30 hover:bg-opacity-100 hover:text-white":"hover:bg-slate-900 hover:text-white"}
            w-full border-b border-b-gray-500 border-opacity-10 px-4 py-2 text-sm last:mb-0 cursor-pointer first:rounded-t last:rounded-b flex space-x-2 items-center rtl:space-x-reverse `)},[t("span",Rs,[e(L,{icon:re.icon},null,8,["icon"])]),t("span",null,Y(re.name),1)],10,Ns)]),_:2},1024))),128))]),default:s(()=>[t("span",js,[e(L,{icon:"heroicons-outline:dots-vertical"})])]),_:1}),e(ve,{placement:"top",arrow:"",theme:"info-500"},{button:s(()=>[t("div",{class:"action-btn",onClick:M(re=>I.handleVerDocumento(B.row.id),["prevent"])},[e(L,{class:"text-2xl",icon:"heroicons-outline:arrow-down-on-square-stack"})],8,As)]),default:s(()=>[qs]),_:2},1024)])):j("",!0)]}),"pagination-bottom":s(B=>[t("div",Os,[e(F,{total:this.advancedTable.length,current:f.current,"per-page":f.perpage,pageRange:f.pageRange,onPageChanged:p[2]||(p[2]=k=>f.current=k),pageChanged:B.pageChanged,perPageChanged:B.perPageChanged,enableSearch:"",enableSelect:"",options:f.options},{default:s(()=>[fe(" > ")]),_:2},1032,["total","current","per-page","pageRange","pageChanged","perPageChanged","options"])])]),_:1},8,["columns","rows","pagination-options","search-options"])])]),_:1})])}const Ls=bl(vs,[["render",Bs]]),Fs={class:"row"},Gs={class:"col-lg-12"},zs={class:"row"},Hs={class:"form-group col-lg-6 relative"},Js={key:0,class:"absolute top-full left-0 text-red-500 mt-4"},Ys={class:"form-group col-lg-12 form__footerBtn mt-12"},Qs={class:"text-right"},Ws={__name:"TranfserModalAdd",emits:["guardadoExitoso"],setup(b,{emit:p}){const C=sl(),w=me(),f=Te().headers(),I=p,P=u({description:""}),O=()=>{x.post("https://thtsystemv2.tech/public/api/v1/transfers-moneyboxes-ericka/transfer",{amount:P.value.description},{...f}).then(T=>{N(),w.success(T.data.message),setTimeout(()=>{I("guardadoExitoso",T.data),location.reload(!0)},2500)}).catch(T=>{T.response&&(T.response.status===400||T.response.status===500)?(N(),w.error(T.response.data.message)):console.error("Error al realizar la transferencia:",T)})},N=()=>{C.closeModalTransfer()};return(T,L)=>(h(),_("div",null,[e(l(ue),{activeModal:l(C).addmodalTrasnfer,onClose:l(C).closeModalTransfer,title:"Transferir a Caja General",centered:""},{default:s(()=>[t("form",{onSubmit:M(O,["prevent"]),class:"space-y-4"},[t("div",Fs,[t("div",Gs,[t("div",zs,[t("div",Hs,[e(l(i),{label:"Monto de Transferencia",name:"d2"},{default:s(()=>[e(l(Re),{type:"text",appendIcon:"heroicons-outline:cash",placeholder:"Ingresar Monto",name:"object_description",modelValue:P.value.description,"onUpdate:modelValue":L[0]||(L[0]=W=>P.value.description=W),modelModifiers:{trim:!0}},null,8,["modelValue"]),P.value.description?j("",!0):(h(),_("span",Js," Este valor es obligatorio "))]),_:1})])])]),t("div",Ys,[t("div",Qs,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(N,["prevent"])}),e(l(U),{text:"Trasnferir",btnClass:"btn-dark"})])])])],32)]),_:1},8,["activeModal","onClose"])]))}},Zs={class:"row"},Ks={class:"col-lg-12"},Xs={class:"row"},en={class:"form-group col-lg-6 relative"},ln={key:0,class:"absolute top-full left-0 text-red-500 mt-4"},tn={class:"form-group col-lg-12 form__footerBtn mt-12"},on={class:"text-right"},an={__name:"TranfserModalAddPrincipal",emits:["guardadoExitoso"],setup(b,{emit:p}){const C=sl(),w=me(),f=Te().headers(),I=p,P=u({description:""}),O=()=>{x.post("https://thtsystemv2.tech/public/api/v1/transfers-moneyboxes-ericka/transfer-caja-principal",{amount:P.value.description},{...f}).then(T=>{N(),w.success(T.data.message),setTimeout(()=>{I("guardadoExitoso",T.data),location.reload(!0)},2500)}).catch(T=>{T.response&&(T.response.status===400||T.response.status===500)?(N(),w.error(T.response.data.message)):console.error("Error al realizar la transferencia:",T)})},N=()=>{C.closeModalTransfer2()};return(T,L)=>(h(),_("div",null,[e(l(ue),{activeModal:l(C).addmodalTrasnfer2,onClose:l(C).closeModalTransfer2,title:"Transferir a Caja Principal",centered:""},{default:s(()=>[t("form",{onSubmit:M(O,["prevent"]),class:"space-y-4"},[t("div",Zs,[t("div",Ks,[t("div",Xs,[t("div",en,[e(l(i),{label:"Monto de Transferencia",name:"d2"},{default:s(()=>[e(l(Re),{type:"text",appendIcon:"heroicons-outline:cash",placeholder:"Ingresar Monto",name:"object_description",modelValue:P.value.description,"onUpdate:modelValue":L[0]||(L[0]=W=>P.value.description=W),modelModifiers:{trim:!0}},null,8,["modelValue"]),P.value.description?j("",!0):(h(),_("span",ln," Este valor es obligatorio "))]),_:1})])])]),t("div",tn,[t("div",on,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(N,["prevent"])}),e(l(U),{text:"Trasnferir",btnClass:"btn-dark"})])])])],32)]),_:1},8,["activeModal","onClose"])]))}},sn={class:"row"},nn={class:"col-lg-12"},dn={class:"row"},rn={class:"form-group col-lg-6 relative"},cn={key:0,class:"absolute top-full left-0 text-red-500 mt-4"},un={class:"form-group col-lg-12 form__footerBtn mt-12"},mn={class:"text-right"},pn={__name:"CityTouristicAddModal",emits:["guardadoExitoso"],setup(b,{emit:p}){const C=sl(),w=me(),f=Te().headers(),I=p,P=u({description:""}),O=()=>{x.post("https://thtsystemv2.tech/public/api/v1/moneyboxes-ericka/create",{amount_opening:P.value.description,balance:P.value.description},{...f}).then(T=>{N(),w.success(T.data.message),I("guardadoExitoso",T.data)}).catch(T=>{console.error("Error al guardar los datos:",T)})},N=()=>{C.closeModal()};return(T,L)=>(h(),_("div",null,[e(l(ue),{activeModal:l(C).addmodal,onClose:l(C).closeModal,title:"APERTURA DE CAJA",sizeClass:"max-w-2xl",centered:""},{default:s(()=>[t("form",{onSubmit:M(O,["prevent"]),class:"space-y-4"},[t("div",sn,[t("div",nn,[t("div",dn,[t("div",rn,[e(l(i),{label:"Monto Inicial",name:"d2"},{default:s(()=>[e(l(Re),{type:"text",appendIcon:"heroicons-outline:cash",placeholder:"Ingresar Monto",name:"object_description",modelValue:P.value.description,"onUpdate:modelValue":L[0]||(L[0]=W=>P.value.description=W),modelModifiers:{trim:!0}},null,8,["modelValue"]),P.value.description?j("",!0):(h(),_("span",cn," Este valor es obligatorio "))]),_:1})])])]),t("div",un,[t("div",mn,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(N,["prevent"])}),e(l(U),{text:"Guardar",btnClass:"btn-dark"})])])])],32)]),_:1},8,["activeModal","onClose"])]))}};Te().headers();const vn={components:{Button:U,Modal:ue,Textinput:V,InputGroup:Re,FromGroup:i,Alert:Fl},props:{activeModal:Boolean,id:String,monto:String},data(){return{object:{description:""}}},methods:{closeEditModal(){this.$emit("close")},async openBox(){try{localStorage.removeItem("idValue");const b=await x.post(`https://thtsystemv2.tech/public/api/v1/moneyboxes/update-closed/${this.id}`,{amount_closing:this.monto,balance:this.monto},{...Te().headers()});window.location.reload()}catch(b){console.error("Error al actualizar la MoneyBox:",b)}},save(){x.post("https://thtsystemv2.tech/public/api/v1/moneyboxes/create",{amount_opening:this.object.description},{...Te().headers()}).then(b=>{this.cancel(),this.toast.success(b.data.message),this.$emit("guardadoExitoso",b.data)}).catch(b=>{console.error("Error al guardar los datos:",b)})},cancel(){sl().closeModal()}},watch:{id(b,p){}}},bn={class:"space-y-4"},fn={class:"row"},gn={class:"col-lg-12"},hn={class:"row"},_n={class:"form-group col-lg-6 relative"},yn={class:"text-3xl font-bold"},xn={class:"form-group col-lg-12 form__footerBtn mt-8"},Vn={class:"text-right"},Cn=t("span",null,"Confirmar Cierre",-1),kn=[Cn],wn=t("span",null,"Cancelar",-1),En=[wn];function $n(b,p,C,w,f,I){const P=S("Alert"),O=S("Modal");return h(),_("div",null,[e(O,{activeModal:C.activeModal,onClose:I.closeEditModal,title:"CIERE DE CAJA",sizeClass:"max-w-2xl",centered:""},{default:s(()=>[t("form",bn,[t("div",fn,[t("div",gn,[t("div",hn,[t("div",_n,[e(P,{type:"warning"},{default:s(()=>[t("div",yn," ¿Estás seguro(a)? Está por cerrar la caja con S/ "+Y(C.monto)+", antes le recomendamos realizar su arqueo !! ",1)]),_:1})])])]),t("div",xn,[t("div",Vn,[t("button",{class:"invocie-btn mr-3 inline-flex btn whitespace-nowrap space-x-1 cursor-pointer bg-red-700 dark:bg-red-700 btn-md h-min text-sm font-normal text-white rtl:space-x-reverse",onClick:p[0]||(p[0]=M(N=>I.openBox(),["prevent"]))},kn),t("button",{onClick:p[1]||(p[1]=M(N=>I.closeEditModal(),["prevent"])),class:"invocie-btn mr-3 inline-flex btn whitespace-nowrap space-x-1 cursor-pointer bg-green-900 dark:bg-green-700 btn-md h-min text-sm font-normal text-white rtl:space-x-reverse"},En)])])])])]),_:1},8,["activeModal","onClose"])])}const Mn=bl(vn,[["render",$n]]),In={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Sn={key:0,class:"text-red-500"},Un={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Tn={key:0,class:"text-red-500"},Dn={class:"grid lg:grid-cols-1 gap-4 grid-cols-1"},Pn={key:0,class:"flex items-center"},jn={key:1,class:"flex items-center"},Nn={key:2,class:"flex items-center"},Rn={name:"client_form",id:"client_form",autocomplete:"off",class:"mx-auto space-y-4"},An={class:"grid grid-cols-3 lg:grid-cols-3 gap-4"},qn={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},On={class:"lg:col-span-3"},Bn=t("div",{class:"lg:hidden"},null,-1),Ln={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Fn={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Gn={class:"lg:col-span-3"},zn=t("div",{class:"lg:hidden"},null,-1),Hn={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Jn={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Yn={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Qn=t("div",{class:"lg:col-span-1"},null,-1),Wn={class:"lg:col-span-3 flex justify-end"},Zn={name:"providerForm",id:"providerForm",autocomplete:"off",class:"space-y-4"},Kn={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Xn={class:"md:col-span-1 lg:col-span-2"},ed={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},ld={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},td={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},od=t("div",{class:"lg:col-span-3"},null,-1),ad={class:"lg:col-span-1 flex justify-end"},sd={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},nd={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},dd={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},rd={class:"flex items-center"},id={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},cd={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},ud=t("div",{class:"lg:col-span-3"},null,-1),md={class:"lg:col-span-1 flex justify-end"},pd={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},vd={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},bd=t("div",{class:"lg:col-span-3"},null,-1),fd={class:"lg:col-span-1 flex justify-end"},gd={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},hd=t("label",{for:"payment-type",class:"block text-sm font-medium text-gray-700 flex items-center"},[fe(" Método de pago "),t("span",{class:"text-red-500 ml-1"},"*")],-1),_d={class:"flex items-center"},yd={key:0,class:"text-red-500"},xd={class:"form-group col-lg-12 form__footerBtn mt-4"},Vd={class:"text-right"},Cd={__name:"ClientAddModal",setup(b){const p=Te().headers();let C=sl();const w=me(),f=u(!1),I=u(!1),P=u(!1),O=u(!1),N=u([]),T=u([]),L=u([]),W=()=>{C.closeModal2()},$=u({receptor_module:"",receptor_fullname:"",receptor_document:"",is_paycredit:"",available_edit:"",user_id:"",branchoffice_id:"",concept_id:"",paymentmethod_id:"",currency_id:"",voucher_id:"",client_id:"",provider_id:"",employee_id:"",accountbank_id:"",date_movement:"",amount:"",text_amount:"",gloss:"",reference_operation:"",nro_voucher:"",serie:"",correlative:"",billing_external_id:"",billing_hash:"",motive_cancelled:"",billing_cancelled:"",date_repayment:"",repaymentmovement_id:"",dischargedocument_id:"",is_voucher_external:"",voucher_external:"",nro_voucher_external:"",booking_id:"",commision_id:"",observation:"",is_visible:""}),ve=async()=>{try{const g=await x.get("https://thtsystemv2.tech/public/api/v1/ubigeo/departments",p);N.value=g.data.data.map(m=>({value:m.id,label:m.name}))}catch(g){console.error("Error fetching departments:",g)}},F=async()=>{try{const g=await x.get("https://thtsystemv2.tech/public/api/v1/clients/list",p);ye.value=g.data.data.map(m=>({value:m.id,label:m.fullname}))}catch(g){console.error("Error fetching departments:",g)}},Pe=async()=>{try{const g=await x.get("https://thtsystemv2.tech/public/api/v1/moneys/income-concepts",p);Ue.value=g.data.data.map(m=>({value:m.id,label:m.description}))}catch(g){console.error("Error fetching departments:",g)}},R=async()=>{try{const g=await x.get("https://thtsystemv2.tech/public/api/v1/banks/list",p);oe.value=g.data.data.map(m=>({value:m.id,label:m.description}))}catch(g){console.error("Error fetching departments:",g)}},B=async()=>{try{const g=await x.get("https://thtsystemv2.tech/public/api/v1/accountbanks/list",p);We.value=g.data.data.map(m=>({value:m.id,label:m.name}))}catch(g){console.error("Error fetching departments:",g)}},k=async()=>{try{const g=await x.get("https://thtsystemv2.tech/public/api/v1/providers/list",p);re.value=g.data.data.map(m=>({value:m.id,label:m.fullname}))}catch(g){console.error("Error fetching departments:",g)}},ae=async()=>{try{const g=await x.get("https://thtsystemv2.tech/public/api/v1/employees/list",p);Se.value=g.data.data.map(m=>({value:m.id,label:m.fullname}))}catch(g){console.error("Error fetching departments:",g)}},ge=[{value:501,label:"SOL"},{value:502,label:"DÓLAR"},{value:503,label:"EURO"}],re=u([]),Se=u([]),K=u({description:""}),te=u({branchoffice_id:"",bank_id:"",typeaccount_id:"",currency_id:"",name:"",number_account:"",cci_account:"",balance:"",headline:"",description:""}),ye=u([]),G=[{value:2,label:"Caja General"}],ze=[{value:500,label:"Oficina Principal"}],He=[{value:504,label:"CUENTA SIMPLE"},{value:505,label:"CUENTA CORRIENTE"},{value:506,label:"TARJETA DE CRÉDITO"}],Ae=u(null),ne=u(null),xe=u(null),he=u(null),Ve=u(null),Ce=u(null),be=u(ge[0].value),we=u(He[0].value),Ee=u(ze[0].value),$e=u(G[0].value),je=()=>{},Oe=()=>{f.value=!f.value},Be=()=>{f.value=!1},Ze=()=>{I.value=!1},Je=()=>{P.value=!1},Ne=()=>{O.value=!1},Ye=()=>{I.value=!I.value},el=()=>{P.value=!P.value},nl=Tl(()=>ye.value.slice(0,6)),qe=()=>{const g=document.querySelector(".cajonci-select select");if(g){const o=g.selectedIndex,r=g.options[o].text;$.value.branchoffice_id=o,$.value.branchbox=r}const m=document.querySelector(".pago-select select");if(g){const o=m.selectedIndex,r=m.options[o].text;$.value.paymentmethod_id=o,$.value.paymethod=r}const q=Ae.value;$.value.client_id=q;const n=ne.value;$.value.provider_id=n;const a=xe.value;$.value.employee_id=a;const d=he.value;$.value.concept_id=d;const c=Ve.value;$.value.accountbank_id=c,console.log($.value),x.post("https://thtsystemv2.tech/public/api/v1/moneys-ericka/create",$.value,{...p}).then(o=>{W(),w.success(o.data.message)}).catch(o=>{if(console.error("Error al guardar los datos:",o),o.response&&o.response.data&&o.response.data.message){W();const r=o.response.data.message;w.error(r)}else w.error("Ha ocurrido un error al guardar los datos. Por favor, inténtalo de nuevo.")})};u(null);const dl=()=>{O.value=!O.value},X=u({typedocument_id:"",document:"",department_id:"",province_id:"",district_id:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:""}),Qe=u("cash"),oe=u([]),ee=g=>!!$.value[g],Fe=g=>ee(g),We=u([]),ll=[{value:1,label:"Natural"},{value:2,label:"Jurídico"}],le=[{value:1,label:"DNI"},{value:2,label:"RUC"},{value:3,label:"PASAPORTE"}],Ge=[{id:1,label:"Soltero"},{id:2,label:"Casado"},{id:2,label:"Viudo"},{id:2,label:"Divorciado"}],Ke=[{id:1,label:"Masculino"},{id:2,label:"Femenino"}],Q=u({typedocument_id:"",department_id:"",province_id:"",district_id:"",type_client:"",fullname:"",document:"",tradename:"",address:"",email:"",telephone:"",cellphone:"",date_birthday:"",sex:"",status:"",typeDocument:""}),tl=u(ll[0].value),H=u(le[0].value);let A=u(null),ke=u(null),de=u(null),se=u(null),D=u(null),_e="";const Me=[{value:"clients",label:"Clientes"},{value:"providers",label:"Proveedores"},{value:"employees",label:"Empleados"}],ie=u(Me[0].value),Ue=u([]),ce=[{value:"cash",label:"Efectivo"},{value:"visa",label:"Visa"},{value:"check",label:"Cheque"},{value:"account_deposit",label:"Depósito a cuenta"}],Ie=async()=>{try{const g=await x.get(`https://thtsystemv2.tech/public/api/v1/ubigeo/provinces/${Q.value.department_id}`,p);L.value=g.data.data.map(m=>({value:m.id,label:m.name}))}catch(g){console.error("Error fetching provinces:",g)}},Le=async()=>{try{const g=await x.get(`https://thtsystemv2.tech/public/api/v1/ubigeo/districts/${Q.value.province_id}`,p);T.value=g.data.data.map(m=>({value:m.id,label:m.name}))}catch(g){console.error("Error fetching provinces:",g)}},rl=()=>{x.post("https://thtsystemv2.tech/public/api/v1/getRucData",{ruc:X.value.document}).then(g=>{X.value.fullname=g.data.data.nombre_o_razon_social,X.value.address=g.data.data.direccion}).catch(g=>{console.error("Error al obtener datos del RUC:",g)})},Xe=()=>{x.post("https://thtsystemv2.tech/public/api/v1/getDniData",{dni:Q.value.document}).then(g=>{Q.value.fullname=g.data.data.nombre_completo}).catch(g=>{console.error("Error al obtener datos del DNI:",g)})},De=()=>{x.post("https://thtsystemv2.tech/public/api/v1/banks/create",K.value,{...p}).then(g=>{Ne(),R(),w.success(g.data.message)}).catch(g=>{console.error("Error al guardar los datos:",g)})},il=()=>{x.post("https://thtsystemv2.tech/public/api/v1/providers/create",X.value,{...p}).then(g=>{Ze(),k(),w.success(g.data.message)}).catch(g=>{console.error("Error al guardar los datos:",g)})},ml=()=>{const g=document.querySelector(".typecliente-select select");if(g){const q=g.selectedIndex,n=q.toString();g.options[q].text,Q.value.type_client=n}const m=document.querySelector(".typedocument-select select");if(g){const q=m.selectedIndex,n=m.options[q].text;Q.value.typedocument_id=q,Q.value.typeDocument=n}x.post("https://thtsystemv2.tech/public/api/v1/clients/create",Q.value,{...p}).then(q=>{Be(),F(),w.success(q.data.message)}).catch(q=>{console.error("Error al guardar los datos:",q)})},cl=()=>{const g=document.querySelector(".oficinaprincipal-select select");if(g){const a=g.selectedIndex;g.options[a].text,te.value.branchoffice_id=a}const m=document.querySelector(".typeaccount-select select");if(g){const a=m.selectedIndex;m.options[a].text,te.value.typeaccount_id=a}const q=document.querySelector(".banck-select select");if(g){const a=q.selectedIndex;q.options[a].text,te.value.bank_id=a}const n=document.querySelector(".money-select select");if(g){const a=n.selectedIndex;n.options[a].text,te.value.currency_id=a}x.post("https://thtsystemv2.tech/public/api/v1/accountbanks/create",te.value,{...p}).then(a=>{Je(),B(),w.success(a.data.message)}).catch(a=>{console.error("Error al guardar los datos:",a)})};E(()=>Ae.value,(g,m)=>{}),E(()=>$e.value,(g,m)=>{}),E(()=>he.value,(g,m)=>{}),E(()=>be.value,(g,m)=>{}),E(()=>ne.value,(g,m)=>{}),E(()=>Qe.value,(g,m)=>{}),E(()=>Ve.value,(g,m)=>{}),E(()=>we.value,(g,m)=>{}),E(()=>Ce.value,(g,m)=>{}),E(()=>xe.value,(g,m)=>{}),E(()=>Ee.value,(g,m)=>{}),E(ie,(g,m)=>{const q=document.querySelector(".emisor-select select");if(q){const n=q.selectedIndex;q.options[n].text}}),E(()=>de.value,(g,m)=>{if(document.querySelector(".district-select select")){const n=g.toString().padStart(6,"0");Q.value.district_id=n,X.value.district_id=n}}),E(()=>ke.value,(g,m)=>{if(document.querySelector(".province-select select")){const n=g.toString().padStart(4,"0");Q.value.province_id=n,X.value.province_id=n}}),E(()=>A.value,(g,m)=>{if(document.querySelector(".department-select select")){const n=g.toString().padStart(2,"0");Q.value.department_id=n,X.value.department_id=n}});const ol=u("N° DNI"),ul=u("RENIEC");return E(()=>H.value,g=>{const m=document.querySelector(".typedocument-select select");if(m){const q=m.selectedIndex,n=m.options[q],a=m.options[q].text;Q.value.typedocument_id=q,Q.value.typeDocument=a,ol.value=`N° ${n.textContent}`,ul.value=g==="1"?"RENIEC":g==="2"?"SUNAT":"Validar"}}),E(()=>D.value,(g,m)=>{const q=document.querySelector(".sexo-select select");if(q){const n=q.selectedIndex,a=q.options[n].text;Q.value.sex=a}}),E(()=>se.value,(g,m)=>{const q=document.querySelector(".state-select select");if(q){const n=q.selectedIndex,a=q.options[n].text;Q.value.status=a}}),Vl(async()=>{try{await Pe(),await B(),await k(),await R(),await F(),await ae(),await ve()}catch(g){console.error("Error al realizar llamadas a la API:",g)}}),(g,m)=>{const q=S("flat-pickr");return h(),_("div",null,[e(l(ue),{activeModal:l(C).addmodal2,onClose:l(C).closeModal2,title:"Registrar Nuevo Ingreso Caja - Ericka",centered:""},{default:s(()=>[t("form",{onSubmit:M(je,["prevent"]),class:"space-y-4"},[t("div",In,[e(l(i),{name:"d1",error:l(_e)},{default:s(()=>[e(l(y),{label:"Caja aperturada",options:G,modelValue:$e.value,"onUpdate:modelValue":m[0]||(m[0]=n=>$e.value=n),disabled:"",class:"cajonci-select"},null,8,["modelValue"])]),_:1},8,["error"]),e(l(i),{label:"Descripción ingreso",name:"d2"},{default:s(()=>[e(l(V),{type:"text",placeholder:"Descripción ingreso",modelValue:$.value.gloss,"onUpdate:modelValue":m[1]||(m[1]=n=>$.value.gloss=n),modelModifiers:{trim:!0}},null,8,["modelValue"]),Fe("gloss")?j("",!0):(h(),_("span",Sn,"Por favor ingrese descripción"))]),_:1})]),t("div",Un,[e(l(i),{name:"d3"},{default:s(()=>[e(l(y),{label:"Emisor (opcional)",options:Me,modelValue:ie.value,"onUpdate:modelValue":m[2]||(m[2]=n=>ie.value=n),class:"emisor-select"},null,8,["modelValue"])]),_:1}),e(l(i),{name:"d4"},{default:s(()=>[e(l(y),{label:"Concepto ingreso",options:Ue.value,modelValue:he.value,"onUpdate:modelValue":m[3]||(m[3]=n=>he.value=n),class:"concept-select",placeholder:"Seleccione ingreso"},null,8,["options","modelValue"]),he.value?j("",!0):(h(),_("span",Tn,"Por favor selecciona un concepto"))]),_:1})]),t("div",Dn,[ie.value==="clients"?(h(),_("div",Pn,[e(l(i),{label:"Clientes",class:"flex-1"},{default:s(()=>[e(l(y),{options:nl.value,modelValue:Ae.value,"onUpdate:modelValue":m[4]||(m[4]=n=>Ae.value=n),class:"client-select"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:Oe,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):ie.value==="providers"?(h(),_("div",jn,[e(l(i),{label:"Proveedores",class:"flex-1"},{default:s(()=>[e(l(y),{options:re.value,modelValue:ne.value,"onUpdate:modelValue":m[5]||(m[5]=n=>ne.value=n),class:"provider-select"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:Ye,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):ie.value==="employees"?(h(),_("div",Nn,[e(l(i),{label:"Empleados",class:"flex-1"},{default:s(()=>[e(l(y),{options:Se.value,modelValue:xe.value,"onUpdate:modelValue":m[6]||(m[6]=n=>xe.value=n),class:"employee-select"},null,8,["options","modelValue"])]),_:1})])):j("",!0)]),e(l(i),{label:"Fecha del movimiento",name:"d1"},{default:s(()=>[e(q,{modelValue:$.value.date_movement,"onUpdate:modelValue":m[7]||(m[7]=n=>$.value.date_movement=n),class:"form-control",id:"d1",placeholder:"yyyy, dd M"},null,8,["modelValue"])]),_:1}),e(l(ue),{title:"Registrar nuevo Cliente",label:"Modal title",activeModal:f.value,onClose:m[22]||(m[22]=n=>f.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[t("form",Rn,[t("div",An,[t("div",null,[e(l(i),{label:"Tipo de cliente"},{default:s(()=>[e(l(y),{options:ll,modelValue:tl.value,"onUpdate:modelValue":m[8]||(m[8]=n=>tl.value=n),class:"typecliente-select",placeholder:"Selccione Cliente"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Tipo documento"},{default:s(()=>[e(l(y),{options:le,modelValue:H.value,"onUpdate:modelValue":m[9]||(m[9]=n=>H.value=n),class:"typedocument-select"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"N° Documento"},{default:s(()=>[e(l(Re),{type:"text",placeholder:ol.value,modelValue:Q.value.document,"onUpdate:modelValue":m[10]||(m[10]=n=>Q.value.document=n)},{append:s(()=>[e(l(U),{text:ul.value,btnClass:"btn-outline-dark",onClick:M(Xe,["prevent"])},null,8,["text"])]),_:1},8,["placeholder","modelValue"])]),_:1})])]),t("div",qn,[t("div",On,[e(l(i),{label:"Nombre ó Razón Social"},{default:s(()=>[e(l(V),{type:"text",id:"client_fullname",modelValue:Q.value.fullname,"onUpdate:modelValue":m[11]||(m[11]=n=>Q.value.fullname=n),modelModifiers:{trim:!0},placeholder:"Ingrese Nombre ó Razón Social "},null,8,["modelValue"])]),_:1})]),Bn]),t("div",Ln,[t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:N.value,label:"Departamento",modelValue:l(A),"onUpdate:modelValue":m[12]||(m[12]=n=>Z(A)?A.value=n:A=n),class:"department-select",onChange:Ie,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:L.value,label:"Provincias",modelValue:l(ke),"onUpdate:modelValue":m[13]||(m[13]=n=>Z(ke)?ke.value=n:ke=n),class:"province-select",onChange:Le,placeholder:""},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:T.value,label:"Distritos",modelValue:l(de),"onUpdate:modelValue":m[14]||(m[14]=n=>Z(de)?de.value=n:de=n),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),t("div",Fn,[t("div",Gn,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(V),{type:"text",modelValue:Q.value.address,"onUpdate:modelValue":m[15]||(m[15]=n=>Q.value.address=n),modelModifiers:{trim:!0},placeholder:"Ingrese Direción"},null,8,["modelValue"])]),_:1})]),zn]),t("div",Hn,[t("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(V),{type:"text",modelValue:Q.value.cellphone,"onUpdate:modelValue":m[16]||(m[16]=n=>Q.value.cellphone=n),modelModifiers:{trim:!0},placeholder:"Ingrese N° de celular"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Teléfono fijo"},{default:s(()=>[e(l(V),{type:"text",modelValue:Q.value.telephone,"onUpdate:modelValue":m[17]||(m[17]=n=>Q.value.telephone=n),modelModifiers:{trim:!0},placeholder:"Ingrese N° de telefono fijo"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(V),{type:"email",modelValue:Q.value.email,"onUpdate:modelValue":m[18]||(m[18]=n=>Q.value.email=n),modelModifiers:{trim:!0},placeholder:"Ingrese correo electrónico"},null,8,["modelValue"])]),_:1})])]),t("div",Jn,[t("div",null,[e(l(i),{label:"Fecha de nacimiento"},{default:s(()=>[e(q,{modelValue:Q.value.date_birthday,"onUpdate:modelValue":m[19]||(m[19]=n=>Q.value.date_birthday=n),class:"form-control",id:"date_birthday",placeholder:"yyyy, dd M",config:{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d"}},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:Ge,label:"Estado",modelValue:l(se),"onUpdate:modelValue":m[20]||(m[20]=n=>Z(se)?se.value=n:se=n),class:"state-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:Ke,label:"Sexo",modelValue:l(D),"onUpdate:modelValue":m[21]||(m[21]=n=>Z(D)?D.value=n:D=n),class:"sexo-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})])]),t("div",Yn,[Qn,t("div",Wn,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(Be,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(ml,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(ue),{title:"Registrar nuevo Proveedor",label:"Modal title",activeModal:I.value,onClose:m[33]||(m[33]=n=>I.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[t("form",Zn,[t("div",Kn,[t("div",null,[e(l(i),{label:"N° RUC"},{default:s(()=>[e(l(Re),{type:"text",placeholder:"RUC",modelValue:X.value.document,"onUpdate:modelValue":m[23]||(m[23]=n=>X.value.document=n),modelModifiers:{trim:!0}},{append:s(()=>[e(l(U),{text:"SUNAT",btnClass:"btn-outline-dark ",onClick:M(rl,["prevent"])})]),_:1},8,["modelValue"])]),_:1})]),t("div",Xn,[e(l(i),{label:"Razón social del proveedor"},{default:s(()=>[e(l(V),{modelValue:X.value.fullname,"onUpdate:modelValue":m[24]||(m[24]=n=>X.value.fullname=n),modelModifiers:{trim:!0},placeholder:"Razón social del proveedor",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Nombre comercial"},{default:s(()=>[e(l(V),{modelValue:X.value.tradename,"onUpdate:modelValue":m[25]||(m[25]=n=>X.value.tradename=n),modelModifiers:{trim:!0},placeholder:"Nombre comercial",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",ed,[t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:N.value,label:"Departamento",modelValue:l(A),"onUpdate:modelValue":m[26]||(m[26]=n=>Z(A)?A.value=n:A=n),class:"department-select",onChange:Ie,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:L.value,label:"Provincias",modelValue:l(ke),"onUpdate:modelValue":m[27]||(m[27]=n=>Z(ke)?ke.value=n:ke=n),class:"province-select",onChange:Le,placeholder:""},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:T.value,label:"Distritos",modelValue:l(de),"onUpdate:modelValue":m[28]||(m[28]=n=>Z(de)?de.value=n:de=n),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(V),{modelValue:X.value.address,"onUpdate:modelValue":m[29]||(m[29]=n=>X.value.address=n),modelModifiers:{trim:!0},placeholder:"Dirección",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",ld,[t("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(V),{modelValue:X.value.cellphone,"onUpdate:modelValue":m[30]||(m[30]=n=>X.value.cellphone=n),modelModifiers:{trim:!0},placeholder:"Celular","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Teléfono"},{default:s(()=>[e(l(V),{modelValue:X.value.telephone,"onUpdate:modelValue":m[31]||(m[31]=n=>X.value.telephone=n),modelModifiers:{trim:!0},placeholder:"Teléfono","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(V),{modelValue:X.value.email,"onUpdate:modelValue":m[32]||(m[32]=n=>X.value.email=n),modelModifiers:{trim:!0},placeholder:"Correo electrónico",type:"email",class:"w-full"},null,8,["modelValue"])]),_:1})])]),t("div",td,[od,t("div",ad,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(Ze,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(il,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(ue),{title:"Registrar cuenta bancaria",label:"Modal title",activeModal:P.value,onClose:m[45]||(m[45]=n=>P.value=!1)},{default:s(()=>[t("form",sd,[t("div",nd,[t("div",null,[e(l(i),{label:"Sucursal",class:"block"},{default:s(()=>[e(l(y),{modelValue:Ee.value,"onUpdate:modelValue":m[34]||(m[34]=n=>Ee.value=n),options:ze,required:"",class:"oficinaprincipal-select"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Tipo de cuenta",class:"block"},{default:s(()=>[e(l(y),{modelValue:we.value,"onUpdate:modelValue":m[35]||(m[35]=n=>we.value=n),options:He,required:"",class:"typeaccount-select"},null,8,["modelValue"])]),_:1})])]),t("div",dd,[t("div",rd,[e(l(i),{label:"Banco",class:"flex-1"},{default:s(()=>[e(l(y),{options:oe.value,modelValue:Ce.value,"onUpdate:modelValue":m[36]||(m[36]=n=>Ce.value=n),class:"banck-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:M(dl,["prevent"]),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),t("div",null,[e(l(i),{label:"Moneda",class:"block"},{default:s(()=>[e(l(y),{modelValue:be.value,"onUpdate:modelValue":m[37]||(m[37]=n=>be.value=n),options:ge,required:"",class:"money-select"},null,8,["modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Nombre cuenta",class:"block"},{default:s(()=>[e(l(V),{modelValue:te.value.name,"onUpdate:modelValue":m[38]||(m[38]=n=>te.value.name=n),modelModifiers:{trim:!0},placeholder:"Nombre cuenta",required:""},null,8,["modelValue"])]),_:1})]),t("div",id,[t("div",null,[e(l(i),{label:"N° de cuenta",class:"block"},{default:s(()=>[e(l(V),{modelValue:te.value.number_account,"onUpdate:modelValue":m[39]||(m[39]=n=>te.value.number_account=n),modelModifiers:{trim:!0},placeholder:"N° de cuenta",required:""},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"N° CCI (Código interbancario)",class:"block"},{default:s(()=>[e(l(V),{modelValue:te.value.cci_account,"onUpdate:modelValue":m[40]||(m[40]=n=>te.value.cci_account=n),modelModifiers:{trim:!0},placeholder:"N° CCI",required:""},null,8,["modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Titular cuenta",class:"block"},{default:s(()=>[e(l(V),{modelValue:te.value.headline,"onUpdate:modelValue":m[41]||(m[41]=n=>te.value.headline=n),modelModifiers:{trim:!0},placeholder:"Titular cuenta",required:""},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Descripción",class:"block"},{default:s(()=>[e(l(wl),{modelValue:te.value.description,"onUpdate:modelValue":m[42]||(m[42]=n=>te.value.description=n),modelModifiers:{trim:!0},placeholder:"Descripción"},null,8,["modelValue"])]),_:1})]),t("div",cd,[ud,t("div",md,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(Je,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(cl,["prevent"])})])])]),e(l(ue),{title:"Registrar banco",label:"Modal title",activeModal:O.value,onClose:m[44]||(m[44]=n=>O.value=!1)},{default:s(()=>[t("form",pd,[e(l(V),{label:"Nombre",name:"pn",type:"text",placeholder:"Ingresar nombre ",modelValue:K.value.description,"onUpdate:modelValue":m[43]||(m[43]=n=>K.value.description=n)},null,8,["modelValue"]),t("div",vd,[bd,t("div",fd,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(Ne,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(De,["prevent"])})])])])]),_:1},8,["activeModal"])]),_:1},8,["activeModal"]),t("div",gd,[e(l(i),{name:"d5",class:"mt-1"},{default:s(()=>[hd,e(l(y),{id:"payment-type",options:ce,modelValue:Qe.value,"onUpdate:modelValue":m[46]||(m[46]=n=>Qe.value=n),class:"pago-select mt-2"},null,8,["modelValue"])]),_:1}),Qe.value==="account_deposit"?(h(),_(pe,{key:0},[t("div",_d,[e(l(i),{label:"Cuenta destino",class:"flex-1"},{default:s(()=>[e(l(y),{options:We.value,modelValue:Ve.value,"onUpdate:modelValue":m[47]||(m[47]=n=>Ve.value=n),class:"cuentadestino-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:el,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),e(l(i),{label:"N° de Operación"},{default:s(()=>[e(l(V),{type:"text",modelValue:$.value.reference_operation,"onUpdate:modelValue":m[48]||(m[48]=n=>$.value.reference_operation=n),modelModifiers:{trim:!0},placeholder:"Ingrese N° de Operación"},null,8,["modelValue"])]),_:1})],64)):j("",!0),e(l(i),{label:"Monto",name:"d6"},{default:s(()=>[e(l(V),{type:"text",placeholder:"Monto",modelValue:$.value.amount,"onUpdate:modelValue":m[49]||(m[49]=n=>$.value.amount=n),modelModifiers:{trim:!0}},null,8,["modelValue"]),Fe("amount")?j("",!0):(h(),_("span",yd,"Por favor ingrese monto"))]),_:1})]),t("div",xd,[t("div",Vd,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:W}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:qe})])])],32)]),_:1},8,["activeModal","onClose"])])}}},kd={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},wd={key:0,class:"text-red-500"},Ed={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},$d={key:0,class:"text-red-500"},Md={class:"grid lg:grid-cols-1 gap-4 grid-cols-1"},Id={key:0,class:"flex items-center"},Sd={key:1,class:"flex items-center"},Ud={key:2,class:"flex items-center"},Td={key:3,class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},Dd={name:"client_form",id:"client_form",autocomplete:"off",class:"mx-auto space-y-4"},Pd={class:"grid grid-cols-3 lg:grid-cols-3 gap-4"},jd={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Nd={class:"lg:col-span-3"},Rd=t("div",{class:"lg:hidden"},null,-1),Ad={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},qd={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Od={class:"lg:col-span-3"},Bd=t("div",{class:"lg:hidden"},null,-1),Ld={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Fd={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Gd={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},zd=t("div",{class:"lg:col-span-1"},null,-1),Hd={class:"lg:col-span-3 flex justify-end"},Jd={name:"providerForm",id:"providerForm",autocomplete:"off",class:"space-y-4"},Yd={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Qd={class:"md:col-span-1 lg:col-span-2"},Wd={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Zd={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Kd={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},Xd=t("div",{class:"lg:col-span-3"},null,-1),er={class:"lg:col-span-1 flex justify-end"},lr={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},tr={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},or={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},ar={class:"flex items-center"},sr={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},nr={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},dr=t("div",{class:"lg:col-span-3"},null,-1),rr={class:"lg:col-span-1 flex justify-end"},ir={name:"banks_form",id:"banks_form",autocomplete:"off",class:"space-y-4"},cr={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mt-4"},ur=t("div",{class:"lg:col-span-3"},null,-1),mr={class:"lg:col-span-1 flex justify-end"},pr={class:"grid lg:grid-cols-2 gap-4 grid-cols-1"},vr=t("label",{for:"payment-type",class:"block text-sm font-medium text-gray-700 flex items-center"},[fe(" Método de pago "),t("span",{class:"text-red-500 ml-1"},"*")],-1),br={class:"flex items-center"},fr={key:0,class:"text-red-500"},gr={class:"form-group col-lg-12 form__footerBtn mt-4"},hr={class:"text-right"},_r={__name:"ClientAddModal-Egreso-A",setup(b){const p=Te().headers();let C=sl();const w=me(),f=u(!1),I=u(!1),P=u(!1),O=u(!1),N=u([]),T=u([]),L=u([]);u(null);const W=()=>{C.closeModal3()},$=u({receptor_module:"",receptor_fullname:"",receptor_document:"",is_paycredit:"",available_edit:"",user_id:"",branchoffice_id:"",moneybox_id:"",concept_id:"",paymentmethod_id:"",currency_id:"",voucher_id:"",client_id:"",provider_id:"",employee_id:"",accountbank_id:"",date_movement:"",amount:"",text_amount:"",gloss:"",reference_operation:"",nro_voucher:"",serie:"",correlative:"",billing_external_id:"",billing_hash:"",motive_cancelled:"",billing_cancelled:"",date_repayment:"",repaymentmovement_id:"",dischargedocument_id:"",is_voucher_external:"",voucher_external:"",nro_voucher_external:"",booking_id:"",commision_id:"",observation:"",is_visible:""}),ve=async()=>{try{const a=await x.get("https://thtsystemv2.tech/public/api/v1/ubigeo/departments",p);N.value=a.data.data.map(d=>({value:d.id,label:d.name}))}catch(a){console.error("Error fetching departments:",a)}},F=async()=>{try{const a=await x.get("https://thtsystemv2.tech/public/api/v1/clients/list",p);ze.value=a.data.data.map(d=>({value:d.id,label:d.fullname}))}catch(a){console.error("Error fetching departments:",a)}},Pe=async()=>{try{const a=await x.get("https://thtsystemv2.tech/public/api/v1/moneys/expense-concepts",p);Le.value=a.data.data.map(d=>({value:d.id,label:d.description}))}catch(a){console.error("Error fetching departments:",a)}},R=async()=>{try{const a=await x.get("https://thtsystemv2.tech/public/api/v1/banks/list",p);We.value=a.data.data.map(d=>({value:d.id,label:d.description}))}catch(a){console.error("Error fetching departments:",a)}},B=async()=>{try{const a=await x.get("https://thtsystemv2.tech/public/api/v1/typevouchers/list",p);te.value=a.data.data.map(d=>({value:d.id,label:d.description}))}catch(a){console.error("Error fetching departments:",a)}},k=async()=>{try{const a=await x.get("https://thtsystemv2.tech/public/api/v1/accountbanks/list",p);Ge.value=a.data.data.map(d=>({value:d.id,label:d.name}))}catch(a){console.error("Error fetching departments:",a)}},ae=async()=>{try{const a=await x.get("https://thtsystemv2.tech/public/api/v1/providers/list",p);Se.value=a.data.data.map(d=>({value:d.id,label:d.fullname}))}catch(a){console.error("Error fetching departments:",a)}},ge=async()=>{try{const a=await x.get("https://thtsystemv2.tech/public/api/v1/employees/list",p);K.value=a.data.data.map(d=>({value:d.id,label:d.fullname}))}catch(a){console.error("Error fetching departments:",a)}},re=[{value:501,label:"SOL"},{value:502,label:"DÓLAR"},{value:503,label:"EURO"}],Se=u([]),K=u([]),te=u([]),ye=u({description:""}),G=u({branchoffice_id:"",bank_id:"",typeaccount_id:"",currency_id:"",name:"",number_account:"",cci_account:"",balance:"",headline:"",description:""}),ze=u([]),He=[{value:2,label:"Caja General"}],Ae=[{value:500,label:"Oficina Principal"}],ne=[{value:504,label:"CUENTA SIMPLE"},{value:505,label:"CUENTA CORRIENTE"},{value:506,label:"TARJETA DE CRÉDITO"}],xe=u(null),he=u(null),Ve=u(null),Ce=u(null),be=u(null),we=u(null),Ee=u(null),$e=u(re[0].value),je=u(ne[0].value),Oe=u(Ae[0].value),Be=u(He[0].value),Ze=()=>{},Je=()=>{f.value=!f.value},Ne=u(!1),Ye=()=>{f.value=!1},el=()=>{I.value=!1},nl=()=>{P.value=!1},qe=()=>{O.value=!1},dl=()=>{I.value=!I.value},X=()=>{P.value=!P.value},Qe=()=>{const a=document.querySelector(".cajonci-select select"),d=document.querySelector(".pago-select select");if(a){const J=d.selectedIndex,fl=d.options[J].text;$.value.paymentmethod_id=J,$.value.paymethod=fl}const c=xe.value;$.value.client_id=c;const o=he.value;$.value.provider_id=o;const r=Ve.value;$.value.employee_id=r;const z=Ce.value;$.value.concept_id=z;const v=be.value;$.value.accountbank_id=v,$.value.voucher_external=Ee.value,$.value.is_voucher_external=Ne.value,Ne.value||($.value.nro_voucher_external=null,$.value.voucher_external=null),console.log($.value),x.post("https://thtsystemv2.tech/public/api/v1/moneys-ericka/create-expense",$.value,{...p}).then(J=>{W(),w.success(J.data.message)}).catch(J=>{if(console.error("Error al guardar los datos:",J),J.response&&J.response.data&&J.response.data.message){W();const fl=J.response.data.message;w.error(fl)}else w.error("Ha ocurrido un error al guardar los datos. Por favor, inténtalo de nuevo.")})},oe=()=>{O.value=!O.value},ee=u({typedocument_id:"",document:"",department_id:"",province_id:"",district_id:"",fullname:"",tradename:"",address:"",cellphone:"",telephone:"",email:""}),Fe=u("cash"),We=u([]),ll=a=>!!$.value[a],le=a=>ll(a),Ge=u([]),Ke=[{value:1,label:"Natural"},{value:2,label:"Jurídico"}],Q=[{value:1,label:"DNI"},{value:2,label:"RUC"},{value:3,label:"PASAPORTE"}],tl=[{id:1,label:"Soltero"},{id:2,label:"Casado"},{id:2,label:"Viudo"},{id:2,label:"Divorciado"}],H=[{id:1,label:"Masculino"},{id:2,label:"Femenino"}],A=u({typedocument_id:"",department_id:"",province_id:"",district_id:"",type_client:"",fullname:"",document:"",tradename:"",address:"",email:"",telephone:"",cellphone:"",date_birthday:"",sex:"",status:"",typeDocument:""}),ke=u(Ke[0].value),de=u(Q[0].value);let se=u(null),D=u(null),_e=u(null),Me=u(null),ie=u(null),Ue="";const ce=[{value:"clients",label:"Clientes"},{value:"providers",label:"Proveedores"},{value:"employees",label:"Empleados"}],Ie=u(ce[0].value),Le=u([]),rl=[{value:"cash",label:"Efectivo"},{value:"visa",label:"Visa"},{value:"check",label:"Cheque"},{value:"account_deposit",label:"Depósito a cuenta"}],Xe=async()=>{try{const a=await x.get(`https://thtsystemv2.tech/public/api/v1/ubigeo/provinces/${A.value.department_id}`,p);L.value=a.data.data.map(d=>({value:d.id,label:d.name}))}catch(a){console.error("Error fetching provinces:",a)}},De=async()=>{try{const a=await x.get(`https://thtsystemv2.tech/public/api/v1/ubigeo/districts/${A.value.province_id}`,p);T.value=a.data.data.map(d=>({value:d.id,label:d.name}))}catch(a){console.error("Error fetching provinces:",a)}},il=()=>{x.post("https://thtsystemv2.tech/public/api/v1/getRucData",{ruc:ee.value.document}).then(a=>{ee.value.fullname=a.data.data.nombre_o_razon_social,ee.value.address=a.data.data.direccion}).catch(a=>{console.error("Error al obtener datos del RUC:",a)})},ml=()=>{x.post("https://thtsystemv2.tech/public/api/v1/getDniData",{dni:A.value.document}).then(a=>{A.value.fullname=a.data.data.nombre_completo}).catch(a=>{console.error("Error al obtener datos del DNI:",a)})},cl=Tl(()=>ze.value.slice(0,6)),ol=()=>{x.post("https://thtsystemv2.tech/public/api/v1/banks/create",ye.value,{...p}).then(a=>{qe(),R(),w.success(a.data.message)}).catch(a=>{console.error("Error al guardar los datos:",a)})},ul=()=>{x.post("https://thtsystemv2.tech/public/api/v1/providers/create",ee.value,{...p}).then(a=>{el(),ae(),w.success(a.data.message)}).catch(a=>{console.error("Error al guardar los datos:",a)})},g=()=>{const a=document.querySelector(".typecliente-select select");if(a){const c=a.selectedIndex,o=c.toString();a.options[c].text,A.value.type_client=o}const d=document.querySelector(".typedocument-select select");if(a){const c=d.selectedIndex,o=d.options[c].text;A.value.typedocument_id=c,A.value.typeDocument=o}x.post("https://thtsystemv2.tech/public/api/v1/clients/create",A.value,{...p}).then(c=>{Ye(),F(),w.success(c.data.message)}).catch(c=>{console.error("Error al guardar los datos:",c)})},m=()=>{const a=document.querySelector(".oficinaprincipal-select select");if(a){const r=a.selectedIndex;a.options[r].text,G.value.branchoffice_id=r}const d=document.querySelector(".typeaccount-select select");if(a){const r=d.selectedIndex;d.options[r].text,G.value.typeaccount_id=r}const c=document.querySelector(".banck-select select");if(a){const r=c.selectedIndex;c.options[r].text,G.value.bank_id=r}const o=document.querySelector(".money-select select");if(a){const r=o.selectedIndex;o.options[r].text,G.value.currency_id=r}x.post("https://thtsystemv2.tech/public/api/v1/accountbanks/create",G.value,{...p}).then(r=>{nl(),k(),w.success(r.data.message)}).catch(r=>{console.error("Error al guardar los datos:",r)})};E(()=>xe.value,(a,d)=>{}),E(()=>Be.value,(a,d)=>{}),E(()=>Ce.value,(a,d)=>{}),E(()=>$e.value,(a,d)=>{}),E(()=>he.value,(a,d)=>{}),E(()=>Fe.value,(a,d)=>{}),E(()=>be.value,(a,d)=>{}),E(()=>je.value,(a,d)=>{}),E(()=>we.value,(a,d)=>{}),E(()=>Ve.value,(a,d)=>{}),E(()=>Oe.value,(a,d)=>{}),E(Ie,(a,d)=>{const c=document.querySelector(".emisor-select select");if(c){const o=c.selectedIndex;c.options[o].text}}),E(()=>_e.value,(a,d)=>{if(document.querySelector(".district-select select")){const o=a.toString().padStart(6,"0");A.value.district_id=o,ee.value.district_id=o}}),E(()=>D.value,(a,d)=>{if(document.querySelector(".province-select select")){const o=a.toString().padStart(4,"0");A.value.province_id=o,ee.value.province_id=o}}),E(()=>se.value,(a,d)=>{if(document.querySelector(".department-select select")){const o=a.toString().padStart(2,"0");A.value.department_id=o,ee.value.department_id=o}});const q=u("N° DNI"),n=u("RENIEC");return E(()=>de.value,a=>{const d=document.querySelector(".typedocument-select select");if(d){const c=d.selectedIndex,o=d.options[c],r=d.options[c].text;A.value.typedocument_id=c,A.value.typeDocument=r,q.value=`N° ${o.textContent}`,n.value=a==="1"?"RENIEC":a==="2"?"SUNAT":"Validar"}}),E(()=>ie.value,(a,d)=>{const c=document.querySelector(".sexo-select select");if(c){const o=c.selectedIndex,r=c.options[o].text;A.value.sex=r}}),E(()=>Me.value,(a,d)=>{const c=document.querySelector(".state-select select");if(c){const o=c.selectedIndex,r=c.options[o].text;A.value.status=r}}),Vl(async()=>{try{await Pe(),await k(),await ae(),await R(),await F(),await ge(),await ve(),await B()}catch(a){console.error("Error al realizar llamadas a la API:",a)}}),(a,d)=>{const c=S("flat-pickr");return h(),_("div",null,[e(l(ue),{activeModal:l(C).addmodal3,onClose:l(C).closeModal3,title:"Registrar Nuevo Egreso - Caja Ericka",centered:""},{default:s(()=>[t("form",{onSubmit:M(Ze,["prevent"]),class:"space-y-4"},[t("div",kd,[e(l(i),{name:"d1",error:l(Ue)},{default:s(()=>[e(l(y),{label:"Caja aperturada",options:He,modelValue:Be.value,"onUpdate:modelValue":d[0]||(d[0]=o=>Be.value=o),disabled:"",class:"cajonci-select"},null,8,["modelValue"])]),_:1},8,["error"]),e(l(i),{label:"Descripción egreso",name:"d2"},{default:s(()=>[e(l(V),{type:"text",placeholder:"Descripción egreso",modelValue:$.value.gloss,"onUpdate:modelValue":d[1]||(d[1]=o=>$.value.gloss=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),le("gloss")?j("",!0):(h(),_("span",wd,"Por favor ingrese descripción"))]),_:1})]),t("div",Ed,[e(l(i),{name:"d3"},{default:s(()=>[e(l(y),{label:"Receptor (opcional)",options:ce,modelValue:Ie.value,"onUpdate:modelValue":d[2]||(d[2]=o=>Ie.value=o),class:"emisor-select"},null,8,["modelValue"])]),_:1}),e(l(i),{name:"d4"},{default:s(()=>[e(l(y),{label:"Concepto egreso",options:Le.value,modelValue:Ce.value,"onUpdate:modelValue":d[3]||(d[3]=o=>Ce.value=o),class:"concept-select",placeholder:"Seleccione concepto"},null,8,["options","modelValue"]),Ce.value?j("",!0):(h(),_("span",$d,"Por favor selecciona un concepto"))]),_:1})]),t("div",Md,[Ie.value==="clients"?(h(),_("div",Id,[e(l(i),{label:"Clientes",class:"flex-1"},{default:s(()=>[e(l(y),{options:cl.value,modelValue:xe.value,"onUpdate:modelValue":d[4]||(d[4]=o=>xe.value=o),class:"client-select"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:Je,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):Ie.value==="providers"?(h(),_("div",Sd,[e(l(i),{label:"Proveedores",class:"flex-1"},{default:s(()=>[e(l(y),{options:Se.value,modelValue:he.value,"onUpdate:modelValue":d[5]||(d[5]=o=>he.value=o),class:"provider-select"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:dl,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")])):Ie.value==="employees"?(h(),_("div",Ud,[e(l(i),{label:"Empleados",class:"flex-1"},{default:s(()=>[e(l(y),{options:K.value,modelValue:Ve.value,"onUpdate:modelValue":d[6]||(d[6]=o=>Ve.value=o),class:"employee-select"},null,8,["options","modelValue"])]),_:1})])):j("",!0),e(l(i),{label:"Fecha del movimiento",name:"d1"},{default:s(()=>[e(c,{modelValue:$.value.date_movement,"onUpdate:modelValue":d[7]||(d[7]=o=>$.value.date_movement=o),class:"form-control",id:"d1",placeholder:"yyyy, dd M"},null,8,["modelValue"])]),_:1}),e(l(xl),{label:"Incluye Comprobante",modelValue:Ne.value,"onUpdate:modelValue":d[8]||(d[8]=o=>Ne.value=o)},null,8,["modelValue"]),Ne.value?(h(),_("div",Td,[e(l(i),{label:"Tipo de Comprobante"},{default:s(()=>[e(l(y),{options:te.value,modelValue:Ee.value,"onUpdate:modelValue":d[9]||(d[9]=o=>Ee.value=o)},null,8,["options","modelValue"])]),_:1}),e(l(i),{label:"N° de Comprobante"},{default:s(()=>[e(l(V),{type:"text",modelValue:$.value.nro_voucher_external,"onUpdate:modelValue":d[10]||(d[10]=o=>$.value.nro_voucher_external=o),placeholder:"Ingrese N° de Comprobante"},null,8,["modelValue"])]),_:1})])):j("",!0)]),e(l(ue),{title:"Registrar nuevo Cliente",label:"Modal title",activeModal:f.value,onClose:d[25]||(d[25]=o=>f.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[t("form",Dd,[t("div",Pd,[t("div",null,[e(l(i),{label:"Tipo de cliente"},{default:s(()=>[e(l(y),{options:Ke,modelValue:ke.value,"onUpdate:modelValue":d[11]||(d[11]=o=>ke.value=o),class:"typecliente-select",placeholder:"Selccione Cliente"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Tipo documento"},{default:s(()=>[e(l(y),{options:Q,modelValue:de.value,"onUpdate:modelValue":d[12]||(d[12]=o=>de.value=o),class:"typedocument-select"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"N° Documento"},{default:s(()=>[e(l(Re),{type:"text",placeholder:q.value,modelValue:A.value.document,"onUpdate:modelValue":d[13]||(d[13]=o=>A.value.document=o)},{append:s(()=>[e(l(U),{text:n.value,btnClass:"btn-outline-dark",onClick:M(ml,["prevent"])},null,8,["text"])]),_:1},8,["placeholder","modelValue"])]),_:1})])]),t("div",jd,[t("div",Nd,[e(l(i),{label:"Nombre ó Razón Social"},{default:s(()=>[e(l(V),{type:"text",id:"client_fullname",modelValue:A.value.fullname,"onUpdate:modelValue":d[14]||(d[14]=o=>A.value.fullname=o),modelModifiers:{trim:!0},placeholder:"Ingrese Nombre ó Razón Social "},null,8,["modelValue"])]),_:1})]),Rd]),t("div",Ad,[t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:N.value,label:"Departamento",modelValue:l(se),"onUpdate:modelValue":d[15]||(d[15]=o=>Z(se)?se.value=o:se=o),class:"department-select",onChange:Xe,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:L.value,label:"Provincias",modelValue:l(D),"onUpdate:modelValue":d[16]||(d[16]=o=>Z(D)?D.value=o:D=o),class:"province-select",onChange:De,placeholder:""},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:T.value,label:"Distritos",modelValue:l(_e),"onUpdate:modelValue":d[17]||(d[17]=o=>Z(_e)?_e.value=o:_e=o),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),t("div",qd,[t("div",Od,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(V),{type:"text",modelValue:A.value.address,"onUpdate:modelValue":d[18]||(d[18]=o=>A.value.address=o),modelModifiers:{trim:!0},placeholder:"Ingrese Direción"},null,8,["modelValue"])]),_:1})]),Bd]),t("div",Ld,[t("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(V),{type:"text",modelValue:A.value.cellphone,"onUpdate:modelValue":d[19]||(d[19]=o=>A.value.cellphone=o),modelModifiers:{trim:!0},placeholder:"Ingrese N° de celular"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Teléfono fijo"},{default:s(()=>[e(l(V),{type:"text",modelValue:A.value.telephone,"onUpdate:modelValue":d[20]||(d[20]=o=>A.value.telephone=o),modelModifiers:{trim:!0},placeholder:"Ingrese N° de telefono fijo"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(V),{type:"email",modelValue:A.value.email,"onUpdate:modelValue":d[21]||(d[21]=o=>A.value.email=o),modelModifiers:{trim:!0},placeholder:"Ingrese correo electrónico"},null,8,["modelValue"])]),_:1})])]),t("div",Fd,[t("div",null,[e(l(i),{label:"Fecha de nacimiento"},{default:s(()=>[e(c,{modelValue:A.value.date_birthday,"onUpdate:modelValue":d[22]||(d[22]=o=>A.value.date_birthday=o),class:"form-control",id:"date_birthday",placeholder:"yyyy, dd M",config:{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d"}},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:tl,label:"Estado",modelValue:l(Me),"onUpdate:modelValue":d[23]||(d[23]=o=>Z(Me)?Me.value=o:Me=o),class:"state-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:H,label:"Sexo",modelValue:l(ie),"onUpdate:modelValue":d[24]||(d[24]=o=>Z(ie)?ie.value=o:ie=o),class:"sexo-select",placeholder:"Seleccione"},null,8,["modelValue"])]),_:1})])]),t("div",Gd,[zd,t("div",Hd,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(Ye,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(g,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(ue),{title:"Registrar nuevo Proveedor",label:"Modal title",activeModal:I.value,onClose:d[36]||(d[36]=o=>I.value=!1),sizeClass:"max-w-4xl"},{default:s(()=>[t("form",Jd,[t("div",Yd,[t("div",null,[e(l(i),{label:"N° RUC"},{default:s(()=>[e(l(Re),{type:"text",placeholder:"RUC",modelValue:ee.value.document,"onUpdate:modelValue":d[26]||(d[26]=o=>ee.value.document=o),modelModifiers:{trim:!0}},{append:s(()=>[e(l(U),{text:"SUNAT",btnClass:"btn-outline-dark ",onClick:M(il,["prevent"])})]),_:1},8,["modelValue"])]),_:1})]),t("div",Qd,[e(l(i),{label:"Razón social del proveedor"},{default:s(()=>[e(l(V),{modelValue:ee.value.fullname,"onUpdate:modelValue":d[27]||(d[27]=o=>ee.value.fullname=o),modelModifiers:{trim:!0},placeholder:"Razón social del proveedor",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Nombre comercial"},{default:s(()=>[e(l(V),{modelValue:ee.value.tradename,"onUpdate:modelValue":d[28]||(d[28]=o=>ee.value.tradename=o),modelModifiers:{trim:!0},placeholder:"Nombre comercial",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",Wd,[t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:N.value,label:"Departamento",modelValue:l(se),"onUpdate:modelValue":d[29]||(d[29]=o=>Z(se)?se.value=o:se=o),class:"department-select",onChange:Xe,placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:L.value,label:"Provincias",modelValue:l(D),"onUpdate:modelValue":d[30]||(d[30]=o=>Z(D)?D.value=o:D=o),class:"province-select",onChange:De,placeholder:""},null,8,["options","modelValue"])]),_:1})]),t("div",null,[e(l(i),null,{default:s(()=>[e(l(y),{options:T.value,label:"Distritos",modelValue:l(_e),"onUpdate:modelValue":d[31]||(d[31]=o=>Z(_e)?_e.value=o:_e=o),class:"district-select",placeholder:""},null,8,["options","modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Dirección"},{default:s(()=>[e(l(V),{modelValue:ee.value.address,"onUpdate:modelValue":d[32]||(d[32]=o=>ee.value.address=o),modelModifiers:{trim:!0},placeholder:"Dirección",required:"",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",Zd,[t("div",null,[e(l(i),{label:"Celular"},{default:s(()=>[e(l(V),{modelValue:ee.value.cellphone,"onUpdate:modelValue":d[33]||(d[33]=o=>ee.value.cellphone=o),modelModifiers:{trim:!0},placeholder:"Celular","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Teléfono"},{default:s(()=>[e(l(V),{modelValue:ee.value.telephone,"onUpdate:modelValue":d[34]||(d[34]=o=>ee.value.telephone=o),modelModifiers:{trim:!0},placeholder:"Teléfono","allow-only-numbers":"",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Correo electrónico"},{default:s(()=>[e(l(V),{modelValue:ee.value.email,"onUpdate:modelValue":d[35]||(d[35]=o=>ee.value.email=o),modelModifiers:{trim:!0},placeholder:"Correo electrónico",type:"email",class:"w-full"},null,8,["modelValue"])]),_:1})])]),t("div",Kd,[Xd,t("div",er,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(el,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(ul,["prevent"])})])])])]),_:1},8,["activeModal"]),e(l(ue),{title:"Registrar cuenta bancaria",label:"Modal title",activeModal:P.value,onClose:d[48]||(d[48]=o=>P.value=!1)},{default:s(()=>[t("form",lr,[t("div",tr,[t("div",null,[e(l(i),{label:"Sucursal",class:"block"},{default:s(()=>[e(l(y),{modelValue:Oe.value,"onUpdate:modelValue":d[37]||(d[37]=o=>Oe.value=o),options:Ae,required:"",class:"oficinaprincipal-select"},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Tipo de cuenta",class:"block"},{default:s(()=>[e(l(y),{modelValue:je.value,"onUpdate:modelValue":d[38]||(d[38]=o=>je.value=o),options:ne,required:"",class:"typeaccount-select"},null,8,["modelValue"])]),_:1})])]),t("div",or,[t("div",ar,[e(l(i),{label:"Banco",class:"flex-1"},{default:s(()=>[e(l(y),{options:We.value,modelValue:we.value,"onUpdate:modelValue":d[39]||(d[39]=o=>we.value=o),class:"banck-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:M(oe,["prevent"]),class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),t("div",null,[e(l(i),{label:"Moneda",class:"block"},{default:s(()=>[e(l(y),{modelValue:$e.value,"onUpdate:modelValue":d[40]||(d[40]=o=>$e.value=o),options:re,required:"",class:"money-select"},null,8,["modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Nombre cuenta",class:"block"},{default:s(()=>[e(l(V),{modelValue:G.value.name,"onUpdate:modelValue":d[41]||(d[41]=o=>G.value.name=o),modelModifiers:{trim:!0},placeholder:"Nombre cuenta",required:""},null,8,["modelValue"])]),_:1})]),t("div",sr,[t("div",null,[e(l(i),{label:"N° de cuenta",class:"block"},{default:s(()=>[e(l(V),{modelValue:G.value.number_account,"onUpdate:modelValue":d[42]||(d[42]=o=>G.value.number_account=o),modelModifiers:{trim:!0},placeholder:"N° de cuenta",required:""},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"N° CCI (Código interbancario)",class:"block"},{default:s(()=>[e(l(V),{modelValue:G.value.cci_account,"onUpdate:modelValue":d[43]||(d[43]=o=>G.value.cci_account=o),modelModifiers:{trim:!0},placeholder:"N° CCI",required:""},null,8,["modelValue"])]),_:1})])]),t("div",null,[e(l(i),{label:"Titular cuenta",class:"block"},{default:s(()=>[e(l(V),{modelValue:G.value.headline,"onUpdate:modelValue":d[44]||(d[44]=o=>G.value.headline=o),modelModifiers:{trim:!0},placeholder:"Titular cuenta",required:""},null,8,["modelValue"])]),_:1})]),t("div",null,[e(l(i),{label:"Descripción",class:"block"},{default:s(()=>[e(l(wl),{modelValue:G.value.description,"onUpdate:modelValue":d[45]||(d[45]=o=>G.value.description=o),modelModifiers:{trim:!0},placeholder:"Descripción"},null,8,["modelValue"])]),_:1})]),t("div",nr,[dr,t("div",rr,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(nl,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(m,["prevent"])})])])]),e(l(ue),{title:"Registrar banco",label:"Modal title",activeModal:O.value,onClose:d[47]||(d[47]=o=>O.value=!1)},{default:s(()=>[t("form",ir,[e(l(V),{label:"Nombre",name:"pn",type:"text",placeholder:"Ingresar nombre ",modelValue:ye.value.description,"onUpdate:modelValue":d[46]||(d[46]=o=>ye.value.description=o)},null,8,["modelValue"]),t("div",cr,[ur,t("div",mr,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:M(qe,["prevent"])}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:M(ol,["prevent"])})])])])]),_:1},8,["activeModal"])]),_:1},8,["activeModal"]),t("div",pr,[e(l(i),{name:"d5",class:"mt-1"},{default:s(()=>[vr,e(l(y),{id:"payment-type",options:rl,modelValue:Fe.value,"onUpdate:modelValue":d[49]||(d[49]=o=>Fe.value=o),class:"pago-select mt-2"},null,8,["modelValue"])]),_:1}),Fe.value==="account_deposit"?(h(),_(pe,{key:0},[t("div",br,[e(l(i),{label:"Cuenta destino",class:"flex-1"},{default:s(()=>[e(l(y),{options:Ge.value,modelValue:be.value,"onUpdate:modelValue":d[50]||(d[50]=o=>be.value=o),class:"cuentadestino-select",placeholder:"Seleccione"},null,8,["options","modelValue"])]),_:1}),t("button",{onClick:X,class:"ml-2 mt-7 p-2 btn-outline-dark"},"+")]),e(l(i),{label:"N° de Operación"},{default:s(()=>[e(l(V),{type:"text",placeholder:"Ingrese N° de Operación",modelValue:$.value.reference_operation,"onUpdate:modelValue":d[51]||(d[51]=o=>$.value.reference_operation=o),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})],64)):j("",!0),e(l(i),{label:"Monto",name:"d6"},{default:s(()=>[e(l(V),{type:"text",placeholder:"Monto",modelValue:$.value.amount,"onUpdate:modelValue":d[52]||(d[52]=o=>$.value.amount=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),le("amount")?j("",!0):(h(),_("span",fr,"Por favor ingrese monto"))]),_:1})]),t("div",gr,[t("div",hr,[e(l(U),{text:"Cancelar",btnClass:"btn-light mr-2",onClick:W}),e(l(U),{type:"submit",text:"Guardar Cambios",btnClass:"btn-dark",onClick:Qe})])])],32)]),_:1},8,["activeModal","onClose"])])}}},Il=Te().headers(),gl=sl(),yr={components:{Card:_l,Icon:yl,Breadcrumb:Ll,ListIngresoEgreso:Ls,Switch:Yl,CajaHistorialA:ms,ClientAddModal:Cd,ClientEditModal:ql,ClientEditModalEgresoA:Ol,ClientAddModalEgresoA:_r,TransferirCajaModalPrincipal:an,TransferirCajaModal:Ws,ListEgreso:Wa,List:Vo,ModalCierreCaja:Mn,VueTailwindDatePicker:Al,CityTouristicAddModal:pn,Swiper:Gl,SwiperSlide:zl,Select:y,Button:U,Textinput:V},data(){return{id:"",summary_paymethods:[],moneybox:{},selected:2,activeIndex:null,monto:"2,447.700",cajaInicial:"",authStore:Te(),applyForEntireMonth:!1,applyForHistory:!1,idBoxed:"1",showModalCierre:!1,cards:[{bg:"from-[#1EABEC] to-primary-500 ",cardNo:"****  ****  **** 3945"}],statistics:[{title:"Sales",count:"354",bg:"bg-warning-500",text:"text-primary-500",percent:"25.67% ",icon:"heroicons:arrow-trending-up",img:Pl,percentClass:"text-primary-500"},{title:"Revenue ",count:"$86,954",bg:"bg-info-500",text:"text-primary-500",percent:"8.67%",icon:"heroicons:arrow-trending-up",img:jl,percentClass:"text-primary-500"},{title:"Conversion",count:"15%",bg:"bg-primary-500",text:"text-danger-500",percent:"1.67%  ",icon:"heroicons:arrow-trending-down",img:Nl,percentClass:"text-danger-500"},{title:"Leads",count:"654",bg:"bg-success-500",text:"text-primary-500",percent:"11.67%  ",icon:"heroicons:arrow-trending-up",img:Rl,percentClass:"text-primary-500"}],boxesOptions:[{value:2,label:"Caja Ericka"}]}},setup(){return{modules:[Hl]}},props:{activeModal:Boolean},methods:{openBox(){gl.openProject()},handleVerDocumento(){x.get(`https://thtsystemv2.tech/public/api/v1/list-box-cuadre-ericka/${this.id}`).then(b=>{}).catch(b=>{console.error("Error al obtener la URL del PDF:",b),window.open(b.config.url,"_blank")})},openBoxClosed(){this.id=this.moneybox[0].id,this.monto=this.monto,this.showModalCierre=!0},transferirCajaGeneral(){gl.openTransfer()},transferirCajaPrincipal(){gl.openTransfer2()},async fetchSummaryPaymethods(b){try{const p=await x.get(`https://thtsystemv2.tech/public/api/v1/moneyboxes-ericka/list/${b}`,Il);this.moneybox=[p.data.moneybox],this.id=this.moneybox[0].id,this.monto=this.moneybox[0].balance,this.cajaInicial=p.data.penultimate_amount_closing,this.summary_paymethods=p.data.summary_paymethods}catch(p){console.error("Error fetching summary_paymethods:",p)}},async fetchSummaryPaymethodsInit(){try{const b=await x.get("https://thtsystemv2.tech/public/api/v1/moneyboxes-ericka/list",Il);this.summary_paymethods=b.data.summary_paymethods,b.data.moneybox===!1?this.moneybox=[{date_opening:b.data.date}]:this.moneybox=[b.data.moneybox]}catch(b){console.error("Error fetching summary_paymethods:",b)}},handleGuardadoExitosoTransferCajaPrincipal(){location.reload(!0)},handleGuardadoExitoso(b){const p=b.data.moneybox_id;this.id=p,this.fetchSummaryPaymethods(this.id)},openProject(){gl.openProject2()},openEgreso(){gl.openProject3()},boldUpperCase(b){return b.toUpperCase()}},mounted(){x.get("https://thtsystemv2.tech/public/api/v1/moneyboxes-ericka/last-id-with-other-owner-ericka",Il).then(b=>{const{last_id:p,has_null_date_closing:C}=b.data;this.id=p,C?this.fetchSummaryPaymethods(this.id):(this.id=null,this.fetchSummaryPaymethodsInit())}).catch(b=>{console.error("Error al obtener el último ID:",b),this.id=null,this.fetchSummaryPaymethodsInit()})},watch:{id(b,p){}},computed:{authenticatedUser(){return Te().user}}},xr={class:"flex justify-between flex-wrap items-center"},Vr={class:"flex sm:space-x-4 space-x-2 sm:justify-end items-center md:mb-6 mb-4 rtl:space-x-reverse"},Cr=t("span",{class:"input-group-prepend w-full bg-gray-200 bg-opacity-25 px-2 py-1 rounded-lg font-bold text-slate-600 dark:text-slate-300"}," Caja seleccionada ",-1),kr={class:"space-y-5 card-auto"},wr={class:"grid grid-cols-12 gap-5"},Er={class:"text-lg flex uppercase text-slate-500 dark:text-slate-300 mb-1 leading-[12px] items-center font-bold"},$r={key:0},Mr={class:"max-w-[90%] mx-auto mt-2"},Ir={class:"h-[150px] bg-gradient-to-r relative rounded-md z-[1] p-4 text-white from-teal-500 to-orange-300"},Sr=t("div",{class:"font-bold text-lg mb-2"},"Caja abierta",-1),Ur={class:"text-center mt-4"},Tr={class:"font-bold text-4xl"},Dr=t("div",{class:"overlay absolute left-0 top-0 h-full w-full -z-[1]"},[t("img",{src:Jl,alt:"",class:"h-full w-full object-cover"})],-1),Pr={class:"flex justify-center mt-6"},jr={class:"font-bold mr-5 text-slate-600 dark:text-slate-300"},Nr={class:"text-lg"},Rr=t("span",{class:"ml-2"},"Arquero",-1),Ar={class:"text-lg"},qr=t("span",{class:"ml-2"},"Cerrar Caja",-1),Or={class:"text-lg"},Br=t("span",{class:"ml-2"},"Transferir Caja Principal",-1),Lr={class:"text-lg"},Fr=t("span",{class:"ml-2"},"Transferir Caja General",-1),Gr={class:"text-lg flex uppercase text-slate-500 dark:text-slate-300 mb-1 leading-[12px] items-center font-bold"},zr={key:0},Hr={class:"flex justify-center items-center mt-6"},Jr={class:"text-8xl"},Yr=t("div",{class:"text-center text-slate-500 dark:text-slate-300 mt-4 font-bold"}," Aún no tiene abierto la caja para la fecha actual ",-1),Qr={class:"flex justify-center mt-6"},Wr={class:"text-lg"},Zr=t("span",null,"Abrir Caja",-1),Kr={class:"lg:col-span-6 col-span-12"},Xr={class:"grid xl:grid-cols-4 lg:grid-cols-2 col-span-1 gap-3"},ei={class:"block mb-6 text-sm text-slate-900 dark:text-white font-bold"},li={class:"block mb- text-2xl text-slate-900 dark:text-white font-bold mb-14"},ti={class:"flex space-x-2 rtl:space-x-reverse"},oi={class:"flex-1 text-sm"},ai=t("span",{class:"block mb-1 text-slate-600 dark:text-slate-300"},"N° transacciones",-1),si={class:"mt-3 flex justify-start items-start"},ni={class:"mr-5"},di={class:"mt-3 flex justify-between items-start"},ri={class:"w-full"};function ii(b,p,C,w,f,I){const P=S("Select"),O=S("Button"),N=S("Icon"),T=S("swiper-slide"),L=S("swiper"),W=S("Card"),$=S("CityTouristicAddModal"),ve=S("TransferirCajaModal"),F=S("TransferirCajaModalPrincipal"),Pe=S("ClientAddModal"),R=S("ClientEditModal"),B=S("ClientAddModalEgresoA"),k=S("ClientEditModalEgresoA"),ae=S("ModalCierreCaja"),ge=S("Switch"),re=S("ListIngresoEgreso"),Se=S("CajaHistorialA");return h(),_("div",null,[t("div",xr,[t("div",Vr,[Cr,e(P,{options:f.boxesOptions,modelValue:f.selected,"onUpdate:modelValue":p[0]||(p[0]=K=>f.selected=K),class:"w-full rounded-lg shadow-md px-4 py-2 bg-white",placeholder:"Caja Seleccionada"},null,8,["options","modelValue"]),e(O,{icon:"heroicons-outline:plus",text:"Agregar Ingreso",btnClass:"btn-dark dark:bg-slate-800 h-min text-sm font-normal",iconClass:"text-lg",onClick:I.openProject},null,8,["onClick"]),e(O,{icon:"heroicons-outline:plus",text:"Agregar Egreso",btnClass:"btn-dark dark:bg-slate-800 h-min text-sm font-normal",iconClass:"text-lg",onClick:I.openEgreso},null,8,["onClick"])]),t("div",kr,[t("div",wr,[f.id?(h(!0),_(pe,{key:0},pl(f.moneybox,(K,te)=>(h(),_("div",{class:"lg:col-span-6 col-span-12 space-y-5",key:te},[e(W,{title:K.date_opening},{header:s(()=>[t("span",Er,[I.authenticatedUser?(h(),_("span",$r,Y(I.boldUpperCase(I.authenticatedUser.name)),1)):j("",!0),e(N,{icon:"heroicons-solid:user"})])]),default:s(()=>[t("div",Mr,[e(L,{effect:"cards",grabCursor:!0,modules:w.modules,class:"mySwiper"},{default:s(()=>[e(T,null,{default:s(()=>[t("div",Ir,[Sr,t("div",Ur,[t("div",Tr," S/. "+Y(f.monto),1)]),Dr])]),_:1}),e(T)]),_:1},8,["modules"])]),t("div",Pr,[t("span",jr,"Caja inicial S/ "+Y(f.cajaInicial),1),t("button",{class:"inline-flex items-center justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-teal-500 hover:bg-teal-600 mr-5",onClick:p[1]||(p[1]=M(ye=>I.handleVerDocumento(),["prevent"]))},[t("span",Nr,[e(N,{icon:"heroicons:arrow-down-tray"})]),Rr]),t("button",{class:"inline-flex items-center justify-center py-2 px-2 border border-transparent text-sm font-medium rounded-md text-white bg-orange-500 hover:bg-orange-600 mr-5",onClick:p[2]||(p[2]=M(ye=>I.openBoxClosed(),["prevent"]))},[t("span",Ar,[e(N,{icon:"heroicons:lock-closed"})]),qr]),t("button",{class:"inline-flex items-center justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-500 hover:bg-blue-600 mr-5",onClick:p[3]||(p[3]=M(ye=>I.transferirCajaPrincipal(),["prevent"]))},[t("span",Or,[e(N,{icon:"heroicons:currency-dollar"})]),Br]),t("button",{class:"inline-flex items-center justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-purple-500 hover:bg-purple-600",onClick:p[4]||(p[4]=M(ye=>I.transferirCajaGeneral(),["prevent"]))},[t("span",Lr,[e(N,{icon:"heroicons:currency-dollar"})]),Fr])])]),_:2},1032,["title"])]))),128)):(h(!0),_(pe,{key:1},pl(f.moneybox,(K,te)=>(h(),_("div",{class:"lg:col-span-6 col-span-12 space-y-5",key:te},[e(W,{title:K.date_opening},{header:s(()=>[t("span",Gr,[I.authenticatedUser?(h(),_("span",zr,Y(I.boldUpperCase(I.authenticatedUser.name)),1)):j("",!0),e(N,{icon:"heroicons-solid:user"})])]),default:s(()=>[t("div",Hr,[t("span",Jr,[e(N,{icon:"heroicons-solid:cube"})])]),Yr,t("div",Qr,[t("button",{class:"invocie-btn inline-flex btn btn-sm whitespace-nowrap space-x-1 cursor-pointer bg-green-900 dark:bg-green-700 btn-md h-min text-sm font-normal text-white rtl:space-x-reverse",onClick:p[5]||(p[5]=M(ye=>I.openBox(),["prevent"]))},[t("span",Wr,[e(N,{icon:"heroicons:lock-open"})]),Zr])])]),_:2},1032,["title"])]))),128)),t("div",Kr,[e(W,{title:"Especificaciones"},{default:s(()=>[t("div",Xr,[(h(!0),_(pe,null,pl(f.summary_paymethods,(K,te)=>(h(),_("div",{key:te,class:vl([K.bg,"rounded-md p-4 bg-opacity-[0.15] dark:bg-opacity-25 relative z-[1]"])},[(h(!0),_(pe,null,pl(f.statistics,(ye,G)=>(h(),_("div",{class:"overlay absolute left-0 top-0 w-full h-full z-[-1]",key:G}))),128)),t("span",ei,Y(K.title),1),t("span",li,"S/. "+Y(K.count),1),t("div",ti,[t("div",{class:vl(["flex-none text-xl",K.text])},[e(N,{icon:K.icon},null,8,["icon"])],2),t("div",oi,[t("span",{class:vl(["block mb-[2px]",K.percentClass])},Y(K.percent),3),ai])])],2))),128))])]),_:1})])])]),e($,{onGuardadoExitoso:I.handleGuardadoExitoso},null,8,["onGuardadoExitoso"]),e(ve,{id:f.id,onGuardadoExitoso:I.handleGuardadoExitosoTransferCajaPrincipal},null,8,["id","onGuardadoExitoso"]),e(F,{id:f.id,onGuardadoExitoso:I.handleGuardadoExitosoTransferCajaPrincipal},null,8,["id","onGuardadoExitoso"]),e(Pe),e(R),e(B),e(k),e(ae,{activeModal:f.showModalCierre,id:f.id,monto:f.monto,onClose:p[6]||(p[6]=K=>f.showModalCierre=!1)},null,8,["activeModal","id","monto"])]),t("div",si,[t("div",ni,[e(ge,{label:"Ver Historial",modelValue:f.applyForHistory,"onUpdate:modelValue":p[7]||(p[7]=K=>f.applyForHistory=K),class:"mr-2"},null,8,["modelValue"])])]),t("div",di,[t("div",ri,[!f.applyForEntireMonth&&!f.applyForHistory?(h(),hl(re,{key:0,class:"mt-5"})):j("",!0),f.applyForHistory?(h(),hl(Se,{key:1,class:"mt-5"})):j("",!0)])])])}const Qi=bl(yr,[["render",ii]]);export{Qi as default};
